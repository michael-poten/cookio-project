import{C as Ue,R as U,I as Fe}from"./Bft2VglB.js";import{_ as Se,M as Ee,K as Me,N as de,O as Ge,J as Be,P as Ae,r as D,o as ue,W as Ne,X as Ke,g,x as v,y as s,B as a,Q as h,R as d,z as r,C as i,D as _,U as w,A as C,S as A,T as N,Y as We,Z as He,V as Oe}from"./vCgPr7MF.js";import{I as Ze}from"./Cst-e0XL.js";import{R as je}from"./BfiaDpF-.js";import"./CLCqDWus.js";const Je={class:"pa-4"},Le={style:{width:"100%"}},Ye={class:"text-center"},Qe={key:0},Xe={class:"mt-2"},qe={key:2,class:"mt-2"},en={key:3,class:"mt-2"},nn={key:5,class:"mt-2"},tn={key:0},sn={key:0},ln=["href"],an={key:1},on=["href"],dn={style:{"background-color":"rgb(166, 190, 226)","font-size":"0.7em"},class:"pl-1"},un={key:0,class:"text-center mt-8 text-high-emphasis",style:{width:"100%"}},rn={key:0,class:"mt-2 mb-1",style:{"font-size":"1.2em"}},cn={class:"overlay-top-left"},mn={key:0},fn={key:0,class:"px-1 pb-1",style:{"background-color":"rgba(93,93,93,0.66)"}},vn={key:1},gn={key:0},hn={key:1},pn={key:2},yn={key:0,class:"overlay-bottom-right"},kn={key:0,style:{"background-color":"rgba(93,93,93,0.66)"},class:"px-1"},_n={key:1,style:{"background-color":"rgba(93,93,93,0.66)"},class:"px-1 mt-1"},wn={class:"overlay-bottom-left pa-1"},In={key:1,style:{"background-color":"rgba(93,93,93,0.66)","font-size":"0.8em"},class:"pa-1"},bn={key:0},Pn={key:0},Rn={class:"mr-0",style:{"font-weight":"600","font-size":"1.6em"}},xn={key:1},Cn={key:1,class:"ma-2"},Tn={style:{"font-size":"1.2em"},class:"text-medium-emphasis"},zn={key:2,class:"ma-2"},Dn={style:{"font-size":"1.2em"},class:"text-medium-emphasis"},Vn={key:3,class:"ma-2"},$n=["onClick"],Un={key:4,class:"ma-2"},Fn={__name:"RecipeOverview",setup(re){const H=Ee(),O=Me(),{recipes:V}=de(H),{authInfo:P,githubMode:p,lanAddress:ce,showFilter:Z}=de(O);Ge(),Be(),Ae();const T=D({}),X=D(null),q=D(null),ee=D(null),x=D(!1),K=D([]),G=D([]),me=D([{title:"Mahlzeiten",open:!1,items:[{name:"FrÃ¼hstÃ¼ck",selected:!1,icon:"ðŸ³"},{name:"Vorspeise",selected:!1,icon:"ðŸ¥—"},{name:"Hauptmahlzeit",selected:!1,icon:"ðŸ½ï¸"},{name:"Dessert",selected:!1,icon:"ðŸ¨"},{name:"Kuchen",selected:!1,icon:"ðŸ°"},{name:"GebÃ¤ck",selected:!1,icon:"ðŸ¥"},{name:"Snack",selected:!1,icon:"ðŸ¿"},{name:"Grill",selected:!1,icon:"ðŸ”¥"},{name:"Weihnachten",selected:!1,icon:"ðŸŽ„"}]},{title:"Zutaten",open:!1,items:[{name:"Kartoffeln",selected:!1,icon:"ðŸ¥”"},{name:"Reis",selected:!1,icon:"ðŸš"},{name:"Pasta",selected:!1,icon:"ðŸ"},{name:"Risotto",selected:!1,icon:"ðŸš"},{name:"Pilze",selected:!1,icon:"ðŸ„"},{name:"KÃ¼rbis",selected:!1,icon:"ðŸŽƒ"},{name:"Gnocchi",selected:!1,icon:"ðŸ¥”"},{name:"SpÃ¤tzle",selected:!1,icon:"ðŸ"},{name:"Halloumi",selected:!1,icon:"ðŸ§€"},{name:"Tortellini",selected:!1,icon:"ðŸ¥"},{name:"Pesto",selected:!1,icon:"ðŸŒ¿"},{name:"KÃ¤se",selected:!1,icon:"ðŸ§€"}]},{title:"Zubereitungsart",open:!1,items:[{name:"Pizza",selected:!1,icon:"ðŸ•"},{name:"Auflauf",selected:!1,icon:"ðŸ¥˜"},{name:"Eintopf",selected:!1,icon:"ðŸ²"},{name:"Suppe",selected:!1,icon:"ðŸ¥£"},{name:"Salat",selected:!1,icon:"ðŸ¥—"},{name:"Bowl",selected:!1,icon:"ðŸ¥™"},{name:"Curry",selected:!1,icon:"ðŸ›"},{name:"Fast-Food",selected:!1,icon:"ðŸ”"},{name:"Gourmet",selected:!1,icon:"ðŸ‘¨â€ðŸ³"},{name:"Wrap",selected:!1,icon:"ðŸ¥™"},{name:"Sandwich",selected:!1,icon:"ðŸ¥ª"},{name:"Burger",selected:!1,icon:"ðŸ”"},{name:"Thermomix",selected:!1,icon:"âš™ï¸"},{name:"Flammkuchen",selected:!1,icon:"ðŸ•"}]},{title:"Fleischtyp",open:!1,items:[{name:"vegetarisch",selected:!1,icon:"ðŸ¥¦"},{name:"vegan",selected:!1,icon:"ðŸŒ±"},{name:"Tofu",selected:!1,icon:"ðŸ§ˆ"},{name:"Soja",selected:!1,icon:"ðŸ«˜"},{name:"Fisch",selected:!1,icon:"ðŸŸ"},{name:"Fleisch",selected:!1,icon:"ðŸ¥©"},{name:"HÃ¤hnchenfleisch",selected:!1,icon:"ðŸ—"},{name:"Rindfleisch",selected:!1,icon:"ðŸ¥©"},{name:"Schweinefleisch",selected:!1,icon:"ðŸ–"}]},{title:"LÃ¤nderkÃ¼che",open:!1,items:[{name:"italienisch",selected:!1,icon:"ðŸ‡®ðŸ‡¹"},{name:"mediterran",selected:!1,icon:"ðŸŒ¿"},{name:"mexikanisch",selected:!1,icon:"ðŸŒ®"},{name:"amerikanisch",selected:!1,icon:"ðŸŸ"},{name:"franzÃ¶sisch",selected:!1,icon:"ðŸ¥–"},{name:"afrikanisch",selected:!1,icon:"ðŸª˜"},{name:"arabisch",selected:!1,icon:"ðŸ§†"},{name:"deutsch",selected:!1,icon:"ðŸ¥¨"},{name:"griechisch",selected:!1,icon:"ðŸ¥™"},{name:"asiatisch",selected:!1,icon:"ðŸœ"},{name:"japanisch",selected:!1,icon:"ðŸ£"},{name:"koreanisch",selected:!1,icon:"ðŸ±"},{name:"spanisch",selected:!1,icon:"ðŸ¥˜"},{name:"russisch",selected:!1,icon:"ðŸ¥Ÿ"},{name:"thailÃ¤ndisch",selected:!1,icon:"ðŸ²"},{name:"tÃ¼rkisch",selected:!1,icon:"ðŸ¢"},{name:"vietnamesisch",selected:!1,icon:"ðŸœ"},{name:"indisch",selected:!1,icon:"ðŸ›"}]},{title:"Jahreszeiten",open:!1,items:[{name:"Winter",selected:!1,icon:"â„ï¸"},{name:"FrÃ¼hling",selected:!1,icon:"ðŸŒ¸"},{name:"Sommer",selected:!1,icon:"ðŸŒž"},{name:"Herbst",selected:!1,icon:"ðŸ‚"}]}]),u=D({duration:[0,120],rating:1,cookedDays:[0,10],tags:[],showPlanned:!0,showTags:!1,showUnrated:!0}),fe=D(["Fleisch","Fisch","Reis","GefÃ¼llte Nudeln","Pasta","Gnocchi","Getreideprodukte","Tofu","Kartoffeln","Teigware"]),b=D(null);ue(async()=>{await $(!0),u.value.showPlanned=p.value,await j(),window.addEventListener("focus",j)}),Ne(()=>{window.removeEventListener("focus",j)}),Ke(u,t=>{setTimeout(()=>{L()},400)},{deep:!0});async function j(){console.log("refreshTodayRecipe");let t=await O.getAuthInfo();const e=new Date,l=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),c=String(e.getDate()).padStart(2,"0");let y=t.calendarPlan,m=[];if(y[`${l}-${o}-${c}`]){if(y[`${l}-${o}-${c}`].type==="RECIPE"&&!y[`${l}-${o}-${c}`].recipeId){let f=P.value.calendarPlan;f||(f={});const F=[],E=new Date;for(const I of Object.keys(f))if(f[I]&&f[I].recipeId){const M=V.value.find(B=>B.id===f[I].recipeId);M.planned&&!M.cooked&&new Date(I).getTime()>=E.getTime()&&(F.push(f[I].recipeId),console.log("recipeTitle",f[I].recipeTitle))}m=V.value.filter(I=>I.planned&&!I.cooked&&!F.includes(I.id))}if(m.length===1)b.value={recipeTitle:m[0].title,recipeId:m[0].id,recipes:[]};else{let f=y[`${l}-${o}-${c}`].recipeTitle;!f&&(!m||m.length===0)&&(y[`${l}-${o}-${c}`].type==="OTHER"?f="Sonstige Mahlzeit - keine Beschreibung vorhanden":f="AuswÃ¤rts / Lieferung - keine Beschreibung"),b.value={recipeTitle:f,recipeId:y[`${l}-${o}-${c}`].recipeId,recipes:m}}}}function J(t,e){return e?"/images/analyzing.png":p.value?"https://mmhhhh.de/data/home/recipes/"+t+"/image.jpg?t="+(T.value[t]?T.value[t]:0):ce.value+"api/"+P.value.userId+"/recipes/"+t+"/image?t="+(T.value[t]?T.value[t]:0)}function L(){if(!V.value)return G.value=[],[];let t=[];return x.value?t=K.value:t=V.value,t=t.filter(e=>{if(!u.value.showPlanned&&e.planned&&!e.imageInProgress&&!e.sectionsInProgress&&!e.ingredientsInProgress||e.originalId||e.isNew||!e.duration&&u.value.duration[0]>0||e.duration<u.value.duration[0]||e.duration>u.value.duration[1])return!1;if(u.value.cookedDays){const l=[u.value.cookedDays[0]*7,u.value.cookedDays[1]===10?5e4:u.value.cookedDays[1]*7];if((e.lastCookedDays===void 0||e.lastCookedDays===null)&&l[1]<5e4||e.lastCookedDays!==void 0&&e.lastCookedDays!==null&&(e.lastCookedDays<l[0]||e.lastCookedDays>l[1]))return!1}if(p.value&&!e.uploaded)return!1;if(u.value.rating>0||!u.value.showUnrated){if(!u.value.showUnrated&&!e.rating)return!1;const l=u.value.rating-1,o=e.rating;if(o&&o<l)return!1}return!(u.value.tags.length>0&&(!e.tags||!u.value.tags.every(l=>e.tags.includes(l))))}),x.value?(G.value=t,t):(t=t.sort((e,l)=>{const o=!!e.ingredientsInProgress||!!e.sectionsInProgress||!!e.imageInProgress,c=!!l.ingredientsInProgress||!!l.sectionsInProgress||!!l.imageInProgress;if(o-c!==0)return o-c;const y=e.planned!==null&&e.planned!==void 0?e.planned:!1,m=l.planned!==null&&l.planned!==void 0?l.planned:!1;if(y-m!==0)return y-m;const f=e.uploaded?e.uploaded:!1,F=l.uploaded?l.uploaded:!1;if(F-f!==0)return F-f;const E=e.rating,I=l.rating,M=typeof E=="number"&&E!==null,B=typeof I=="number"&&I!==null;return!M&&!B?0:M?B?I-E:1:-1}).reverse(),G.value=t,t)}function ve(){x.value?(u.value.showPlanned=!1,u.value.showUnrated=!0,u.value.cookedDays=[0,10],u.value.showTags=!1,u.value.tags=[],x.value=!1):(u.value.showPlanned=!1,u.value.showTags=!1,u.value.showUnrated=!0,u.value.cookedDays=[0,10],u.value.tags=[],x.value=!0,ne())}function ne(){let t=[];V.value.forEach(c=>t.push(c));for(let c=t.length-1;c>0;c--){const y=Math.floor(Math.random()*(c+1));[t[c],t[y]]=[t[y],t[c]]}K.value=t;const e=[],l=[];z([],["Fleisch"],e,l,2),z([],["Fisch"],e,l,2),z(["Fleisch","Tofu"],["Pasta"],e,l,3),z(["Fleisch","Tofu"],["GefÃ¼llte Nudeln"],e,l,2),z(["Fleisch","Tofu"],["Reis"],e,l,2),z(["Fleisch","Tofu"],["Gnocchi"],e,l,1),z(["Fleisch","Tofu"],["Getreideprodukte"],e,l,1),z(["Fleisch","Tofu"],["Kartoffeln"],e,l,1),z(["Fleisch","Tofu"],["Teigware"],e,l,1),z(["Fleisch"],["Tofu"],e,l,1),z(["Fleisch","Pasta"],["Tofu"],e,l,1);let o=[];l.forEach(c=>o.push(c));for(let c=o.length-1;c>0;c--){const y=Math.floor(Math.random()*(c+1));[o[c],o[y]]=[o[y],o[c]]}K.value=o.slice(0,8),L()}async function te(t){if(await navigator.clipboard.writeText("https://mmhhhh.de/recipes/go?id="+t.id),navigator.share)try{await navigator.share({title:t.title,text:t.title,url:"https://mmhhhh.de/recipes/go?id="+t.id})}catch(e){console.error("Teilen abgebrochen",e)}}function z(t,e,l,o,c){let y=K.value.filter(m=>!l.includes(m.id)).filter(m=>!m.planned).filter(m=>!m.voting||m.voting===0).filter(m=>{const f=[21,5e4];return!((m.lastCookedDays===void 0||m.lastCookedDays===null)&&f[1]<5e4||m.lastCookedDays!==void 0&&m.lastCookedDays!==null&&(m.lastCookedDays<f[0]||m.lastCookedDays>f[1]))}).filter(m=>t?t.every(f=>!(m.tags?m.tags:[]).includes(f)):!0).filter(m=>e?e.every(f=>(m.tags?m.tags:[]).includes(f)):!0).slice(0,c);y.forEach(m=>l.push(m.id)),y.forEach(m=>o.push(m))}async function ge(t,e){t.tags&&t.tags.includes(e)?t.tags=t.tags.filter(o=>o!==e):(t.tags||(t.tags=[]),t.tags.push(e));const l={tags:t.tags};await U.updateRecipe(P.value.userId,t.id,l),$()}function he(t){p.value?window.open("https://mmhhhh.de/recipes/go?id="+t.id,"_blank","noopener"):window.open("/recipes/go?id="+t.id,"_blank","noopener")}async function pe(t){if(t.planned){const e={voting:0,planned:!1,cooked:!1,ordered:!1};await U.updateRecipe(P.value.userId,t.id,e),U.uploadRecipeToGithub(P.value.userId,null),t.voting=0,t.planned=!1,t.uploaded=!1,t.ordered=!1}else{const e={voting:t.voting?t.voting+1:1};await U.updateRecipe(P.value.userId,t.id,e),t.voting=t.voting?t.voting+1:1}await $()}async function ye(t){t.planned=!0,t.voting=0,await U.planRecipe(P.value.userId,t.id),await $()}async function ke(t){await U.uploadRecipeToGithub(P.value.userId,t?t.id:null),t&&(t.uploaded=!0,await $())}async function _e(t){t.voting=0;const e={voting:0};await U.updateRecipe(P.value.userId,t.id,e),await $()}function we(t){const e=u.value.tags.indexOf(t);e===-1?u.value.tags.push(t):u.value.tags.splice(e,1)}async function $(t=!1){console.log("authInfo userId",P.value.userId),V.value=await H.getAllRecipes(P.value.userId),!p.value&&t&&W(),setTimeout(()=>{L()},400)}function se(t){X.value(t).then(async e=>{e&&(t?setTimeout(()=>{const l=[t.id];W(l)},200):W())})}async function W(t){if(!p.value&&(await $(),V.value)){const e=V.value.filter(o=>!o.ingredientsInProgress&&!o.sectionsInProgress&&!o.imageInProgress).map(o=>o.id);t&&t.forEach(o=>{e.includes(o)&&(T.value[o]?T.value[o]++:T.value[o]=1)});const l=V.value.filter(o=>o.ingredientsInProgress||o.sectionsInProgress||o.imageInProgress).map(o=>o.id);l.length>0&&(await new Promise(o=>setTimeout(o,2e3)),await W(l))}}async function le(t){ee.value(t).then(async e=>{e&&(await U.deleteRecipe(P.value.userId,t),await $(),U.uploadRecipeToGithub(P.value.userId,null))})}function Ie(t){q.value(t)}async function be(t){await Fe.analyzeWithNewEngine(P.value.userId,t),await $()}return(t,e)=>{const l=g("v-list-item"),o=g("v-divider"),c=g("v-btn"),y=g("v-checkbox"),m=g("v-range-slider"),f=g("v-icon"),F=g("v-rating"),E=g("v-expansion-panel-title"),I=g("v-chip"),M=g("v-chip-group"),B=g("v-expansion-panel-text"),Pe=g("v-expansion-panel"),Re=g("v-expansion-panels"),xe=g("v-navigation-drawer"),Y=g("v-img"),ae=g("v-card"),oe=g("v-col"),ie=g("v-row"),Ce=g("v-alert"),Q=g("v-progress-circular"),S=g("v-list-item-title"),Te=g("v-list"),ze=g("v-menu"),De=g("v-toolbar"),Ve=g("v-speed-dial"),$e=g("v-fab");return s(),v("div",null,[a(xe,{modelValue:w(Z),"onUpdate:modelValue":e[6]||(e[6]=n=>We(Z)?Z.value=n:null),location:"right",width:"250"},{prepend:i(()=>[a(l,{class:"mt-2","prepend-icon":"mdi-text-box-search-outline",title:"Filter"})]),default:i(()=>[a(o),r("div",Je,[r("div",Le,[a(c,{style:{width:"100%"},"min-height":"60",variant:"elevated",onClick:ve,stacked:"",elevation:"0",border:"",active:x.value,"active-color":"rgb(89, 135, 184)","prepend-icon":"mdi-heart-search"},{default:i(()=>[...e[11]||(e[11]=[_("Auswahlmodus",-1)])]),_:1},8,["active"]),r("div",Ye,[x.value?(s(),h(c,{key:0,onClick:ne,variant:"plain",class:"mt-1"},{default:i(()=>[...e[12]||(e[12]=[_("Nochmal mischen",-1)])]),_:1})):d("",!0)])]),a(o,{class:"mt-3"}),x.value?d("",!0):(s(),v("div",Qe,[a(y,{modelValue:u.value.showPlanned,"onUpdate:modelValue":e[0]||(e[0]=n=>u.value.showPlanned=n),"hide-details":"auto",density:"comfortable",label:"Geplante anzeigen"},null,8,["modelValue"]),a(y,{modelValue:u.value.showTags,"onUpdate:modelValue":e[1]||(e[1]=n=>u.value.showTags=n),"hide-details":"auto",density:"comfortable",label:"Basis-Tags bearbeiten"},null,8,["modelValue"])])),x.value?d("",!0):(s(),h(o,{key:1,class:"mt-3"})),r("div",Xe,[e[13]||(e[13]=r("h4",null,[_("Dauer "),r("span",{style:{"font-size":"0.8em"}},"(Min.)")],-1)),a(m,{modelValue:u.value.duration,"onUpdate:modelValue":e[2]||(e[2]=n=>u.value.duration=n),elevation:"3",max:"120",step:"10","thumb-label":"always",class:"mt-8 px-2","hide-details":""},null,8,["modelValue"])]),!w(p)&&!x.value?(s(),v("div",qe,[e[14]||(e[14]=r("h4",null,"Zuletzt gekocht (Wochen)",-1)),a(m,{modelValue:u.value.cookedDays,"onUpdate:modelValue":e[3]||(e[3]=n=>u.value.cookedDays=n),elevation:"3",max:"10",step:"1","thumb-label":"always",class:"mt-8 px-2","hide-details":""},null,8,["modelValue"])])):d("",!0),a(o,{class:"mt-3"}),w(p)?d("",!0):(s(),v("div",en,[e[15]||(e[15]=r("h4",null,"Bewertung",-1)),a(F,{modelValue:u.value.rating,"onUpdate:modelValue":e[4]||(e[4]=n=>u.value.rating=n),hover:"",length:"6",size:"40","active-color":"primary",class:"py-3"},{item:i(n=>[a(f,{color:n.isFilled?n.index===0?"#92aac5":"#1e3f66":"grey-lighten-1",size:"large"},{default:i(()=>[_(C(n.isFilled&&n.index===0?"mdi-star-off":"mdi-star"),1)]),_:2},1032,["color"])]),_:1},8,["modelValue"]),a(y,{modelValue:u.value.showUnrated,"onUpdate:modelValue":e[5]||(e[5]=n=>u.value.showUnrated=n),"hide-details":"auto",density:"comfortable",label:"Unbewertete anzeigen"},null,8,["modelValue"])])),x.value?d("",!0):(s(),h(o,{key:4})),x.value?d("",!0):(s(),v("div",nn,[(s(!0),v(A,null,N(me.value,n=>(s(),v("div",{key:n.title},[a(Re,{multiple:""},{default:i(()=>[a(Pe,{elevation:"0",modelValue:n.open,"onUpdate:modelValue":R=>n.open=R,class:"pa-0 ma-0"},{default:i(()=>[a(E,{class:"pa-0",static:""},{default:i(()=>[r("div",null,[r("h4",null,[_(C(n.title)+" ",1),n.items.some(R=>u.value.tags.includes(R.name))?(s(),v("span",tn,"("+C(n.items.filter(R=>u.value.tags.includes(R.name)).length)+")",1)):d("",!0)])])]),_:2},1024),a(B,{class:"no-padding-content"},{default:i(()=>[a(M,{"selected-class":"selected-chip",column:"",multiple:""},{default:i(()=>[(s(!0),v(A,null,N(n.items,R=>(s(),h(I,{key:R.name,text:R.icon+" "+R.name,value:R.name,variant:u.value.tags.includes(R.name)?"elevated":"tonal",onClick:k=>we(R.name)},null,8,["text","value","variant","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]))),128))]))])]),_:1},8,["modelValue"]),b.value&&(b.value.recipes&&b.value.recipes.length>0||b.value.recipeTitle)?(s(),h(Ce,{key:0,closable:"",style:{background:"linear-gradient(90deg, rgba(89, 135, 184, 1) 0%, rgba(191, 207, 219, 1) 100%)"},class:"mb-6"},{default:i(()=>[!b.value.recipes||b.value.recipes.length===0?(s(),v("div",sn,[r("a",{target:"_blank",href:b.value.recipeId?"/recipes/go?id="+b.value.recipeId:"#",style:{"text-decoration-line":"none",color:"white"}},[b.value.recipeId?(s(),h(Y,{key:0,class:"position-relative","max-height":"100",src:J(b.value.recipeId),color:"grey",cover:""},null,8,["src"])):d("",!0),e[16]||(e[16]=r("div",{class:"mt-2"},"Heutige Mahlzeit:",-1)),e[17]||(e[17]=_()),r("h2",null,[r("i",null,C(b.value.recipeTitle),1)])],8,ln)])):d("",!0),b.value.recipes&&b.value.recipes.length>0?(s(),v("div",an,[e[18]||(e[18]=r("h2",{class:"mt-2",style:{color:"white"}},[r("i",null,"Heutige Auswahl an Mahlzeiten:")],-1)),a(ie,{align:"center"},{default:i(()=>[(s(!0),v(A,null,N(b.value.recipes,n=>(s(),h(oe,{key:n.id,cols:"6"},{default:i(()=>[r("a",{target:"_blank",href:n&&n.sectionsUploaded?"/recipes/go?id="+n.id:"#",style:{"text-decoration-line":"none",color:"white"}},[a(ae,null,{default:i(()=>[(s(),h(Y,{class:"position-relative",height:"150",src:J(n.id),key:T.value[n.id]?T.value[n.id]:0,cover:""},null,8,["src"])),r("div",dn,C(n.title||"Ohne Titel"),1)]),_:2},1024)],8,on)]),_:2},1024))),128))]),_:1})])):d("",!0)]),_:1})):d("",!0),a(ie,{class:"text-center"},{default:i(()=>[G.value.length===0?(s(),v("div",un,[r("div",null,[a(f,{icon:"mdi-chef-hat",size:"50"})]),e[19]||(e[19]=r("div",{style:{"font-size":"1.8em"}},"Keine Rezepte gefunden!",-1))])):d("",!0),(s(!0),v(A,null,N(G.value,(n,R)=>(s(),h(oe,{cols:"12",md:"4",sm:"6",lg:"3",xl:"2",key:n.id},{default:i(()=>[a(ae,{class:"mx-auto","max-width":"374",color:n.uploaded?null:"#ADCEE9",border:!n.uploaded},{default:i(()=>[x.value?(s(),v("div",rn,[r("b",null,"Vorschlag "+C(R+1+" / "+G.value.length),1)])):d("",!0),r("div",null,[(s(),h(Y,{class:He([{"scan-img":n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress},"position-relative"]),height:"200",src:J(n.id,n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress),key:T.value[n.id]?T.value[n.id]:0,color:"grey",cover:""},{default:i(()=>[r("div",cn,[!w(p)&&(n.rating||!n.uploaded)?(s(),v("div",mn,[n.rating?(s(),v("div",fn,[a(F,{modelValue:n.rating,"onUpdate:modelValue":k=>n.rating=k,hover:"",length:"5",size:"20",readonly:"",class:"mb-1"},null,8,["modelValue","onUpdate:modelValue"])])):d("",!0)])):d("",!0),n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress?(s(),v("div",vn,[n.ingredientsInProgress?(s(),v("span",gn,[r("span",null,[a(Q,{indeterminate:"",color:"white"})]),e[20]||(e[20]=_()),e[21]||(e[21]=r("span",null,"Zutaten werden analysiert...",-1))])):d("",!0),n.sectionsInProgress?(s(),v("span",hn,[r("span",null,[a(Q,{indeterminate:"",color:"white"})]),e[22]||(e[22]=_()),e[23]||(e[23]=r("span",null,"Schritte werden analysiert...",-1))])):d("",!0),n.imageInProgress?(s(),v("span",pn,[r("span",null,[a(Q,{indeterminate:"",color:"white"})]),e[24]||(e[24]=_()),e[25]||(e[25]=r("span",null,"Bild wird generiert...",-1))])):d("",!0)])):d("",!0)]),n.duration||n.lastCookedDays>=0&&!w(p).value?(s(),v("div",yn,[n.lastCookedDays>=0&&!w(p).value?(s(),v("div",kn,[a(f,{icon:"mdi-bowl-mix-outline",class:"mr-1"}),r("b",null,"Vor "+C(n.lastCookedDays)+" Tagen",1)])):d("",!0),n.duration?(s(),v("div",_n,[a(f,{icon:"mdi-clock-outline",class:"mr-1"}),r("b",null,C(n.duration)+" Min.",1)])):d("",!0)])):d("",!0),r("div",wn,[!w(p)&&!n.uploaded&&!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.imageInProgress?(s(),h(c,{key:0,class:"mb-1",onClick:k=>ke(n),style:{"background-color":"rgba(93,93,93,0.66)"}},{default:i(()=>[a(f,{icon:"mdi-upload-off",size:"30"})]),_:1},8,["onClick"])):d("",!0),!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.imageInProgress&&!n.sectionsUploaded?(s(),v("div",In,[a(f,{icon:"mdi-information-slab-circle"}),e[26]||(e[26]=_()),e[27]||(e[27]=r("b",null,"Nur Zutatenliste vorhanden!",-1))])):d("",!0)]),a(De,{color:"transparent"},{append:i(()=>[w(p)&&!n.planned&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(s(),h(c,{key:0,onClick:k=>te(n),style:{"background-color":"rgba(93,93,93,0.66)"},class:"mr-1"},{default:i(()=>[r("div",null,[a(f,{icon:"mdi-share-variant-outline",size:"30"})])]),_:1},8,["onClick"])):d("",!0),(w(p)&&n.planned||!w(p))&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(s(),h(c,{key:1,onClick:k=>pe(n),style:{"background-color":"rgba(93,93,93,0.66)"}},{default:i(()=>[r("div",null,[n.planned?d("",!0):(s(),v("div",bn,[n.voting&&n.voting>0?(s(),v("span",Pn,[r("span",Rn,C(n.voting),1),e[28]||(e[28]=r("span",{class:"mr-1",style:{"font-weight":"600","font-size":"1.1em"}},"x",-1))])):d("",!0),a(f,{icon:n.voting&&n.voting>0?"mdi-thumb-up":"mdi-thumb-up-outline",size:"30"},null,8,["icon"])])),n.planned?(s(),v("div",xn,[a(f,{icon:"mdi-bowl-mix",size:"30",color:"blue"})])):d("",!0)])]),_:2},1032,["onClick"])):d("",!0),!w(p)&&(n.sectionsInProgress||n.ingredientsInProgress||n.imageInProgress)?(s(),h(c,{key:2,icon:"mdi-stop-circle-outline",color:"white",onClick:k=>le(n.id),variant:"plain"},null,8,["onClick"])):d("",!0),a(ze,null,{activator:i(({props:k})=>[!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(s(),h(c,Oe({key:0,icon:"mdi-dots-vertical",color:"white"},{ref_for:!0},k),{default:i(()=>[a(f,{icon:"mdi-dots-vertical",size:"35"})]),_:1},16)):d("",!0)]),default:i(()=>[!n.imageInProgress&&!n.sectionsInProgress?(s(),h(Te,{key:0},{default:i(()=>[!w(p)&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress&&!n.planned?(s(),h(l,{key:0,onClick:k=>ye(n),"prepend-icon":"mdi-plus-thick"},{default:i(()=>[a(S,null,{default:i(()=>[...e[29]||(e[29]=[_("Einplanen",-1)])]),_:1})]),_:1},8,["onClick"])):d("",!0),!w(p)&&n.voting&&n.voting>0?(s(),h(l,{key:1,onClick:k=>_e(n),"prepend-icon":"mdi-thumbs-up-down"},{default:i(()=>[a(S,null,{default:i(()=>[...e[30]||(e[30]=[_("Likes lÃ¶schen",-1)])]),_:1})]),_:1},8,["onClick"])):d("",!0),n.sectionsUploaded?d("",!0):(s(),h(l,{key:2,onClick:k=>Ie(n.id),"prepend-icon":"mdi-cart"},{default:i(()=>[a(S,null,{default:i(()=>[...e[31]||(e[31]=[_("Zutaten einkaufen",-1)])]),_:1})]),_:1},8,["onClick"])),a(o),!n.imageInProgress&&!n.sectionsInProgress?(s(),h(l,{key:3,to:"/recipes/edit?id="+n.id,"prepend-icon":"mdi-pencil"},{default:i(()=>[a(S,null,{default:i(()=>[...e[32]||(e[32]=[_("Bearbeiten",-1)])]),_:1})]),_:1},8,["to"])):d("",!0),!w(p)&&!n.sectionsUploaded?(s(),h(l,{key:4,onClick:k=>se(n),"prepend-icon":"mdi-image-plus"},{default:i(()=>[a(S,null,{default:i(()=>[...e[33]||(e[33]=[_("Rezeptschritte hinzufÃ¼gen",-1)])]),_:1})]),_:1},8,["onClick"])):d("",!0),!w(p)&&n.engine!=="gpt-5"?(s(),h(l,{key:5,onClick:k=>be(n.id),"prepend-icon":"mdi-auto-fix"},{default:i(()=>[a(S,null,{default:i(()=>[...e[34]||(e[34]=[_("Analyse verbessern",-1)])]),_:1})]),_:1},8,["onClick"])):d("",!0),w(p)?d("",!0):(s(),h(l,{key:6,onClick:k=>te(n),"prepend-icon":"mdi-share"},{default:i(()=>[a(S,null,{default:i(()=>[...e[35]||(e[35]=[_("Link teilen...",-1)])]),_:1})]),_:1},8,["onClick"])),w(p)?d("",!0):(s(),h(l,{key:7,onClick:k=>le(n.id),"prepend-icon":"mdi-delete"},{default:i(()=>[a(S,null,{default:i(()=>[...e[36]||(e[36]=[_("LÃ¶schen",-1)])]),_:1})]),_:1},8,["onClick"]))]),_:2},1024)):d("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","src"]))]),n.title&&(n.ingredientsInProgress||n.sectionsInProgress)?(s(),v("div",Cn,[r("span",Tn,C(n.title),1)])):d("",!0),n.title&&!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.sectionsUploaded?(s(),v("div",zn,[r("span",Dn,C(n.title),1)])):d("",!0),!n.ingredientsInProgress&&!n.sectionsInProgress&&n.sectionsUploaded?(s(),v("div",Vn,[r("a",{target:"_blank",style:{"text-decoration-line":"none",color:"#000000","font-size":"1.2em",cursor:"pointer"},class:"text-medium-emphasis",onClick:k=>he(n)},C(n.title),9,$n)])):d("",!0),(u.value.showTags||!n.uploaded||!n.tags||n.tags.length===0)&&!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.imageInProgress?(s(),v("div",Un,[(s(!0),v(A,null,N(fe.value,k=>(s(),v("span",{key:k},[a(I,{class:"ml-1 mt-1",color:n.tags&&n.tags.includes(k)?"#183240":"#9f9f9f",onClick:En=>ge(n,k)},{default:i(()=>[_(C(k),1)]),_:2},1032,["color","onClick"])]))),128))])):d("",!0)]),_:2},1032,["color","border"])]),_:2},1024))),128))]),_:1}),e[40]||(e[40]=r("div",{style:{height:"70px"}},null,-1)),w(p)?d("",!0):(s(),h($e,{color:"rgb(89, 135, 184)",key:"test","prepend-icon":"mdi-cookie-plus-outline",app:!0,location:"right bottom",extended:"",size:"large"},{default:i(()=>[e[39]||(e[39]=r("span",null,"Rezept hinzufÃ¼gen",-1)),a(Ve,{location:"top center",activator:"parent"},{default:i(()=>[a(c,{key:"1",onClick:e[7]||(e[7]=n=>se(null)),variant:"outlined",color:"black",style:{"background-color":"white","font-size":"1.0em"},"prepend-icon":"mdi-image-plus"},{default:i(()=>[...e[37]||(e[37]=[_(" Per Bildanalyse ",-1)])]),_:1}),a(c,{key:"2",to:"/recipes/edit?id=new",variant:"outlined",style:{"background-color":"white","font-size":"1.0em"},"prepend-icon":"mdi-plus"},{default:i(()=>[...e[38]||(e[38]=[_(" Manuell erstellen ",-1)])]),_:1})]),_:1})]),_:1})),a(je,{onResult:e[8]||(e[8]=n=>X.value=n)}),a(Ze,{onResult:e[9]||(e[9]=n=>q.value=n)}),a(Ue,{onResult:e[10]||(e[10]=n=>ee.value=n),title:"Bitte bestÃ¤tigen",message:"Soll das Rezept wirklich gelÃ¶scht werden?"})])}}},Sn=Se(Fn,[["__scopeId","data-v-3fd05f50"]]),Kn={__name:"index",setup(re){return ue(async()=>{}),(H,O)=>(s(),h(Sn))}};export{Kn as default};
