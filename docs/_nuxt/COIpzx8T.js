import{G as $e,C as Ue,R as U,I as Se}from"./C6kbBVjZ.js";import{_ as Fe,M as Ee,K as Ge,N as ue,O as Me,J as Be,P as Ke,r as D,o as Ne,Z as Ae,$ as Oe,g as h,x as m,y as s,B as o,Q as y,R as d,z as c,C as u,S as v,D as w,A as T,T as K,U as N,a2 as He,a3 as Le,V as We}from"./CSQU4AtQ.js";import{I as Ze}from"./C05MyEuc.js";import{R as je}from"./r590uEUv.js";const Je={class:"pa-4"},Qe={key:0},Ye={class:"mt-2"},qe={key:2,class:"mt-2"},Xe={key:3,class:"mt-2"},en={key:5,class:"mt-2"},nn={key:0},tn={key:0},sn=["href"],ln={key:1},on=["href"],an={style:{"background-color":"rgb(166, 190, 226)","font-size":"0.7em"},class:"pl-1"},dn={key:1},un={key:0,class:"text-center mt-8 text-high-emphasis",style:{width:"100%"}},rn={key:0,class:"mt-2 mb-1",style:{"font-size":"1.2em"}},cn={class:"overlay-top-left"},mn={key:0},fn={key:0,class:"px-1 pb-1",style:{"background-color":"rgba(93,93,93,0.66)"}},vn={key:1},gn={key:0},hn={key:1},pn={key:2},yn={key:0,class:"overlay-bottom-right"},kn={key:0,style:{"background-color":"rgba(93,93,93,0.66)"},class:"px-1"},_n={key:1,style:{"background-color":"rgba(93,93,93,0.66)"},class:"px-1 mt-1"},wn={class:"overlay-bottom-left pa-1"},In={key:1,style:{"background-color":"rgba(93,93,93,0.66)","font-size":"0.8em"},class:"pa-1"},bn={key:0},Pn={key:0},xn={class:"mr-0",style:{"font-weight":"600","font-size":"1.6em"}},Rn={key:1},Tn={key:1,class:"ma-2"},Cn={style:{"font-size":"1.2em"},class:"text-medium-emphasis"},zn={key:2,class:"ma-2"},Dn={style:{"font-size":"1.2em"},class:"text-medium-emphasis"},Vn={key:3,class:"ma-2"},$n=["onClick"],Un={key:4,class:"ma-2"},Sn={__name:"RecipeOverview",setup(Fn){const q=Ee(),X=Ge(),{recipes:V}=ue(q),{authInfo:R,githubMode:p,lanAddress:re,showFilter:W,shuffleMode:P}=ue(X);Me(),Be(),Ke();const C=D({}),ee=D(null),ne=D(null),te=D(null),A=D([]),G=D([]),ce=D([{title:"Mahlzeiten",open:!1,items:[{name:"Fr√ºhst√ºck",selected:!1,icon:"üç≥"},{name:"Vorspeise",selected:!1,icon:"ü•ó"},{name:"Hauptmahlzeit",selected:!1,icon:"üçΩÔ∏è"},{name:"Dessert",selected:!1,icon:"üç®"},{name:"Kuchen",selected:!1,icon:"üç∞"},{name:"Geb√§ck",selected:!1,icon:"ü•ê"},{name:"Snack",selected:!1,icon:"üçø"},{name:"Grill",selected:!1,icon:"üî•"},{name:"Weihnachten",selected:!1,icon:"üéÑ"}]},{title:"Zutaten",open:!1,items:[{name:"Kartoffeln",selected:!1,icon:"ü•î"},{name:"Reis",selected:!1,icon:"üçö"},{name:"Pasta",selected:!1,icon:"üçù"},{name:"Risotto",selected:!1,icon:"üçö"},{name:"Pilze",selected:!1,icon:"üçÑ"},{name:"K√ºrbis",selected:!1,icon:"üéÉ"},{name:"Gnocchi",selected:!1,icon:"ü•î"},{name:"Sp√§tzle",selected:!1,icon:"üçù"},{name:"Halloumi",selected:!1,icon:"üßÄ"},{name:"Tortellini",selected:!1,icon:"üç•"},{name:"Pesto",selected:!1,icon:"üåø"},{name:"K√§se",selected:!1,icon:"üßÄ"}]},{title:"Zubereitungsart",open:!1,items:[{name:"Pizza",selected:!1,icon:"üçï"},{name:"Auflauf",selected:!1,icon:"ü•ò"},{name:"Eintopf",selected:!1,icon:"üç≤"},{name:"Suppe",selected:!1,icon:"ü•£"},{name:"Salat",selected:!1,icon:"ü•ó"},{name:"Bowl",selected:!1,icon:"ü•ô"},{name:"Curry",selected:!1,icon:"üçõ"},{name:"Fast-Food",selected:!1,icon:"üçî"},{name:"Gourmet",selected:!1,icon:"üë®‚Äçüç≥"},{name:"Wrap",selected:!1,icon:"ü•ô"},{name:"Sandwich",selected:!1,icon:"ü•™"},{name:"Burger",selected:!1,icon:"üçî"},{name:"Thermomix",selected:!1,icon:"‚öôÔ∏è"},{name:"Flammkuchen",selected:!1,icon:"üçï"}]},{title:"Fleischtyp",open:!1,items:[{name:"vegetarisch",selected:!1,icon:"ü•¶"},{name:"vegan",selected:!1,icon:"üå±"},{name:"Tofu",selected:!1,icon:"üßà"},{name:"Soja",selected:!1,icon:"ü´ò"},{name:"Fisch",selected:!1,icon:"üêü"},{name:"Fleisch",selected:!1,icon:"ü•©"},{name:"H√§hnchenfleisch",selected:!1,icon:"üçó"},{name:"Rindfleisch",selected:!1,icon:"ü•©"},{name:"Schweinefleisch",selected:!1,icon:"üçñ"}]},{title:"L√§nderk√ºche",open:!1,items:[{name:"italienisch",selected:!1,icon:"üáÆüáπ"},{name:"mediterran",selected:!1,icon:"üåø"},{name:"mexikanisch",selected:!1,icon:"üåÆ"},{name:"amerikanisch",selected:!1,icon:"üçü"},{name:"franz√∂sisch",selected:!1,icon:"ü•ñ"},{name:"afrikanisch",selected:!1,icon:"ü™ò"},{name:"arabisch",selected:!1,icon:"üßÜ"},{name:"deutsch",selected:!1,icon:"ü•®"},{name:"griechisch",selected:!1,icon:"ü•ô"},{name:"asiatisch",selected:!1,icon:"üçú"},{name:"japanisch",selected:!1,icon:"üç£"},{name:"koreanisch",selected:!1,icon:"üç±"},{name:"spanisch",selected:!1,icon:"ü•ò"},{name:"russisch",selected:!1,icon:"ü•ü"},{name:"thail√§ndisch",selected:!1,icon:"üç≤"},{name:"t√ºrkisch",selected:!1,icon:"üç¢"},{name:"vietnamesisch",selected:!1,icon:"üçú"},{name:"indisch",selected:!1,icon:"üçõ"}]},{title:"Jahreszeiten",open:!1,items:[{name:"Winter",selected:!1,icon:"‚ùÑÔ∏è"},{name:"Fr√ºhling",selected:!1,icon:"üå∏"},{name:"Sommer",selected:!1,icon:"üåû"},{name:"Herbst",selected:!1,icon:"üçÇ"}]}]),a=D({duration:[0,120],rating:1,cookedDays:[0,10],tags:[],showPlanned:!0,showTags:!1,showUnrated:!0}),me=D(["Fleisch","Fisch","Reis","Gef√ºllte Nudeln","Pasta","Gnocchi","Getreideprodukte","Tofu","Kartoffeln","Teigware"]),b=D(null);Ne(async()=>{await $(!0),a.value.showPlanned=p.value,fe(P.value),await Z(),window.addEventListener("focus",Z)}),Ae(()=>{window.removeEventListener("focus",Z)}),Oe(a,async t=>{a.value.searchText===t.searchText&&setTimeout(()=>{O()},400)},{deep:!0});async function Z(){console.log("refreshTodayRecipe");let t=await X.getAuthInfo();const e=new Date,l=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),f=String(e.getDate()).padStart(2,"0");let g=t.calendarPlan;g||(g={});let r=[];if(g[`${l}-${i}-${f}`]){if(g[`${l}-${i}-${f}`].type==="RECIPE"&&!g[`${l}-${i}-${f}`].recipeId){const k=[],M=new Date;for(const I of Object.keys(g))if(g[I]&&g[I].recipeId){const S=V.value.find(B=>B.id===g[I].recipeId);S.planned&&!S.cooked&&new Date(I).getTime()>=M.getTime()&&(k.push(g[I].recipeId),console.log("recipeTitle",g[I].recipeTitle))}r=V.value.filter(I=>I.planned&&!I.cooked&&I.ordered&&!k.includes(I.id))}if(r.length===1)b.value={recipeTitle:r[0].title,recipeId:r[0].id,recipes:[]};else{let k=g[`${l}-${i}-${f}`].recipeTitle;!k&&(!r||r.length===0)&&(g[`${l}-${i}-${f}`].type==="OTHER"?k="Sonstige Mahlzeit":g[`${l}-${i}-${f}`].type==="SCHEDULED"&&(k="Ausw√§rts / Lieferung")),b.value={recipeTitle:k,recipeId:g[`${l}-${i}-${f}`].recipeId,recipes:r}}}}function j(t,e){return e?"/images/analyzing.png":p.value?"https://mmhhhh.de/data/home/recipes/"+t+"/image.jpg?t="+(C.value[t]?C.value[t]:0):re.value+"api/"+R.value.userId+"/recipes/"+t+"/image?t="+(C.value[t]?C.value[t]:0)}function O(){if(!V.value)return G.value=[],[];let t=[];return P.value?t=A.value:t=V.value,t=t.filter(e=>{if(!a.value.showPlanned&&e.planned&&!e.imageInProgress&&!e.sectionsInProgress&&!e.ingredientsInProgress||e.originalId||e.isNew||a.value.searchText&&e.title.toLowerCase().indexOf(a.value.searchText.toLowerCase())===-1&&e.titleLong.toLowerCase().indexOf(a.value.searchText.toLowerCase())===-1||!e.duration&&a.value.duration[0]>0||e.duration<a.value.duration[0]||e.duration>a.value.duration[1])return!1;if(a.value.cookedDays){const l=[a.value.cookedDays[0]*7,a.value.cookedDays[1]===10?5e4:a.value.cookedDays[1]*7];if((e.lastCookedDays===void 0||e.lastCookedDays===null)&&l[1]<5e4||e.lastCookedDays!==void 0&&e.lastCookedDays!==null&&(e.lastCookedDays<l[0]||e.lastCookedDays>l[1]))return!1}if(p.value&&!e.uploaded)return!1;if(a.value.rating>0||!a.value.showUnrated){if(!a.value.showUnrated&&!e.rating)return!1;const l=a.value.rating-1,i=e.rating;if(i&&i<l)return!1}return!(a.value.tags.length>0&&(!e.tags||!a.value.tags.every(l=>e.tags.includes(l))))}),P.value?(G.value=t,t):(t=t.sort((e,l)=>{const i=!!e.ingredientsInProgress||!!e.sectionsInProgress||!!e.imageInProgress,f=!!l.ingredientsInProgress||!!l.sectionsInProgress||!!l.imageInProgress;if(i-f!==0)return i-f;const g=e.planned!==null&&e.planned!==void 0?e.planned:!1,r=l.planned!==null&&l.planned!==void 0?l.planned:!1;if(g-r!==0)return g-r;const k=e.uploaded?e.uploaded:!1,M=l.uploaded?l.uploaded:!1;if(M-k!==0)return M-k;const I=e.rating,S=l.rating,B=typeof I=="number"&&I!==null,L=typeof S=="number"&&S!==null;return!B&&!L?0:B?L?S-I:1:-1}).reverse(),G.value=t,t)}function fe(t){t?(a.value.showPlanned=!1,a.value.showTags=!1,a.value.showUnrated=!0,a.value.cookedDays=[0,10],a.value.tags=[],P.value=!0,se()):(a.value.showPlanned=!1,a.value.showUnrated=!0,a.value.cookedDays=[0,10],a.value.showTags=!1,a.value.tags=[],P.value=!1)}function se(){let t=[];V.value.forEach(f=>t.push(f));for(let f=t.length-1;f>0;f--){const g=Math.floor(Math.random()*(f+1));[t[f],t[g]]=[t[g],t[f]]}A.value=t;const e=[],l=[];z([],["Fleisch"],e,l,3),z([],["Fisch"],e,l,2),z(["Fleisch","Tofu"],["Pasta"],e,l,3),z(["Fleisch","Tofu"],["Gef√ºllte Nudeln"],e,l,2),z(["Fleisch","Tofu"],["Reis"],e,l,3),z(["Fleisch","Tofu"],["Gnocchi"],e,l,2),z(["Fleisch","Tofu"],["Getreideprodukte"],e,l,2),z(["Fleisch","Tofu"],["Kartoffeln"],e,l,2),z(["Fleisch","Tofu"],["Teigware"],e,l,2),z(["Fleisch"],["Tofu"],e,l,3),z(["Fleisch","Pasta"],["Tofu"],e,l,1);let i=[];l.forEach(f=>i.push(f));for(let f=i.length-1;f>0;f--){const g=Math.floor(Math.random()*(f+1));[i[f],i[g]]=[i[g],i[f]]}A.value=i.slice(0,14),O(),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},300)}async function le(t){if(await navigator.clipboard.writeText("https://mmhhhh.de/recipes/go?id="+t.id),navigator.share)try{await navigator.share({title:t.title,text:t.title,url:"https://mmhhhh.de/recipes/go?id="+t.id})}catch(e){console.error("Teilen abgebrochen",e)}}function z(t,e,l,i,f){let g=A.value.filter(r=>!l.includes(r.id)).filter(r=>!r.planned).filter(r=>!r.voting||r.voting===0).filter(r=>{const k=[21,5e4];return!((r.lastCookedDays===void 0||r.lastCookedDays===null)&&k[1]<5e4||r.lastCookedDays!==void 0&&r.lastCookedDays!==null&&(r.lastCookedDays<k[0]||r.lastCookedDays>k[1]))}).filter(r=>t?t.every(k=>!(r.tags?r.tags:[]).includes(k)):!0).filter(r=>e?e.every(k=>(r.tags?r.tags:[]).includes(k)):!0).slice(0,f);g.forEach(r=>l.push(r.id)),g.forEach(r=>i.push(r))}async function ve(t,e){t.tags&&t.tags.includes(e)?t.tags=t.tags.filter(i=>i!==e):(t.tags||(t.tags=[]),t.tags.push(e));const l={tags:t.tags};await U.updateRecipe(R.value.userId,t.id,l),$()}function ge(t){p.value?window.open("https://mmhhhh.de/recipes/go?id="+t.id,"_blank","noopener"):window.open("/recipes/go?id="+t.id,"_blank","noopener")}async function he(t){if(t.planned){const e={voting:0,planned:!1,cooked:!1,ordered:!1};await U.updateRecipe(R.value.userId,t.id,e),U.uploadRecipeToGithub(R.value.userId,null),t.voting=0,t.planned=!1,t.uploaded=!1,t.ordered=!1}else{const e={voting:t.voting?t.voting+1:1};await U.updateRecipe(R.value.userId,t.id,e),t.voting=t.voting?t.voting+1:1}await $()}async function pe(t){t.planned=!0,t.voting=0,await U.planRecipe(R.value.userId,t.id),await $()}async function ye(t){await U.uploadRecipeToGithub(R.value.userId,t?t.id:null),t&&(t.uploaded=!0,await $())}async function ke(t){t.voting=0;const e={voting:0};await U.updateRecipe(R.value.userId,t.id,e),await $()}function _e(t){const e=a.value.tags.indexOf(t);e===-1?a.value.tags.push(t):a.value.tags.splice(e,1)}async function $(t=!1){console.log("authInfo userId",R.value.userId),V.value=await q.getAllRecipes(R.value.userId),!p.value&&t&&H(),setTimeout(()=>{O()},400)}function oe(t){ee.value(t).then(async e=>{e&&(t?setTimeout(()=>{const l=[t.id];H(l)},200):H())})}async function H(t){if(!p.value&&(await $(),V.value)){const e=V.value.filter(i=>!i.ingredientsInProgress&&!i.sectionsInProgress&&!i.imageInProgress).map(i=>i.id);t&&t.forEach(i=>{e.includes(i)&&(C.value[i]?C.value[i]++:C.value[i]=1)});const l=V.value.filter(i=>i.ingredientsInProgress||i.sectionsInProgress||i.imageInProgress).map(i=>i.id);l.length>0&&(await new Promise(i=>setTimeout(i,2e3)),await H(l))}}async function ae(t){te.value(t).then(async e=>{e&&(await U.deleteRecipe(R.value.userId,t),await $(),U.uploadRecipeToGithub(R.value.userId,null))})}function we(t){ne.value(t)}async function Ie(t){await Se.analyzeWithNewEngine(R.value.userId,t),await $()}return(t,e)=>{const l=h("v-list-item"),i=h("v-divider"),f=h("v-checkbox"),g=h("v-range-slider"),r=h("v-icon"),k=h("v-rating"),M=h("v-expansion-panel-title"),I=h("v-chip"),S=h("v-chip-group"),B=h("v-expansion-panel-text"),L=h("v-expansion-panel"),be=h("v-expansion-panels"),Pe=h("v-navigation-drawer"),J=h("v-img"),ie=h("v-card"),Q=h("v-col"),de=h("v-row"),xe=h("v-alert"),Re=h("v-text-field"),Y=h("v-progress-circular"),F=h("v-btn"),E=h("v-list-item-title"),Te=h("v-list"),Ce=h("v-menu"),ze=h("v-toolbar"),De=h("v-speed-dial"),Ve=h("v-fab");return s(),m("div",null,[o(Pe,{modelValue:v(W),"onUpdate:modelValue":e[6]||(e[6]=n=>He(W)?W.value=n:null),location:"right",width:"250"},{prepend:u(()=>[o(l,{class:"mt-2","prepend-icon":"mdi-text-box-search-outline",title:"Filter"})]),default:u(()=>[c("div",Je,[o(i),v(P)?d("",!0):(s(),m("div",Qe,[o(f,{modelValue:a.value.showPlanned,"onUpdate:modelValue":e[0]||(e[0]=n=>a.value.showPlanned=n),"hide-details":"auto",density:"comfortable",label:"Geplante anzeigen"},null,8,["modelValue"]),o(f,{modelValue:a.value.showTags,"onUpdate:modelValue":e[1]||(e[1]=n=>a.value.showTags=n),"hide-details":"auto",density:"comfortable",label:"Basis-Tags bearbeiten"},null,8,["modelValue"])])),v(P)?d("",!0):(s(),y(i,{key:1})),c("div",Ye,[e[13]||(e[13]=c("h4",null,[w("Dauer "),c("span",{style:{"font-size":"0.8em"}},"(Min.)")],-1)),o(g,{modelValue:a.value.duration,"onUpdate:modelValue":e[2]||(e[2]=n=>a.value.duration=n),elevation:"3",max:"120",step:"10","thumb-label":"always",class:"mt-8 px-2","hide-details":""},null,8,["modelValue"])]),!v(p)&&!v(P)?(s(),m("div",qe,[e[14]||(e[14]=c("h4",null,"Zuletzt gekocht (Wochen)",-1)),o(g,{modelValue:a.value.cookedDays,"onUpdate:modelValue":e[3]||(e[3]=n=>a.value.cookedDays=n),elevation:"3",max:"10",step:"1","thumb-label":"always",class:"mt-8 px-2","hide-details":""},null,8,["modelValue"])])):d("",!0),o(i,{class:"mt-3"}),v(p)?d("",!0):(s(),m("div",Xe,[e[15]||(e[15]=c("h4",null,"Bewertung",-1)),o(k,{modelValue:a.value.rating,"onUpdate:modelValue":e[4]||(e[4]=n=>a.value.rating=n),hover:"",length:"6",size:"40","active-color":"primary",class:"py-3"},{item:u(n=>[o(r,{color:n.isFilled?n.index===0?"#92aac5":"#1e3f66":"grey-lighten-1",size:"large"},{default:u(()=>[w(T(n.isFilled&&n.index===0?"mdi-star-off":"mdi-star"),1)]),_:2},1032,["color"])]),_:1},8,["modelValue"]),o(f,{modelValue:a.value.showUnrated,"onUpdate:modelValue":e[5]||(e[5]=n=>a.value.showUnrated=n),"hide-details":"auto",density:"comfortable",label:"Unbewertete anzeigen"},null,8,["modelValue"])])),v(P)?d("",!0):(s(),y(i,{key:4})),v(P)?d("",!0):(s(),m("div",en,[(s(!0),m(K,null,N(ce.value,n=>(s(),m("div",{key:n.title},[o(be,{multiple:""},{default:u(()=>[o(L,{elevation:"0",modelValue:n.open,"onUpdate:modelValue":x=>n.open=x,class:"pa-0 ma-0"},{default:u(()=>[o(M,{class:"pa-0",static:""},{default:u(()=>[c("div",null,[c("h4",null,[w(T(n.title)+" ",1),n.items.some(x=>a.value.tags.includes(x.name))?(s(),m("span",nn,"("+T(n.items.filter(x=>a.value.tags.includes(x.name)).length)+")",1)):d("",!0)])])]),_:2},1024),o(B,{class:"no-padding-content"},{default:u(()=>[o(S,{"selected-class":"selected-chip",column:"",multiple:""},{default:u(()=>[(s(!0),m(K,null,N(n.items,x=>(s(),y(I,{key:x.name,text:x.icon+" "+x.name,value:x.name,variant:a.value.tags.includes(x.name)?"elevated":"tonal",onClick:_=>_e(x.name)},null,8,["text","value","variant","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]))),128))]))])]),_:1},8,["modelValue"]),b.value&&(b.value.recipes&&b.value.recipes.length>0||b.value.recipeTitle)&&!v(P)?(s(),y(xe,{key:0,closable:"",style:{background:"linear-gradient(90deg, rgba(89, 135, 184, 1) 0%, rgba(191, 207, 219, 1) 100%)"},class:"mb-6"},{default:u(()=>[!b.value.recipes||b.value.recipes.length===0?(s(),m("div",tn,[c("a",{target:"_blank",href:b.value.recipeId?"/recipes/go?id="+b.value.recipeId:"#",style:{"text-decoration-line":"none",color:"white"}},[b.value.recipeId?(s(),y(J,{key:0,class:"position-relative","max-height":"100",src:j(b.value.recipeId),color:"grey",cover:""},null,8,["src"])):d("",!0),e[16]||(e[16]=c("div",{class:"mt-2"},"Heutige Mahlzeit:",-1)),e[17]||(e[17]=w()),c("h2",null,[c("i",null,T(b.value.recipeTitle),1)])],8,sn)])):d("",!0),b.value.recipes&&b.value.recipes.length>0?(s(),m("div",ln,[e[18]||(e[18]=c("h2",{class:"mt-2",style:{color:"white"}},[c("i",null,"Heutige Auswahl an Mahlzeiten:")],-1)),o(de,{align:"center"},{default:u(()=>[(s(!0),m(K,null,N(b.value.recipes,n=>(s(),y(Q,{key:n.id,cols:"6"},{default:u(()=>[c("a",{target:"_blank",href:n&&n.sectionsUploaded?"/recipes/go?id="+n.id:"#",style:{"text-decoration-line":"none",color:"white"}},[o(ie,null,{default:u(()=>[(s(),y(J,{class:"position-relative",height:"150",src:j(n.id),key:C.value[n.id]?C.value[n.id]:0,cover:""},null,8,["src"])),c("div",an,T(n.title||"Ohne Titel"),1)]),_:2},1024)],8,on)]),_:2},1024))),128))]),_:1})])):d("",!0)]),_:1})):d("",!0),v(P)?d("",!0):(s(),m("div",dn,[o(Re,{modelValue:a.value.searchText,"onUpdate:modelValue":e[7]||(e[7]=n=>a.value.searchText=n),label:"Suche",variant:"solo-filled",onKeyup:e[8]||(e[8]=n=>v($e).debounceTime("searchTextUpdated",O,300)),clearable:""},null,8,["modelValue"])])),o(de,{class:"text-center"},{default:u(()=>[G.value.length===0?(s(),m("div",un,[c("div",null,[o(r,{icon:"mdi-chef-hat",size:"50"})]),e[19]||(e[19]=c("div",{style:{"font-size":"1.8em"}},"Keine Rezepte gefunden!",-1))])):d("",!0),(s(!0),m(K,null,N(G.value,(n,x)=>(s(),y(Q,{cols:"12",md:"4",sm:"6",lg:"3",xl:"2",key:n.id},{default:u(()=>[o(ie,{class:"mx-auto","max-width":"374",color:n.uploaded?null:"#ADCEE9",border:!n.uploaded},{default:u(()=>[v(P)?(s(),m("div",rn,[c("b",null,"Rezept "+T(x+1+" / "+G.value.length),1)])):d("",!0),c("div",null,[(s(),y(J,{class:Le([{"scan-img":n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress},"position-relative"]),height:"200",src:j(n.id,n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress),key:C.value[n.id]?C.value[n.id]:0,color:"grey",cover:""},{default:u(()=>[c("div",cn,[!v(p)&&(n.rating||!n.uploaded)?(s(),m("div",mn,[n.rating?(s(),m("div",fn,[o(k,{modelValue:n.rating,"onUpdate:modelValue":_=>n.rating=_,hover:"",length:"5",size:"20",readonly:"",class:"mb-1"},null,8,["modelValue","onUpdate:modelValue"])])):d("",!0)])):d("",!0),n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress?(s(),m("div",vn,[n.ingredientsInProgress?(s(),m("span",gn,[c("span",null,[o(Y,{indeterminate:"",color:"white"})]),e[20]||(e[20]=w()),e[21]||(e[21]=c("span",null,"Zutaten werden analysiert...",-1))])):d("",!0),n.sectionsInProgress?(s(),m("span",hn,[c("span",null,[o(Y,{indeterminate:"",color:"white"})]),e[22]||(e[22]=w()),e[23]||(e[23]=c("span",null,"Schritte werden analysiert...",-1))])):d("",!0),n.imageInProgress?(s(),m("span",pn,[c("span",null,[o(Y,{indeterminate:"",color:"white"})]),e[24]||(e[24]=w()),e[25]||(e[25]=c("span",null,"Bild wird generiert...",-1))])):d("",!0)])):d("",!0)]),n.duration||n.lastCookedDays>=0&&!v(p).value?(s(),m("div",yn,[n.lastCookedDays>=0&&!v(p).value?(s(),m("div",kn,[o(r,{icon:"mdi-bowl-mix-outline",class:"mr-1"}),c("b",null,"Vor "+T(n.lastCookedDays)+" Tagen",1)])):d("",!0),n.duration?(s(),m("div",_n,[o(r,{icon:"mdi-clock-outline",class:"mr-1"}),c("b",null,T(n.duration)+" Min.",1)])):d("",!0)])):d("",!0),c("div",wn,[!v(p)&&!n.uploaded&&!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.imageInProgress?(s(),y(F,{key:0,class:"mb-1",onClick:_=>ye(n),style:{"background-color":"rgba(93,93,93,0.66)"}},{default:u(()=>[o(r,{icon:"mdi-upload-off",size:"30"})]),_:1},8,["onClick"])):d("",!0),!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.imageInProgress&&!n.sectionsUploaded?(s(),m("div",In,[o(r,{icon:"mdi-information-slab-circle"}),e[26]||(e[26]=w()),e[27]||(e[27]=c("b",null,"Nur Zutatenliste vorhanden!",-1))])):d("",!0)]),o(ze,{color:"transparent"},{append:u(()=>[v(p)&&!n.planned&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(s(),y(F,{key:0,onClick:_=>le(n),style:{"background-color":"rgba(93,93,93,0.66)"},class:"mr-1"},{default:u(()=>[c("div",null,[o(r,{icon:"mdi-share-variant-outline",size:"30"})])]),_:1},8,["onClick"])):d("",!0),(v(p)&&n.planned||!v(p))&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(s(),y(F,{key:1,onClick:_=>he(n),style:{"background-color":"rgba(93,93,93,0.66)"}},{default:u(()=>[c("div",null,[n.planned?d("",!0):(s(),m("div",bn,[n.voting&&n.voting>0?(s(),m("span",Pn,[c("span",xn,T(n.voting),1),e[28]||(e[28]=c("span",{class:"mr-1",style:{"font-weight":"600","font-size":"1.1em"}},"x",-1))])):d("",!0),o(r,{icon:n.voting&&n.voting>0?"mdi-thumb-up":"mdi-thumb-up-outline",size:"30"},null,8,["icon"])])),n.planned?(s(),m("div",Rn,[o(r,{icon:"mdi-bowl-mix",size:"30",color:"blue"})])):d("",!0)])]),_:2},1032,["onClick"])):d("",!0),!v(p)&&(n.sectionsInProgress||n.ingredientsInProgress||n.imageInProgress)?(s(),y(F,{key:2,icon:"mdi-stop-circle-outline",color:"white",onClick:_=>ae(n.id),variant:"plain"},null,8,["onClick"])):d("",!0),!v(p)||!n.sectionsUploaded&&v(p)?(s(),y(Ce,{key:3},{activator:u(({props:_})=>[!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(s(),y(F,We({key:0,icon:"mdi-dots-vertical",color:"white"},{ref_for:!0},_),{default:u(()=>[o(r,{icon:"mdi-dots-vertical",size:"35"})]),_:1},16)):d("",!0)]),default:u(()=>[!n.imageInProgress&&!n.sectionsInProgress?(s(),y(Te,{key:0},{default:u(()=>[!v(p)&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress&&!n.planned?(s(),y(l,{key:0,onClick:_=>pe(n),"prepend-icon":"mdi-plus-thick"},{default:u(()=>[o(E,null,{default:u(()=>[...e[29]||(e[29]=[w("Einplanen",-1)])]),_:1})]),_:1},8,["onClick"])):d("",!0),!v(p)&&n.voting&&n.voting>0?(s(),y(l,{key:1,onClick:_=>ke(n),"prepend-icon":"mdi-thumbs-up-down"},{default:u(()=>[o(E,null,{default:u(()=>[...e[30]||(e[30]=[w("Likes l√∂schen",-1)])]),_:1})]),_:1},8,["onClick"])):d("",!0),n.sectionsUploaded?d("",!0):(s(),y(l,{key:2,onClick:_=>we(n.id),"prepend-icon":"mdi-cart"},{default:u(()=>[o(E,null,{default:u(()=>[...e[31]||(e[31]=[w("Zutaten einkaufen",-1)])]),_:1})]),_:1},8,["onClick"])),o(i),!n.imageInProgress&&!n.sectionsInProgress&&!v(p)?(s(),y(l,{key:3,to:"/recipes/edit?id="+n.id,"prepend-icon":"mdi-pencil"},{default:u(()=>[o(E,null,{default:u(()=>[...e[32]||(e[32]=[w("Bearbeiten",-1)])]),_:1})]),_:1},8,["to"])):d("",!0),!v(p)&&!n.sectionsUploaded?(s(),y(l,{key:4,onClick:_=>oe(n),"prepend-icon":"mdi-image-plus"},{default:u(()=>[o(E,null,{default:u(()=>[...e[33]||(e[33]=[w("Rezeptschritte hinzuf√ºgen",-1)])]),_:1})]),_:1},8,["onClick"])):d("",!0),!v(p)&&n.engine!=="gpt-5"?(s(),y(l,{key:5,onClick:_=>Ie(n.id),"prepend-icon":"mdi-auto-fix"},{default:u(()=>[o(E,null,{default:u(()=>[...e[34]||(e[34]=[w("Analyse verbessern",-1)])]),_:1})]),_:1},8,["onClick"])):d("",!0),v(p)?d("",!0):(s(),y(l,{key:6,onClick:_=>le(n),"prepend-icon":"mdi-share"},{default:u(()=>[o(E,null,{default:u(()=>[...e[35]||(e[35]=[w("Link teilen...",-1)])]),_:1})]),_:1},8,["onClick"])),v(p)?d("",!0):(s(),y(l,{key:7,onClick:_=>ae(n.id),"prepend-icon":"mdi-delete"},{default:u(()=>[o(E,null,{default:u(()=>[...e[36]||(e[36]=[w("L√∂schen",-1)])]),_:1})]),_:1},8,["onClick"]))]),_:2},1024)):d("",!0)]),_:2},1024)):d("",!0)]),_:2},1024)]),_:2},1032,["class","src"]))]),n.title&&(n.ingredientsInProgress||n.sectionsInProgress)?(s(),m("div",Tn,[c("span",Cn,T(n.title),1)])):d("",!0),n.title&&!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.sectionsUploaded?(s(),m("div",zn,[c("span",Dn,T(n.title),1)])):d("",!0),!n.ingredientsInProgress&&!n.sectionsInProgress&&n.sectionsUploaded?(s(),m("div",Vn,[c("a",{target:"_blank",style:{"text-decoration-line":"none",color:"#000000","font-size":"1.2em",cursor:"pointer"},class:"text-medium-emphasis",onClick:_=>ge(n)},T(n.title),9,$n)])):d("",!0),(a.value.showTags||!n.uploaded||!n.tags||n.tags.length===0)&&!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.imageInProgress?(s(),m("div",Un,[(s(!0),m(K,null,N(me.value,_=>(s(),m("span",{key:_},[o(I,{class:"ml-1 mt-1",color:n.tags&&n.tags.includes(_)?"#183240":"#9f9f9f",onClick:En=>ve(n,_)},{default:u(()=>[w(T(_),1)]),_:2},1032,["color","onClick"])]))),128))])):d("",!0)]),_:2},1032,["color","border"])]),_:2},1024))),128)),v(P)?(s(),y(Q,{key:1,cols:"12",md:"4",sm:"6",lg:"3",xl:"2"},{default:u(()=>[o(F,{style:{width:"100%"},height:"100%","min-height":"80px",variant:"outlined",onClick:se,stacked:"",elevation:"0",border:"",active:v(P),"prepend-icon":"mdi-dice-multiple"},{default:u(()=>[...e[37]||(e[37]=[w("Nochmal mischen",-1)])]),_:1},8,["active"])]),_:1})):d("",!0)]),_:1}),e[41]||(e[41]=c("div",{style:{height:"70px"}},null,-1)),v(p)?d("",!0):(s(),y(Ve,{color:"rgb(89, 135, 184)",key:"test","prepend-icon":"mdi-cookie-plus-outline",app:!0,location:"right bottom",extended:"",size:"large"},{default:u(()=>[e[40]||(e[40]=c("span",null,"Rezept hinzuf√ºgen",-1)),o(De,{location:"top center",activator:"parent"},{default:u(()=>[o(F,{key:"2",to:"/recipes/edit?id=new",variant:"outlined",style:{"background-color":"white","font-size":"1.0em"},"prepend-icon":"mdi-plus"},{default:u(()=>[...e[38]||(e[38]=[w(" Manuell erstellen ",-1)])]),_:1}),o(F,{key:"1",onClick:e[9]||(e[9]=n=>oe(null)),variant:"outlined",color:"black",style:{"background-color":"white","font-size":"1.2em"},"prepend-icon":"mdi-image-plus"},{default:u(()=>[...e[39]||(e[39]=[w(" Per Bildanalyse ",-1)])]),_:1})]),_:1})]),_:1})),o(je,{onResult:e[10]||(e[10]=n=>ee.value=n)}),o(Ze,{onResult:e[11]||(e[11]=n=>ne.value=n)}),o(Ue,{onResult:e[12]||(e[12]=n=>te.value=n),title:"Bitte best√§tigen",message:"Soll das Rezept wirklich gel√∂scht werden?"})])}}},Nn=Fe(Sn,[["__scopeId","data-v-51247f0a"]]);export{Nn as R};
