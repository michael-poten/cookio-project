import{a as L,I as he,R as fe}from"./DwokY33Z.js";import{u as we}from"./CJGfTXah.js";import{M as xe,r as m,K as Ie,L as _e,u as Ce,U as Re,o as ye,V as $e,g as v,x as c,y as s,B as l,C as a,P as d,O as h,W as M,D as r,z as i,X as Z,Q as R,Y as K,J as ze,N as Se,k as Pe,A as H,R as pe,S as ge,T as Fe}from"./7vDRmOQw.js";import{_ as be}from"./DlAUqK2U.js";const De={key:0},Ve={key:1},Ue={key:2},Me={key:0},Te={key:0},Ae={key:1,class:"mt-3"},Be={key:2,class:"mt-3"},je={class:"d-flex flex-no-wrap justify-space-between"},Ee={key:0,class:"mt-3"},Ze={key:1},Ke={class:"d-flex flex-no-wrap justify-space-between"},He={key:0,class:"mt-3"},Ne={key:1},We={key:0},Ge={key:1,class:"mt-3"},Oe={key:2,class:"mt-3"},Je={__name:"RecipeImportDialog",emits:["result"],setup(ke,{emit:W}){const B=xe(),x=m(null),w=m(null),k=m(null),oe=Ie(),{authInfo:b}=_e(oe),ee=W;Ce(),Re();const F=m(!1),D=m(null),ie=m(null),p=m(null),C=m(!1),I=m(null),$=m(!1),G=m(null),O=m(!1),J=m(null),V=m(!1),T=m(!1),U=m(!1),Q=m(!1);m(!0);const X=m(!0),u=m(!0),t=m([]),y=m([]);ye(async()=>{ee("result",async o=>(console.log("recipeInput",o),I.value=null,G.value=null,J.value=null,x.value=null,w.value=null,k.value=null,$.value=!1,O.value=!1,V.value=!1,T.value=!1,o?(p.value=o.id,C.value=!0,o.sectionsUploaded?(console.log("sectionsUploaded"),u.value=!1):u.value=!0,X.value=!1):(p.value=ae(),X.value=!0,u.value=!0),F.value=!0,new Promise((e,_)=>{D.value=e,ie.value=_})))}),$e(t,o=>{y.value=[...o].sort((e,_)=>e.name.localeCompare(_.name)),se(y.value)});function f(){F.value=!1,D.value(null)}function N(){F.value=!1,D.value(p.value)}function z(o){const e=o.target.files;e&&e.length>0&&(x.value=e[0]),A()}function Y(o){const e=o.dataTransfer.files;e&&e.length>0&&(x.value=e[0]),A()}function ue(o){const e=o.dataTransfer.files;if(e&&e.length>0){const _=Array.from(e);t.value=Array.from(_)}}async function A(){if(x.value){$.value=!0;try{I.value=(await L.analyzeIngredients(b.value.userId,p.value,x.value)).data,$.value=!1}catch{$.value=!1}}}function q(o){const e=o.target.files;e&&e.length>0&&(w.value=e[0]),ne()}function de(o){const e=o.dataTransfer.files;e&&e.length>0&&(w.value=e[0]),ne()}async function ne(){if(console.log("uploadSectionsFile"),!!w.value&&!(!I.value&&!C.value)){O.value=!0;try{G.value=(await L.analyzeSections(b.value.userId,p.value,w.value)).data}catch{}}}function te(o){const e=o.target.files;e&&e.length>0&&(k.value=e[0]),le()}function re(o){const e=o.dataTransfer.files;e&&e.length>0&&(k.value=e[0]),le()}async function le(){if(console.log("uploadImageFile"),!!k.value&&!(!I.value&&!C.value)){V.value=!0;try{J.value=(await L.uploadImage(b.value.userId,p.value,k.value)).data}catch{}}}function ae(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const e=Math.random()*16|0;return(o==="x"?e:e&3|8).toString(16)})}function ce(o){const e=Array.from(o.target.files);t.value=e}async function se(o){U.value=!0;try{for(let e=0;e<o.length;e+=2){const _=o[e],P=o[e+1]||null,S=ae();await L.analyzeIngredients(b.value.userId,S,_),await L.analyzeSections(b.value.userId,S,P),console.log("analyzeIngredients file1 ",_.name),console.log("analyzeIngredients file2 ",P.name)}}catch{}U.value=!1,$.value=!1,setTimeout(()=>{F.value=!1,D.value(!0)},500)}return(o,e)=>{const _=v("v-btn"),P=v("v-card-title"),S=v("v-icon"),j=v("v-card-text"),E=v("v-card"),ve=v("v-card-actions"),me=v("v-dialog");return s(),c("div",null,[l(me,{"max-width":"600",modelValue:F.value,"onUpdate:modelValue":e[12]||(e[12]=n=>F.value=n)},{default:a(()=>[l(E,{class:"pa-4",style:{"background-color":"white"}},{default:a(()=>[l(P,null,{default:a(()=>[C.value?d("",!0):(s(),c("div",De,"Rezept hinzufügen")),C.value?(s(),c("div",Ve,"Rezeptdaten importieren")):d("",!0),C.value?d("",!0):(s(),c("div",Ue,[T.value?d("",!0):(s(),h(_,{key:0,variant:"plain",style:{"font-size":"0.7em"},onClick:e[0]||(e[0]=M(n=>T.value=!0,["prevent"])),"prepend-icon":"mdi-arrow-right"},{default:a(()=>e[13]||(e[13]=[r("Zum Multi-Dateiupload")])),_:1,__:[13]}))]))]),_:1}),l(j,null,{default:a(()=>[T.value?d("",!0):(s(),c("div",Me,[X.value?(s(),c("div",{key:0,onDrop:M(Y,["prevent"]),onDragover:e[3]||(e[3]=M(()=>{},["prevent"]))},[l(E,{rounded:"",loading:$.value},{default:a(()=>[i("div",null,[i("div",null,[l(P,null,{default:a(()=>e[14]||(e[14]=[r(" Zutatenliste ")])),_:1,__:[14]}),l(j,null,{default:a(()=>[e[19]||(e[19]=r(" Erkennt sämtliche Zutaten aus der Zutatenliste. Dabei wird insbesondere der Fokus auf die Menge und den Namen gelegt. ")),!$.value&&!I.value&&!x.value?(s(),c("div",Te,[i("div",null,[l(_,{class:"mt-3",rounded:"",variant:"outlined",text:"","prepend-icon":"mdi-cloud-upload-outline",onClick:e[1]||(e[1]=n=>o.$refs.uploadIngredients.click())},{default:a(()=>e[15]||(e[15]=[r("Bild hochladen ")])),_:1,__:[15]})]),i("div",null,[R(B).smAndDown.value?(s(),h(_,{key:0,class:"mt-1",rounded:"",variant:"outlined",text:"","prepend-icon":"mdi-camera-enhance",onClick:e[2]||(e[2]=n=>o.$refs.uploadIngredientsCamera.click())},{default:a(()=>e[16]||(e[16]=[r("Foto machen ")])),_:1,__:[16]})):d("",!0)])])):d("",!0),$.value&&!I.value?(s(),c("div",Ae,[l(S,{icon:"mdi-sync"}),e[17]||(e[17]=r(" Analyse läuft... "))])):d("",!0),I.value?(s(),c("div",Be,[l(S,{icon:"mdi-check"}),e[18]||(e[18]=r(" Upload abgeschlossen. "))])):d("",!0)]),_:1,__:[19]})])]),Z(i("input",{type:"file",id:"uploadIngredients",ref:"uploadIngredients",onChange:z,accept:"image/png,image/jpeg"},null,544),[[K,!1]]),Z(i("input",{type:"file",id:"uploadIngredientsCamera",ref:"uploadIngredientsCamera",capture:"environment",onChange:z,accept:"image/png,image/jpeg"},null,544),[[K,!1]])]),_:1},8,["loading"])],32)):d("",!0),u.value?(s(),c("div",{key:1,class:"mt-2",onDrop:M(de,["prevent"]),onDragover:e[6]||(e[6]=M(()=>{},["prevent"]))},[l(E,null,{default:a(()=>[i("div",je,[i("div",null,[l(P,null,{default:a(()=>e[20]||(e[20]=[r(" Tätigkeitsschritte ")])),_:1,__:[20]}),l(j,null,{default:a(()=>[e[24]||(e[24]=r(" Erfasst alle Arbeitsschritte, den Titel, die Zubereitungsdauer und generiert Schlagwörter. Wird im Hintergrund analysiert. ")),w.value&&!G.value&&O.value?(s(),c("div",Ee,[l(S,{icon:"mdi-check"}),e[21]||(e[21]=r(" Upload abgeschlossen. "))])):d("",!0),w.value?d("",!0):(s(),c("div",Ze,[i("div",null,[l(_,{class:"mt-3",rounded:"",variant:"outlined",text:"",disabled:!I.value&&!C.value,"prepend-icon":"mdi-cloud-upload-outline",onClick:e[4]||(e[4]=n=>o.$refs.uploadSections.click())},{default:a(()=>e[22]||(e[22]=[r("Bild hochladen ")])),_:1,__:[22]},8,["disabled"])]),i("div",null,[R(B).smAndDown.value?(s(),h(_,{key:0,class:"mt-1",rounded:"",variant:"outlined",text:"",disabled:!I.value&&!C.value,"prepend-icon":"mdi-camera-enhance",onClick:e[5]||(e[5]=n=>o.$refs.uploadSectionsCamera.click())},{default:a(()=>e[23]||(e[23]=[r("Foto machen ")])),_:1,__:[23]},8,["disabled"])):d("",!0)])]))]),_:1,__:[24]})])]),Z(i("input",{type:"file",id:"uploadSections",ref:"uploadSections",onChange:q,accept:"image/png,image/jpeg"},null,544),[[K,!1]]),Z(i("input",{type:"file",id:"uploadSectionsCamera",ref:"uploadSectionsCamera",capture:"environment",onChange:q,accept:"image/png,image/jpeg"},null,544),[[K,!1]])]),_:1})],32)):d("",!0),i("div",{class:"mt-2",onDrop:M(re,["prevent"]),onDragover:e[9]||(e[9]=M(()=>{},["prevent"]))},[l(E,null,{default:a(()=>[i("div",Ke,[i("div",null,[l(P,null,{default:a(()=>e[25]||(e[25]=[r(" Rezeptbild ")])),_:1,__:[25]}),l(j,null,{default:a(()=>[e[29]||(e[29]=r(" Hier kann ein Bild vom zubereiteten Rezept hochgeladen werden. ")),k.value&&!J.value&&V.value?(s(),c("div",He,[l(S,{icon:"mdi-check"}),e[26]||(e[26]=r(" Upload abgeschlossen. "))])):d("",!0),k.value?d("",!0):(s(),c("div",Ne,[i("div",null,[l(_,{class:"mt-3",rounded:"",variant:"outlined",text:"",disabled:!I.value&&!C.value,"prepend-icon":"mdi-cloud-upload-outline",onClick:e[7]||(e[7]=n=>o.$refs.uploadImage.click())},{default:a(()=>e[27]||(e[27]=[r("Bild hochladen ")])),_:1,__:[27]},8,["disabled"])]),i("div",null,[R(B).smAndDown.value?(s(),h(_,{key:0,class:"mt-1",rounded:"",variant:"outlined",text:"",disabled:!I.value&&!C.value,"prepend-icon":"mdi-camera-enhance",onClick:e[8]||(e[8]=n=>o.$refs.uploadImageCamera.click())},{default:a(()=>e[28]||(e[28]=[r("Foto machen ")])),_:1,__:[28]},8,["disabled"])):d("",!0)])]))]),_:1,__:[29]})])]),Z(i("input",{type:"file",id:"uploadImage",ref:"uploadImage",onChange:te,accept:"image/png,image/jpeg"},null,544),[[K,!1]]),Z(i("input",{type:"file",id:"uploadImageCamera",ref:"uploadImageCamera",capture:"environment",onChange:te,accept:"image/png,image/jpeg"},null,544),[[K,!1]])]),_:1})],32)])),T.value?(s(),c("div",{key:1,onDrop:M(ue,["prevent"]),onDragover:e[11]||(e[11]=M(()=>{},["prevent"]))},[l(E,{rounded:"",loading:U.value},{default:a(()=>[i("div",null,[i("div",null,[l(P,null,{default:a(()=>e[30]||(e[30]=[r(" Multi-Dateiupload ")])),_:1,__:[30]}),l(j,null,{default:a(()=>[e[34]||(e[34]=r(" Erkennt sämtliche Zutaten und Tätigkeitsschritte aus den hochgeladenen Bildern. Die Dateien werden immer pärchenweise entsprechend der alphabetischen Reihenfolge des Dateinamens analysiert. ")),!$.value&&!I.value&&!x.value?(s(),c("div",We,[i("div",null,[l(_,{class:"mt-3",rounded:"",variant:"outlined",text:"","prepend-icon":"mdi-cloud-upload-outline",onClick:e[10]||(e[10]=n=>o.$refs.uploadMulti.click())},{default:a(()=>e[31]||(e[31]=[r("Bilder hochladen ")])),_:1,__:[31]})])])):d("",!0),U.value&&!Q.value?(s(),c("div",Ge,[l(S,{icon:"mdi-sync"}),e[32]||(e[32]=r(" Upload läuft... "))])):d("",!0),Q.value?(s(),c("div",Oe,[l(S,{icon:"mdi-check"}),e[33]||(e[33]=r(" Upload abgeschlossen. "))])):d("",!0)]),_:1,__:[34]})])]),Z(i("input",{type:"file",id:"uploadMulti",ref:"uploadMulti",multiple:"",onChange:ce,accept:"image/png,image/jpeg"},null,544),[[K,!1]])]),_:1},8,["loading"])],32)):d("",!0)]),_:1}),l(ve,null,{default:a(()=>[l(_,{onClick:f,rounded:"",variant:"outlined",text:"",color:"red"},{default:a(()=>e[35]||(e[35]=[r(" Abbrechen ")])),_:1,__:[35]}),l(_,{disabled:!I.value&&!C.value,onClick:N,rounded:"",variant:"outlined",text:""},{default:a(()=>e[36]||(e[36]=[r(" Fertig ")])),_:1,__:[36]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(he)])}}},Qe=be(Je,[["__scopeId","data-v-d01281e0"]]),Xe={class:"pa-4"},Ye={class:"mt-2"},qe={class:"mt-2"},Le={key:0},en={key:0,class:"text-center mt-8 text-high-emphasis",style:{width:"100%"}},nn={key:0,class:"overlay-top-left"},tn={key:0},ln={key:1},an={key:1,class:"overlay-top-left px-1 pb-1",style:{"background-color":"rgba(93,93,93,0.66)"}},sn={key:2,class:"overlay-bottom-right"},on={style:{"background-color":"rgba(93,93,93,0.66)"},class:"px-1"},un={key:3,class:"overlay-bottom-left pa-1",style:{"font-size":"0.8em","background-color":"rgba(93,93,93,0.66)"}},dn={key:0,class:"mr-0",style:{"font-weight":"600","font-size":"1.6em"}},rn={key:1,class:"mr-1",style:{"font-weight":"600","font-size":"1.1em"}},cn={key:0,class:"ma-2"},vn={style:{"font-size":"1.2em"},class:"text-medium-emphasis"},mn={key:1,class:"ma-2"},fn=["onClick"],pn={__name:"RecipeOverview",setup(ke){const W=we(),B=Ie(),{recipes:x}=_e(W),{authInfo:w,githubMode:k,lanAddress:oe}=_e(B);xe(),ze(),Se();const b=m({}),ee=m(null),F=m(null),D=m(!1),ie=m([{title:"Mahlzeiten",open:!1,items:[{name:"Frühstück",selected:!1,icon:"🍳"},{name:"Vorspeise",selected:!1,icon:"🥗"},{name:"Hauptmahlzeit",selected:!1,icon:"🍽️"},{name:"Dessert",selected:!1,icon:"🍨"},{name:"Kuchen",selected:!1,icon:"🍰"},{name:"Gebäck",selected:!1,icon:"🥐"},{name:"Snack",selected:!1,icon:"🍿"},{name:"Grill",selected:!1,icon:"🔥"},{name:"Weihnachten",selected:!1,icon:"🎄"}]},{title:"Zutaten",open:!1,items:[{name:"Kartoffeln",selected:!1,icon:"🥔"},{name:"Reis",selected:!1,icon:"🍚"},{name:"Pasta",selected:!1,icon:"🍝"},{name:"Risotto",selected:!1,icon:"🍚"},{name:"Pilze",selected:!1,icon:"🍄"},{name:"Kürbis",selected:!1,icon:"🎃"},{name:"Gnocchi",selected:!1,icon:"🥔"},{name:"Spätzle",selected:!1,icon:"🍝"},{name:"Halloumi",selected:!1,icon:"🧀"},{name:"Tortellini",selected:!1,icon:"🍥"},{name:"Pesto",selected:!1,icon:"🌿"},{name:"Käse",selected:!1,icon:"🧀"}]},{title:"Zubereitungsart",open:!1,items:[{name:"Pizza",selected:!1,icon:"🍕"},{name:"Auflauf",selected:!1,icon:"🥘"},{name:"Eintopf",selected:!1,icon:"🍲"},{name:"Suppe",selected:!1,icon:"🥣"},{name:"Salat",selected:!1,icon:"🥗"},{name:"Bowl",selected:!1,icon:"🥙"},{name:"Curry",selected:!1,icon:"🍛"},{name:"Fast-Food",selected:!1,icon:"🍔"},{name:"Gourmet",selected:!1,icon:"👨‍🍳"},{name:"Wrap",selected:!1,icon:"🥙"},{name:"Sandwich",selected:!1,icon:"🥪"},{name:"Burger",selected:!1,icon:"🍔"},{name:"Thermomix",selected:!1,icon:"⚙️"},{name:"Flammkuchen",selected:!1,icon:"🍕"}]},{title:"Fleischtyp",open:!1,items:[{name:"vegetarisch",selected:!1,icon:"🥦"},{name:"vegan",selected:!1,icon:"🌱"},{name:"Tofu",selected:!1,icon:"🧈"},{name:"Soja",selected:!1,icon:"🫘"},{name:"Fisch",selected:!1,icon:"🐟"},{name:"Fleisch",selected:!1,icon:"🥩"},{name:"Hähnchenfleisch",selected:!1,icon:"🍗"},{name:"Rindfleisch",selected:!1,icon:"🥩"},{name:"Schweinefleisch",selected:!1,icon:"🍖"}]},{title:"Länderküche",open:!1,items:[{name:"italienisch",selected:!1,icon:"🇮🇹"},{name:"mediterran",selected:!1,icon:"🌿"},{name:"mexikanisch",selected:!1,icon:"🌮"},{name:"amerikanisch",selected:!1,icon:"🍟"},{name:"französisch",selected:!1,icon:"🥖"},{name:"afrikanisch",selected:!1,icon:"🪘"},{name:"arabisch",selected:!1,icon:"🧆"},{name:"deutsch",selected:!1,icon:"🥨"},{name:"griechisch",selected:!1,icon:"🥙"},{name:"asiatisch",selected:!1,icon:"🍜"},{name:"japanisch",selected:!1,icon:"🍣"},{name:"koreanisch",selected:!1,icon:"🍱"},{name:"spanisch",selected:!1,icon:"🥘"},{name:"russisch",selected:!1,icon:"🥟"},{name:"thailändisch",selected:!1,icon:"🍲"},{name:"türkisch",selected:!1,icon:"🍢"},{name:"vietnamesisch",selected:!1,icon:"🍜"},{name:"indisch",selected:!1,icon:"🍛"}]},{title:"Jahreszeiten",open:!1,items:[{name:"Winter",selected:!1,icon:"❄️"},{name:"Frühling",selected:!1,icon:"🌸"},{name:"Sommer",selected:!1,icon:"🌞"},{name:"Herbst",selected:!1,icon:"🍂"}]}]),p=m({duration:[0,120],rating:1,tags:[]});ye(async()=>{await B.getAuthInfo(),await V(),U()});function C(u){return k.value?"https://mmhhhh.de/data/home/recipes/"+u.id+"/image.jpg?t="+(b.value[u.id]?b.value[u.id]:0):oe.value+"api/"+w.value.userId+"/recipes/"+u.id+"/image?t="+(b.value[u.id]?b.value[u.id]:0)}const I=Pe(()=>(console.log("recipes",x.value),x.value?(x.value=x.value.sort((u,t)=>{const y=u.rating,f=t.rating,N=typeof y=="number"&&y!==null,z=typeof f=="number"&&f!==null;return!N&&!z?0:N?z?f-y:1:-1}).reverse(),x.value.filter(u=>{if(!u.duration&&p.value.duration[0]>0||u.duration<p.value.duration[0]||u.duration>p.value.duration[1])return!1;if(p.value.rating>0){const t=p.value.rating-1;if((u.rating||0)<t)return!1}return!(p.value.tags.length>0&&(!u.tags||!p.value.tags.every(t=>u.tags.includes(t))))})):[]));function $(u){k.value?window.open("https://mmhhhh.de/recipes/go?id="+u.id,"_blank","noopener"):window.open("/recipes/go?id="+u.id,"_blank","noopener")}async function G(u){const t={voting:u.voting?u.voting+1:1};await fe.updateRecipe(w.value.userId,u.id,t),await V()}async function O(u){const t={voting:0};await fe.updateRecipe(w.value.userId,u.id,t),await V()}function J(u){const t=p.value.tags.indexOf(u);t===-1?p.value.tags.push(u):p.value.tags.splice(t,1)}async function V(){console.log("authInfo userId",w.value.userId),x.value=await W.getAllRecipes(w.value.userId)}function T(u){ee.value(u).then(async t=>{t&&(u?setTimeout(()=>{const y=[u.id];U(y)},200):U())})}async function U(u){if(await V(),x.value){const t=x.value.filter(f=>!f.ingredientsInProgress&&!f.sectionsInProgress&&!f.imageInProgress).map(f=>f.id);u&&u.forEach(f=>{t.includes(f)&&(b.value[f]?b.value[f]++:b.value[f]=1)});const y=x.value.filter(f=>f.ingredientsInProgress||f.sectionsInProgress||f.imageInProgress).map(f=>f.id);y.length>0&&(await new Promise(f=>setTimeout(f,2e3)),await U(y))}}async function Q(u){await fe.deleteRecipe(w.value.userId,u),await V()}function X(u){F.value(u)}return(u,t)=>{const y=v("v-btn"),f=v("v-app-bar-title"),N=v("v-app-bar"),z=v("v-list-item"),Y=v("v-divider"),ue=v("v-range-slider"),A=v("v-icon"),q=v("v-rating"),de=v("v-expansion-panel-title"),ne=v("v-chip"),te=v("v-chip-group"),re=v("v-expansion-panel-text"),le=v("v-expansion-panel"),ae=v("v-expansion-panels"),ce=v("v-navigation-drawer"),se=v("v-progress-circular"),o=v("v-list-item-title"),e=v("v-list"),_=v("v-menu"),P=v("v-toolbar"),S=v("v-img"),j=v("v-card"),E=v("v-col"),ve=v("v-row"),me=v("v-fab");return s(),c("div",null,[l(N,null,{default:a(()=>[l(f,null,{default:a(()=>[l(y,{to:"/recipes","prepend-icon":"mdi-chef-hat",variant:"plain"},{default:a(()=>t[7]||(t[7]=[r("Cookio")])),_:1,__:[7]})]),_:1}),R(k)?d("",!0):(s(),h(y,{key:0,"prepend-icon":"mdi-filter-outline",to:"/planner"},{default:a(()=>t[8]||(t[8]=[r(" Mahlzeiten-Planer ")])),_:1,__:[8]})),l(y,{"prepend-icon":"mdi-filter-outline",onClick:t[0]||(t[0]=n=>D.value=!D.value)},{default:a(()=>t[9]||(t[9]=[r(" Filter ")])),_:1,__:[9]})]),_:1}),l(ce,{modelValue:D.value,"onUpdate:modelValue":t[3]||(t[3]=n=>D.value=n),location:"right",width:"250"},{prepend:a(()=>[l(z,{lines:"two","prepend-icon":"mdi-text-box-search-outline",title:"Filter"})]),default:a(()=>[l(Y),i("div",Xe,[i("div",null,[t[10]||(t[10]=i("h4",null,[r("Dauer "),i("span",{style:{"font-size":"0.8em"}},"(Min.)")],-1)),l(ue,{modelValue:p.value.duration,"onUpdate:modelValue":t[1]||(t[1]=n=>p.value.duration=n),elevation:"3",max:"120",step:"10","thumb-label":"always",class:"mt-8 px-2","hide-details":""},null,8,["modelValue"])]),l(Y,{class:"mt-3"}),i("div",Ye,[t[11]||(t[11]=i("h4",null,"Bewertung",-1)),l(q,{modelValue:p.value.rating,"onUpdate:modelValue":t[2]||(t[2]=n=>p.value.rating=n),hover:"",length:"6",size:"40","active-color":"primary",class:"py-3"},{item:a(n=>[l(A,{color:n.isFilled?n.index===0?"#92aac5":"#1e3f66":"grey-lighten-1",size:"large"},{default:a(()=>[r(H(n.isFilled&&n.index===0?"mdi-star-off":"mdi-star"),1)]),_:2},1032,["color"])]),_:1},8,["modelValue"])]),l(Y),i("div",qe,[(s(!0),c(pe,null,ge(ie.value,n=>(s(),c("div",{key:n.title},[l(ae,{multiple:""},{default:a(()=>[l(le,{elevation:"0",modelValue:n.open,"onUpdate:modelValue":g=>n.open=g,class:"pa-0 ma-0"},{default:a(()=>[l(de,{class:"pa-0",static:""},{default:a(()=>[i("div",null,[i("h4",null,[r(H(n.title)+" ",1),n.items.some(g=>p.value.tags.includes(g.name))?(s(),c("span",Le,"("+H(n.items.filter(g=>p.value.tags.includes(g.name)).length)+")",1)):d("",!0)])])]),_:2},1024),l(re,{class:"no-padding-content"},{default:a(()=>[l(te,{"selected-class":"selected-chip",column:"",multiple:""},{default:a(()=>[(s(!0),c(pe,null,ge(n.items,g=>(s(),h(ne,{key:g.name,text:g.icon+" "+g.name,value:g.name,variant:p.value.tags.includes(g.name)?"elevated":"tonal",onClick:_n=>J(g.name)},null,8,["text","value","variant","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]))),128))])])]),_:1},8,["modelValue"]),l(ve,{class:"text-center"},{default:a(()=>[R(I).length===0?(s(),c("div",en,[i("div",null,[l(A,{icon:"mdi-chef-hat",size:"50"})]),t[12]||(t[12]=i("div",{style:{"font-size":"1.8em"}},"Keine Rezepte gefunden!",-1))])):d("",!0),(s(!0),c(pe,null,ge(R(I),n=>(s(),h(E,{cols:"12",md:"4",sm:"6",lg:"3",xl:"2",key:n.id},{default:a(()=>[l(j,{class:"mx-auto","max-width":"374"},{default:a(()=>[(s(),h(S,{class:"position-relative",height:"200",src:C(n),key:b.value[n.id]?b.value[n.id]:0,color:"grey",cover:""},{default:a(()=>[n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress?(s(),c("div",nn,[n.sectionsInProgress||n.ingredientsInProgress?(s(),c("span",tn,[i("span",null,[l(se,{indeterminate:"",color:"white"})]),t[13]||(t[13]=r()),t[14]||(t[14]=i("span",null,"Wird noch analysiert...",-1))])):d("",!0),n.imageInProgress?(s(),c("span",ln,[i("span",null,[l(se,{indeterminate:"",color:"white"})]),t[15]||(t[15]=r()),t[16]||(t[16]=i("span",null,"Bild wird generiert...",-1))])):d("",!0)])):d("",!0),!R(k)&&n.rating?(s(),c("div",an,[l(q,{modelValue:n.rating,"onUpdate:modelValue":g=>n.rating=g,hover:"",length:"5",size:"20",readonly:""},null,8,["modelValue","onUpdate:modelValue"])])):d("",!0),n.duration?(s(),c("div",sn,[i("div",on,[i("b",null,H(n.duration)+" Min.",1)])])):d("",!0),!n.duration&&!n.tags&&!(n.sectionsInProgress||n.ingredientsInProgress||n.imageInProgress)?(s(),c("div",un,[i("span",null,[l(A,{icon:"mdi-information-slab-circle"}),t[17]||(t[17]=r()),t[18]||(t[18]=i("b",null,"Nur Zutatenliste vorhanden!",-1))])])):d("",!0),l(P,{color:"transparent"},{append:a(()=>[!R(k)&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(s(),h(y,{key:0,color:"white",onClick:g=>G(n),style:{"background-color":"rgba(93,93,93,0.66)"}},{default:a(()=>[n.voting&&n.voting>0?(s(),c("span",dn,H(n.voting),1)):d("",!0),n.voting&&n.voting>0?(s(),c("span",rn,"x")):d("",!0),l(A,{icon:n.voting&&n.voting>0?"mdi-thumb-up":"mdi-thumb-up-outline",size:"30"},null,8,["icon"])]),_:2},1032,["onClick"])):d("",!0),!R(k)&&n.sectionsInProgress||n.ingredientsInProgress||n.imageInProgress?(s(),h(y,{key:1,icon:"mdi-stop-circle-outline",color:"white",onClick:g=>Q(n.id),variant:"plain"},null,8,["onClick"])):d("",!0),l(_,null,{activator:a(({props:g})=>[!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(s(),h(y,Fe({key:0,icon:"mdi-dots-vertical",color:"white"},{ref_for:!0},g),{default:a(()=>[l(A,{icon:"mdi-dots-vertical",size:"35"})]),_:2},1040)):d("",!0)]),default:a(()=>[!n.imageInProgress&&!n.sectionsInProgress?(s(),h(e,{key:0},{default:a(()=>[n.duration||n.tags?(s(),h(z,{key:0,onClick:g=>$(n)},{default:a(()=>[l(o,null,{default:a(()=>t[19]||(t[19]=[r("Rezept zubereiten")])),_:1,__:[19]})]),_:2},1032,["onClick"])):d("",!0),R(k)?d("",!0):(s(),h(z,{key:1,onClick:g=>T(n)},{default:a(()=>[l(o,null,{default:a(()=>t[20]||(t[20]=[r("Daten importieren")])),_:1,__:[20]})]),_:2},1032,["onClick"])),l(z,{onClick:g=>X(n.id)},{default:a(()=>[l(o,null,{default:a(()=>t[21]||(t[21]=[r("Zutaten einkaufen")])),_:1,__:[21]})]),_:2},1032,["onClick"]),!R(k)&&n.voting&&n.voting>0?(s(),h(z,{key:2,onClick:g=>O(n)},{default:a(()=>[l(o,null,{default:a(()=>t[22]||(t[22]=[r("Likes löschen")])),_:1,__:[22]})]),_:2},1032,["onClick"])):d("",!0),R(k)?d("",!0):(s(),h(z,{key:3,onClick:g=>Q(n.id)},{default:a(()=>[l(o,null,{default:a(()=>t[23]||(t[23]=[r("Löschen")])),_:1,__:[23]})]),_:2},1032,["onClick"]))]),_:2},1024)):d("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["src"])),!n.sectionsInProgress&&!n.sectionsUploaded?(s(),c("div",cn,[i("span",vn,H(n.title),1)])):d("",!0),(n.duration||n.tags)&&!n.ingredientsInProgress&&!n.sectionsInProgress?(s(),c("div",mn,[i("a",{target:"_blank",style:{"text-decoration-line":"none",color:"#000000","font-size":"1.2em",cursor:"pointer"},class:"text-medium-emphasis",onClick:g=>$(n)},H(n.title),9,fn)])):d("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1}),t[24]||(t[24]=i("div",{style:{height:"70px"}},null,-1)),R(k)?d("",!0):(s(),h(me,{color:"rgb(89, 135, 184)",key:"test","prepend-icon":"mdi-cookie-plus-outline",app:!0,location:"right bottom",text:"Rezept hinzufügen",extended:"",size:"large",onClick:t[4]||(t[4]=n=>T(null))})),l(Qe,{onResult:t[5]||(t[5]=n=>ee.value=n)}),l(he,{onResult:t[6]||(t[6]=n=>F.value=n)})])}}},gn=be(pn,[["__scopeId","data-v-98cc3a81"]]),In={__name:"index",setup(ke){return ye(async()=>{}),(W,B)=>(s(),h(gn))}};export{In as default};
