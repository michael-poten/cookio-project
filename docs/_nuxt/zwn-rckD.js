import{a as ee,I as he,R as me}from"./DXMBvfR8.js";import{u as we}from"./Bwhluu6E.js";import{M as Ie,r as f,K as xe,L as _e,u as Ce,U as Re,o as ye,V as $e,g as m,x as c,y as s,B as l,C as a,P as u,O as h,W as U,D as r,z as i,X as H,Q as C,Y as N,J as ze,N as Se,k as Pe,A as W,R as fe,S as pe,T as ge}from"./DktgGlsX.js";import{_ as be}from"./DlAUqK2U.js";const Fe={key:0},De={key:1},Ve={key:2},Ue={key:0},Me={key:0},Te={key:1,class:"mt-3"},je={key:2,class:"mt-3"},Be={class:"d-flex flex-no-wrap justify-space-between"},Ae={key:0,class:"mt-3"},Ee={key:1},Ze={class:"d-flex flex-no-wrap justify-space-between"},Ke={key:0,class:"mt-3"},He={key:1},Ne={key:0},We={key:1,class:"mt-3"},Ge={key:2,class:"mt-3"},Oe={__name:"RecipeImportDialog",emits:["result"],setup(ke,{emit:X}){const j=Ie(),I=f(null),b=f(null),k=f(null),R=xe(),{authInfo:M}=_e(R),ne=X;Ce(),Re();const $=f(!1),G=f(null),y=f(null),T=f(null),w=f(!1),x=f(null),z=f(!1),Y=f(null),q=f(!1),V=f(null),O=f(!1),F=f(!1),B=f(!1),te=f(!1);f(!0);const o=f(!0),t=f(!0),_=f([]),p=f([]);ye(async()=>{ne("result",async d=>(console.log("recipeInput",d),x.value=null,Y.value=null,V.value=null,I.value=null,b.value=null,k.value=null,z.value=!1,q.value=!1,O.value=!1,F.value=!1,d?(T.value=d.id,w.value=!0,d.sectionsUploaded?(console.log("sectionsUploaded"),t.value=!1):t.value=!0,o.value=!1):(T.value=ie(),o.value=!0,t.value=!0),$.value=!0,new Promise((e,g)=>{G.value=e,y.value=g})))}),$e(_,d=>{p.value=[...d].sort((e,g)=>e.name.localeCompare(g.name)),E(p.value)});function J(){$.value=!1,G.value(null)}function S(){$.value=!1,G.value(T.value)}function Q(d){const e=d.target.files;e&&e.length>0&&(I.value=e[0]),L()}function de(d){const e=d.dataTransfer.files;e&&e.length>0&&(I.value=e[0]),L()}function A(d){const e=d.dataTransfer.files;if(e&&e.length>0){const g=Array.from(e);_.value=Array.from(g)}}async function L(){if(I.value){z.value=!0;try{x.value=(await ee.analyzeIngredients(M.value.userId,T.value,I.value)).data,z.value=!1}catch{z.value=!1}}}function le(d){const e=d.target.files;e&&e.length>0&&(b.value=e[0]),ae()}function re(d){const e=d.dataTransfer.files;e&&e.length>0&&(b.value=e[0]),ae()}async function ae(){if(console.log("uploadSectionsFile"),!!b.value&&!(!x.value&&!w.value)){q.value=!0;try{Y.value=(await ee.analyzeSections(M.value.userId,T.value,b.value)).data}catch{}}}function se(d){const e=d.target.files;e&&e.length>0&&(k.value=e[0]),oe()}function ce(d){const e=d.dataTransfer.files;e&&e.length>0&&(k.value=e[0]),oe()}async function oe(){if(console.log("uploadImageFile"),!!k.value&&!(!x.value&&!w.value)){O.value=!0;try{V.value=(await ee.uploadImage(M.value.userId,T.value,k.value)).data}catch{}}}function ie(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){const e=Math.random()*16|0;return(d==="x"?e:e&3|8).toString(16)})}function ue(d){const e=Array.from(d.target.files);_.value=e}async function E(d){B.value=!0;try{for(let e=0;e<d.length;e+=2){const g=d[e],D=d[e+1]||null,P=ie();await ee.analyzeIngredients(M.value.userId,P,g),await ee.analyzeSections(M.value.userId,P,D),console.log("analyzeIngredients file1 ",g.name),console.log("analyzeIngredients file2 ",D.name)}}catch{}B.value=!1,z.value=!1,setTimeout(()=>{$.value=!1,G.value(!0)},500)}return(d,e)=>{const g=m("v-btn"),D=m("v-card-title"),P=m("v-icon"),Z=m("v-card-text"),K=m("v-card"),ve=m("v-card-actions"),n=m("v-dialog");return s(),c("div",null,[l(n,{"max-width":"600",modelValue:$.value,"onUpdate:modelValue":e[12]||(e[12]=v=>$.value=v)},{default:a(()=>[l(K,{class:"pa-4",style:{"background-color":"white"}},{default:a(()=>[l(D,null,{default:a(()=>[w.value?u("",!0):(s(),c("div",Fe,"Rezept hinzufügen")),w.value?(s(),c("div",De,"Rezeptdaten importieren")):u("",!0),w.value?u("",!0):(s(),c("div",Ve,[F.value?u("",!0):(s(),h(g,{key:0,variant:"plain",style:{"font-size":"0.7em"},onClick:e[0]||(e[0]=U(v=>F.value=!0,["prevent"])),"prepend-icon":"mdi-arrow-right"},{default:a(()=>e[13]||(e[13]=[r("Zum Multi-Dateiupload")])),_:1,__:[13]}))]))]),_:1}),l(Z,null,{default:a(()=>[F.value?u("",!0):(s(),c("div",Ue,[o.value?(s(),c("div",{key:0,onDrop:U(de,["prevent"]),onDragover:e[3]||(e[3]=U(()=>{},["prevent"]))},[l(K,{rounded:"",loading:z.value},{default:a(()=>[i("div",null,[i("div",null,[l(D,null,{default:a(()=>e[14]||(e[14]=[r(" Zutatenliste ")])),_:1,__:[14]}),l(Z,null,{default:a(()=>[e[19]||(e[19]=r(" Erkennt sämtliche Zutaten aus der Zutatenliste. Dabei wird insbesondere der Fokus auf die Menge und den Namen gelegt. ")),!z.value&&!x.value&&!I.value?(s(),c("div",Me,[i("div",null,[l(g,{class:"mt-3",rounded:"",variant:"outlined",text:"","prepend-icon":"mdi-cloud-upload-outline",onClick:e[1]||(e[1]=v=>d.$refs.uploadIngredients.click())},{default:a(()=>e[15]||(e[15]=[r("Bild hochladen ")])),_:1,__:[15]})]),i("div",null,[C(j).smAndDown.value?(s(),h(g,{key:0,class:"mt-1",rounded:"",variant:"outlined",text:"","prepend-icon":"mdi-camera-enhance",onClick:e[2]||(e[2]=v=>d.$refs.uploadIngredientsCamera.click())},{default:a(()=>e[16]||(e[16]=[r("Foto machen ")])),_:1,__:[16]})):u("",!0)])])):u("",!0),z.value&&!x.value?(s(),c("div",Te,[l(P,{icon:"mdi-sync"}),e[17]||(e[17]=r(" Analyse läuft... "))])):u("",!0),x.value?(s(),c("div",je,[l(P,{icon:"mdi-check"}),e[18]||(e[18]=r(" Upload abgeschlossen. "))])):u("",!0)]),_:1,__:[19]})])]),H(i("input",{type:"file",id:"uploadIngredients",ref:"uploadIngredients",onChange:Q,accept:"image/png,image/jpeg"},null,544),[[N,!1]]),H(i("input",{type:"file",id:"uploadIngredientsCamera",ref:"uploadIngredientsCamera",capture:"environment",onChange:Q,accept:"image/png,image/jpeg"},null,544),[[N,!1]])]),_:1},8,["loading"])],32)):u("",!0),t.value?(s(),c("div",{key:1,class:"mt-2",onDrop:U(re,["prevent"]),onDragover:e[6]||(e[6]=U(()=>{},["prevent"]))},[l(K,null,{default:a(()=>[i("div",Be,[i("div",null,[l(D,null,{default:a(()=>e[20]||(e[20]=[r(" Tätigkeitsschritte ")])),_:1,__:[20]}),l(Z,null,{default:a(()=>[e[24]||(e[24]=r(" Erfasst alle Arbeitsschritte, den Titel, die Zubereitungsdauer und generiert Schlagwörter. Wird im Hintergrund analysiert. ")),b.value&&!Y.value&&q.value?(s(),c("div",Ae,[l(P,{icon:"mdi-check"}),e[21]||(e[21]=r(" Upload abgeschlossen. "))])):u("",!0),b.value?u("",!0):(s(),c("div",Ee,[i("div",null,[l(g,{class:"mt-3",rounded:"",variant:"outlined",text:"",disabled:!x.value&&!w.value,"prepend-icon":"mdi-cloud-upload-outline",onClick:e[4]||(e[4]=v=>d.$refs.uploadSections.click())},{default:a(()=>e[22]||(e[22]=[r("Bild hochladen ")])),_:1,__:[22]},8,["disabled"])]),i("div",null,[C(j).smAndDown.value?(s(),h(g,{key:0,class:"mt-1",rounded:"",variant:"outlined",text:"",disabled:!x.value&&!w.value,"prepend-icon":"mdi-camera-enhance",onClick:e[5]||(e[5]=v=>d.$refs.uploadSectionsCamera.click())},{default:a(()=>e[23]||(e[23]=[r("Foto machen ")])),_:1,__:[23]},8,["disabled"])):u("",!0)])]))]),_:1,__:[24]})])]),H(i("input",{type:"file",id:"uploadSections",ref:"uploadSections",onChange:le,accept:"image/png,image/jpeg"},null,544),[[N,!1]]),H(i("input",{type:"file",id:"uploadSectionsCamera",ref:"uploadSectionsCamera",capture:"environment",onChange:le,accept:"image/png,image/jpeg"},null,544),[[N,!1]])]),_:1})],32)):u("",!0),i("div",{class:"mt-2",onDrop:U(ce,["prevent"]),onDragover:e[9]||(e[9]=U(()=>{},["prevent"]))},[l(K,null,{default:a(()=>[i("div",Ze,[i("div",null,[l(D,null,{default:a(()=>e[25]||(e[25]=[r(" Rezeptbild ")])),_:1,__:[25]}),l(Z,null,{default:a(()=>[e[29]||(e[29]=r(" Hier kann ein Bild vom zubereiteten Rezept hochgeladen werden. ")),k.value&&!V.value&&O.value?(s(),c("div",Ke,[l(P,{icon:"mdi-check"}),e[26]||(e[26]=r(" Upload abgeschlossen. "))])):u("",!0),k.value?u("",!0):(s(),c("div",He,[i("div",null,[l(g,{class:"mt-3",rounded:"",variant:"outlined",text:"",disabled:!x.value&&!w.value,"prepend-icon":"mdi-cloud-upload-outline",onClick:e[7]||(e[7]=v=>d.$refs.uploadImage.click())},{default:a(()=>e[27]||(e[27]=[r("Bild hochladen ")])),_:1,__:[27]},8,["disabled"])]),i("div",null,[C(j).smAndDown.value?(s(),h(g,{key:0,class:"mt-1",rounded:"",variant:"outlined",text:"",disabled:!x.value&&!w.value,"prepend-icon":"mdi-camera-enhance",onClick:e[8]||(e[8]=v=>d.$refs.uploadImageCamera.click())},{default:a(()=>e[28]||(e[28]=[r("Foto machen ")])),_:1,__:[28]},8,["disabled"])):u("",!0)])]))]),_:1,__:[29]})])]),H(i("input",{type:"file",id:"uploadImage",ref:"uploadImage",onChange:se,accept:"image/png,image/jpeg"},null,544),[[N,!1]]),H(i("input",{type:"file",id:"uploadImageCamera",ref:"uploadImageCamera",capture:"environment",onChange:se,accept:"image/png,image/jpeg"},null,544),[[N,!1]])]),_:1})],32)])),F.value?(s(),c("div",{key:1,onDrop:U(A,["prevent"]),onDragover:e[11]||(e[11]=U(()=>{},["prevent"]))},[l(K,{rounded:"",loading:B.value},{default:a(()=>[i("div",null,[i("div",null,[l(D,null,{default:a(()=>e[30]||(e[30]=[r(" Multi-Dateiupload ")])),_:1,__:[30]}),l(Z,null,{default:a(()=>[e[34]||(e[34]=r(" Erkennt sämtliche Zutaten und Tätigkeitsschritte aus den hochgeladenen Bildern. Die Dateien werden immer pärchenweise entsprechend der alphabetischen Reihenfolge des Dateinamens analysiert. ")),!z.value&&!x.value&&!I.value?(s(),c("div",Ne,[i("div",null,[l(g,{class:"mt-3",rounded:"",variant:"outlined",text:"","prepend-icon":"mdi-cloud-upload-outline",onClick:e[10]||(e[10]=v=>d.$refs.uploadMulti.click())},{default:a(()=>e[31]||(e[31]=[r("Bilder hochladen ")])),_:1,__:[31]})])])):u("",!0),B.value&&!te.value?(s(),c("div",We,[l(P,{icon:"mdi-sync"}),e[32]||(e[32]=r(" Upload läuft... "))])):u("",!0),te.value?(s(),c("div",Ge,[l(P,{icon:"mdi-check"}),e[33]||(e[33]=r(" Upload abgeschlossen. "))])):u("",!0)]),_:1,__:[34]})])]),H(i("input",{type:"file",id:"uploadMulti",ref:"uploadMulti",multiple:"",onChange:ue,accept:"image/png,image/jpeg"},null,544),[[N,!1]])]),_:1},8,["loading"])],32)):u("",!0)]),_:1}),l(ve,null,{default:a(()=>[l(g,{onClick:J,rounded:"",variant:"outlined",text:"",color:"red"},{default:a(()=>e[35]||(e[35]=[r(" Abbrechen ")])),_:1,__:[35]}),l(g,{disabled:!x.value&&!w.value,onClick:S,rounded:"",variant:"outlined",text:""},{default:a(()=>e[36]||(e[36]=[r(" Fertig ")])),_:1,__:[36]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(he)])}}},Je=be(Oe,[["__scopeId","data-v-d01281e0"]]),Qe={class:"pa-4"},Xe={class:"mt-2"},Ye={class:"mt-2"},qe={key:0},Le={key:0,class:"text-center mt-8 text-high-emphasis",style:{width:"100%"}},en={key:0,class:"overlay-top-left"},nn={key:0},tn={key:1},ln={key:1,class:"overlay-top-left px-1 pb-1",style:{"background-color":"rgba(93,93,93,0.66)"}},an={key:2,class:"overlay-bottom-right"},sn={style:{"background-color":"rgba(93,93,93,0.66)"},class:"px-1"},on={key:3,class:"overlay-bottom-left pa-1",style:{"font-size":"0.8em","background-color":"rgba(93,93,93,0.66)"}},un={key:0,class:"mr-0",style:{"font-weight":"600","font-size":"1.6em"}},dn={key:1,class:"mr-1",style:{"font-weight":"600","font-size":"1.1em"}},rn={key:0,class:"ma-2"},cn={style:{"font-size":"1.2em"},class:"text-medium-emphasis"},vn={key:1,class:"ma-2"},mn=["onClick"],fn={__name:"RecipeOverview",setup(ke){const X=we(),j=xe(),{recipes:I}=_e(X),{authInfo:b,githubMode:k}=_e(j);Ie(),ze(),Se();const R=f({}),M=f(null),ne=f(null),$=f(!1),G=f([{title:"Mahlzeiten",open:!1,items:[{name:"Frühstück",selected:!1,icon:"🍳"},{name:"Vorspeise",selected:!1,icon:"🥗"},{name:"Hauptmahlzeit",selected:!1,icon:"🍽️"},{name:"Dessert",selected:!1,icon:"🍨"},{name:"Kuchen",selected:!1,icon:"🍰"},{name:"Gebäck",selected:!1,icon:"🥐"},{name:"Snack",selected:!1,icon:"🍿"},{name:"Grill",selected:!1,icon:"🔥"},{name:"Weihnachten",selected:!1,icon:"🎄"}]},{title:"Zutaten",open:!1,items:[{name:"Kartoffeln",selected:!1,icon:"🥔"},{name:"Reis",selected:!1,icon:"🍚"},{name:"Pasta",selected:!1,icon:"🍝"},{name:"Risotto",selected:!1,icon:"🍚"},{name:"Pilze",selected:!1,icon:"🍄"},{name:"Kürbis",selected:!1,icon:"🎃"},{name:"Gnocchi",selected:!1,icon:"🥔"},{name:"Spätzle",selected:!1,icon:"🍝"},{name:"Halloumi",selected:!1,icon:"🧀"},{name:"Tortellini",selected:!1,icon:"🍥"},{name:"Pesto",selected:!1,icon:"🌿"},{name:"Käse",selected:!1,icon:"🧀"}]},{title:"Zubereitungsart",open:!1,items:[{name:"Pizza",selected:!1,icon:"🍕"},{name:"Auflauf",selected:!1,icon:"🥘"},{name:"Eintopf",selected:!1,icon:"🍲"},{name:"Suppe",selected:!1,icon:"🥣"},{name:"Salat",selected:!1,icon:"🥗"},{name:"Bowl",selected:!1,icon:"🥙"},{name:"Curry",selected:!1,icon:"🍛"},{name:"Fast-Food",selected:!1,icon:"🍔"},{name:"Gourmet",selected:!1,icon:"👨‍🍳"},{name:"Wrap",selected:!1,icon:"🥙"},{name:"Sandwich",selected:!1,icon:"🥪"},{name:"Burger",selected:!1,icon:"🍔"},{name:"Thermomix",selected:!1,icon:"⚙️"},{name:"Flammkuchen",selected:!1,icon:"🍕"}]},{title:"Fleischtyp",open:!1,items:[{name:"vegetarisch",selected:!1,icon:"🥦"},{name:"vegan",selected:!1,icon:"🌱"},{name:"Tofu",selected:!1,icon:"🧈"},{name:"Soja",selected:!1,icon:"🫘"},{name:"Fisch",selected:!1,icon:"🐟"},{name:"Fleisch",selected:!1,icon:"🥩"},{name:"Hähnchenfleisch",selected:!1,icon:"🍗"},{name:"Rindfleisch",selected:!1,icon:"🥩"},{name:"Schweinefleisch",selected:!1,icon:"🍖"}]},{title:"Länderküche",open:!1,items:[{name:"italienisch",selected:!1,icon:"🇮🇹"},{name:"mediterran",selected:!1,icon:"🌿"},{name:"mexikanisch",selected:!1,icon:"🌮"},{name:"amerikanisch",selected:!1,icon:"🍟"},{name:"französisch",selected:!1,icon:"🥖"},{name:"afrikanisch",selected:!1,icon:"🪘"},{name:"arabisch",selected:!1,icon:"🧆"},{name:"deutsch",selected:!1,icon:"🥨"},{name:"griechisch",selected:!1,icon:"🥙"},{name:"asiatisch",selected:!1,icon:"🍜"},{name:"japanisch",selected:!1,icon:"🍣"},{name:"koreanisch",selected:!1,icon:"🍱"},{name:"spanisch",selected:!1,icon:"🥘"},{name:"russisch",selected:!1,icon:"🥟"},{name:"thailändisch",selected:!1,icon:"🍲"},{name:"türkisch",selected:!1,icon:"🍢"},{name:"vietnamesisch",selected:!1,icon:"🍜"},{name:"indisch",selected:!1,icon:"🍛"}]},{title:"Jahreszeiten",open:!1,items:[{name:"Winter",selected:!1,icon:"❄️"},{name:"Frühling",selected:!1,icon:"🌸"},{name:"Sommer",selected:!1,icon:"🌞"},{name:"Herbst",selected:!1,icon:"🍂"}]}]),y=f({duration:[0,120],rating:1,tags:[]});ye(async()=>{await j.getAuthInfo(),await V(),F()});function T(o){return k.value?"https://michael-poten.github.io/cookio-project/data/home/recipes/"+o.id+"/image.jpg?t="+(R.value[o.id]?R.value[o.id]:0):"/api/"+b.value.userId+"/recipes/"+o.id+"/image?t="+(R.value[o.id]?R.value[o.id]:0)}const w=Pe(()=>(console.log("recipes",I.value),I.value?(I.value=I.value.sort((o,t)=>{const _=o.rating,p=t.rating,J=typeof _=="number"&&_!==null,S=typeof p=="number"&&p!==null;return!J&&!S?0:J?S?p-_:1:-1}).reverse(),I.value.filter(o=>{if(!o.duration&&y.value.duration[0]>0||o.duration<y.value.duration[0]||o.duration>y.value.duration[1])return!1;if(y.value.rating>0){const t=y.value.rating-1;if((o.rating||0)<t)return!1}return!(y.value.tags.length>0&&(!o.tags||!y.value.tags.every(t=>o.tags.includes(t))))})):[]));function x(o){k.value?window.open("https://michael-poten.github.io/cookio-project/recipes/go?id="+o.id,"_blank","noopener"):window.open("/recipes/go?id="+o.id,"_blank","noopener")}async function z(o){const t={voting:o.voting?o.voting+1:1};await me.updateRecipe(b.value.userId,o.id,t),await V()}async function Y(o){const t={voting:0};await me.updateRecipe(b.value.userId,o.id,t),await V()}function q(o){const t=y.value.tags.indexOf(o);t===-1?y.value.tags.push(o):y.value.tags.splice(t,1)}async function V(){console.log("authInfo userId",b.value.userId),I.value=await X.getAllRecipes(b.value.userId)}function O(o){M.value(o).then(async t=>{t&&(o?setTimeout(()=>{const _=[o.id];F(_)},200):F())})}async function F(o){if(await V(),I.value){const t=I.value.filter(p=>!p.ingredientsInProgress&&!p.sectionsInProgress&&!p.imageInProgress).map(p=>p.id);o&&o.forEach(p=>{t.includes(p)&&(R.value[p]?R.value[p]++:R.value[p]=1)});const _=I.value.filter(p=>p.ingredientsInProgress||p.sectionsInProgress||p.imageInProgress).map(p=>p.id);_.length>0&&(await new Promise(p=>setTimeout(p,2e3)),await F(_))}}async function B(o){await me.deleteRecipe(b.value.userId,o),await V()}function te(o){ne.value(o)}return(o,t)=>{const _=m("v-btn"),p=m("v-app-bar-title"),J=m("v-app-bar"),S=m("v-list-item"),Q=m("v-divider"),de=m("v-range-slider"),A=m("v-icon"),L=m("v-rating"),le=m("v-expansion-panel-title"),re=m("v-chip"),ae=m("v-chip-group"),se=m("v-expansion-panel-text"),ce=m("v-expansion-panel"),oe=m("v-expansion-panels"),ie=m("v-navigation-drawer"),ue=m("v-progress-circular"),E=m("v-list-item-title"),d=m("v-list"),e=m("v-menu"),g=m("v-toolbar"),D=m("v-img"),P=m("v-card"),Z=m("v-col"),K=m("v-row"),ve=m("v-fab");return s(),c("div",null,[l(J,null,{default:a(()=>[l(p,null,{default:a(()=>[l(_,{to:"/recipes","prepend-icon":"mdi-chef-hat",variant:"plain"},{default:a(()=>t[7]||(t[7]=[r("Cookio")])),_:1,__:[7]})]),_:1}),C(k)?u("",!0):(s(),h(_,{key:0,"prepend-icon":"mdi-filter-outline",to:"/planner"},{default:a(()=>t[8]||(t[8]=[r(" Mahlzeiten-Planer ")])),_:1,__:[8]})),l(_,{"prepend-icon":"mdi-filter-outline",onClick:t[0]||(t[0]=n=>$.value=!$.value)},{default:a(()=>t[9]||(t[9]=[r(" Filter ")])),_:1,__:[9]})]),_:1}),l(ie,{modelValue:$.value,"onUpdate:modelValue":t[3]||(t[3]=n=>$.value=n),location:"right",width:"250"},{prepend:a(()=>[l(S,{lines:"two","prepend-icon":"mdi-text-box-search-outline",title:"Filter"})]),default:a(()=>[l(Q),i("div",Qe,[i("div",null,[t[10]||(t[10]=i("h4",null,[r("Dauer "),i("span",{style:{"font-size":"0.8em"}},"(Min.)")],-1)),l(de,{modelValue:y.value.duration,"onUpdate:modelValue":t[1]||(t[1]=n=>y.value.duration=n),elevation:"3",max:"120",step:"10","thumb-label":"always",class:"mt-8 px-2","hide-details":""},null,8,["modelValue"])]),l(Q,{class:"mt-3"}),i("div",Xe,[t[11]||(t[11]=i("h4",null,"Bewertung",-1)),l(L,{modelValue:y.value.rating,"onUpdate:modelValue":t[2]||(t[2]=n=>y.value.rating=n),hover:"",length:"6",size:"40","active-color":"primary",class:"py-3"},{item:a(n=>[l(A,{color:n.isFilled?n.index===0?"#92aac5":"#1e3f66":"grey-lighten-1",size:"large"},{default:a(()=>[r(W(n.isFilled&&n.index===0?"mdi-star-off":"mdi-star"),1)]),_:2},1032,["color"])]),_:1},8,["modelValue"])]),l(Q),i("div",Ye,[(s(!0),c(fe,null,pe(G.value,n=>(s(),c("div",{key:n.title},[l(oe,{multiple:""},{default:a(()=>[l(ce,{elevation:"0",modelValue:n.open,"onUpdate:modelValue":v=>n.open=v,class:"pa-0 ma-0"},{default:a(()=>[l(le,{class:"pa-0",static:""},{default:a(()=>[i("div",null,[i("h4",null,[r(W(n.title)+" ",1),n.items.some(v=>y.value.tags.includes(v.name))?(s(),c("span",qe,"("+W(n.items.filter(v=>y.value.tags.includes(v.name)).length)+")",1)):u("",!0)])])]),_:2},1024),l(se,{class:"no-padding-content"},{default:a(()=>[l(ae,{"selected-class":"selected-chip",column:"",multiple:""},{default:a(()=>[(s(!0),c(fe,null,pe(n.items,v=>(s(),h(re,{key:v.name,text:v.icon+" "+v.name,value:v.name,variant:y.value.tags.includes(v.name)?"elevated":"tonal",onClick:gn=>q(v.name)},null,8,["text","value","variant","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]))),128))])])]),_:1},8,["modelValue"]),l(K,{class:"text-center"},{default:a(()=>[C(w).length===0?(s(),c("div",Le,[i("div",null,[l(A,{icon:"mdi-chef-hat",size:"50"})]),t[12]||(t[12]=i("div",{style:{"font-size":"1.8em"}},"Keine Rezepte gefunden!",-1))])):u("",!0),(s(!0),c(fe,null,pe(C(w),n=>(s(),h(Z,{cols:"12",md:"4",sm:"6",lg:"3",xl:"2",key:n.id},{default:a(()=>[l(P,{class:"mx-auto","max-width":"374"},{default:a(()=>[(s(),h(D,{class:"position-relative",height:"200",src:T(n),key:R.value[n.id]?R.value[n.id]:0,color:"grey",cover:""},{default:a(()=>[n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress?(s(),c("div",en,[n.sectionsInProgress||n.ingredientsInProgress?(s(),c("span",nn,[i("span",null,[l(ue,{indeterminate:"",color:"white"})]),t[13]||(t[13]=r()),t[14]||(t[14]=i("span",null,"Wird noch analysiert...",-1))])):u("",!0),n.imageInProgress?(s(),c("span",tn,[i("span",null,[l(ue,{indeterminate:"",color:"white"})]),t[15]||(t[15]=r()),t[16]||(t[16]=i("span",null,"Bild wird generiert...",-1))])):u("",!0)])):u("",!0),!C(k)&&n.rating?(s(),c("div",ln,[l(L,{modelValue:n.rating,"onUpdate:modelValue":v=>n.rating=v,hover:"",length:"5",size:"20",readonly:""},null,8,["modelValue","onUpdate:modelValue"])])):u("",!0),n.duration?(s(),c("div",an,[i("div",sn,[i("b",null,W(n.duration)+" Min.",1)])])):u("",!0),!n.duration&&!n.tags&&!(n.sectionsInProgress||n.ingredientsInProgress||n.imageInProgress)?(s(),c("div",on,[i("span",null,[l(A,{icon:"mdi-information-slab-circle"}),t[17]||(t[17]=r()),t[18]||(t[18]=i("b",null,"Nur Zutatenliste vorhanden!",-1))])])):u("",!0),l(g,{color:"transparent"},{append:a(()=>[!C(k)&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(s(),h(_,ge({key:0,color:"white"},{ref_for:!0},o.props,{onClick:v=>z(n),style:{"background-color":"rgba(93,93,93,0.66)"}}),{default:a(()=>[n.voting&&n.voting>0?(s(),c("span",un,W(n.voting),1)):u("",!0),n.voting&&n.voting>0?(s(),c("span",dn,"x")):u("",!0),l(A,{icon:n.voting&&n.voting>0?"mdi-thumb-up":"mdi-thumb-up-outline",size:"30"},null,8,["icon"])]),_:2},1040,["onClick"])):u("",!0),!C(k)&&n.sectionsInProgress||n.ingredientsInProgress||n.imageInProgress?(s(),h(_,ge({key:1,icon:"mdi-stop-circle-outline",color:"white"},{ref_for:!0},o.props,{onClick:v=>B(n.id),variant:"plain"}),null,16,["onClick"])):u("",!0),l(e,null,{activator:a(({props:v})=>[!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(s(),h(_,ge({key:0,icon:"mdi-dots-vertical",color:"white"},{ref_for:!0},v),{default:a(()=>[l(A,{icon:"mdi-dots-vertical",size:"35"})]),_:2},1040)):u("",!0)]),default:a(()=>[!n.imageInProgress&&!n.sectionsInProgress?(s(),h(d,{key:0},{default:a(()=>[n.duration||n.tags?(s(),h(S,{key:0,onClick:v=>x(n)},{default:a(()=>[l(E,null,{default:a(()=>t[19]||(t[19]=[r("Rezept zubereiten")])),_:1,__:[19]})]),_:2},1032,["onClick"])):u("",!0),C(k)?u("",!0):(s(),h(S,{key:1,onClick:v=>O(n)},{default:a(()=>[l(E,null,{default:a(()=>t[20]||(t[20]=[r("Daten importieren")])),_:1,__:[20]})]),_:2},1032,["onClick"])),l(S,{onClick:v=>te(n.id)},{default:a(()=>[l(E,null,{default:a(()=>t[21]||(t[21]=[r("Zutaten einkaufen")])),_:1,__:[21]})]),_:2},1032,["onClick"]),!C(k)&&n.voting&&n.voting>0?(s(),h(S,{key:2,onClick:v=>Y(n)},{default:a(()=>[l(E,null,{default:a(()=>t[22]||(t[22]=[r("Vorschläge löschen")])),_:1,__:[22]})]),_:2},1032,["onClick"])):u("",!0),C(k)?u("",!0):(s(),h(S,{key:3,onClick:v=>B(n.id)},{default:a(()=>[l(E,null,{default:a(()=>t[23]||(t[23]=[r("Löschen")])),_:1,__:[23]})]),_:2},1032,["onClick"]))]),_:2},1024)):u("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["src"])),!n.sectionsInProgress&&!n.sectionsUploaded?(s(),c("div",rn,[i("span",cn,W(n.title),1)])):u("",!0),(n.duration||n.tags)&&!n.ingredientsInProgress&&!n.sectionsInProgress?(s(),c("div",vn,[i("a",{target:"_blank",style:{"text-decoration-line":"none",color:"#000000","font-size":"1.2em",cursor:"pointer"},class:"text-medium-emphasis",onClick:v=>x(n)},W(n.title),9,mn)])):u("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1}),t[24]||(t[24]=i("div",{style:{height:"70px"}},null,-1)),C(k)?u("",!0):(s(),h(ve,{color:"rgb(89, 135, 184)",key:"test","prepend-icon":"mdi-cookie-plus-outline",app:!0,location:"right bottom",text:"Rezept hinzufügen",extended:"",size:"large",onClick:t[4]||(t[4]=n=>O(null))})),l(Je,{onResult:t[5]||(t[5]=n=>M.value=n)}),l(he,{onResult:t[6]||(t[6]=n=>ne.value=n)})])}}},pn=be(fn,[["__scopeId","data-v-0e40dc70"]]),In={__name:"index",setup(ke){return ye(async()=>{}),(X,j)=>(s(),h(pn))}};export{In as default};
