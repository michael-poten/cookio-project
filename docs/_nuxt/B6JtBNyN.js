import{I as Te,C as De,R as z,a as ze}from"./LCugjtjD.js";import{_ as Ue,M as Fe,K as Se,N as te,O as $e,J as Ge,P as Ee,r as R,o as se,W as Me,g as v,x as c,y as a,B as l,z as m,Q as k,R as u,C as d,D as p,U as y,A as x,S as A,T as N,X as Be,V as Ke}from"./BCXBraev.js";import{R as We}from"./BoM-a-sG.js";const Ae={class:"pa-4"},Ne={style:{width:"100%"}},Ze={key:0},je={class:"mt-2"},He={key:2,class:"mt-2"},Oe={key:3,class:"mt-2"},Je={key:5,class:"mt-2"},Qe={key:0},Xe={key:0,class:"text-center mt-8 text-high-emphasis",style:{width:"100%"}},qe={key:0,class:"mt-2 mb-1",style:{"font-size":"1.2em"}},Ye={class:"overlay-top-left"},Le={key:0},en={key:0,class:"px-1 pb-1",style:{"background-color":"rgba(93,93,93,0.66)"}},nn={key:1},tn={key:0},sn={key:1},ln={key:0,class:"overlay-bottom-right"},an={key:0,style:{"background-color":"rgba(93,93,93,0.66)"},class:"px-1"},on={key:1,style:{"background-color":"rgba(93,93,93,0.66)"},class:"px-1 mt-1"},dn={class:"overlay-bottom-left pa-1"},un={key:1,style:{"background-color":"rgba(93,93,93,0.66)","font-size":"0.8em"},class:"pa-1"},rn={key:0},cn={key:0},mn={class:"mr-0",style:{"font-weight":"600","font-size":"1.6em"}},fn={key:1},vn={key:1,class:"ma-2"},gn={style:{"font-size":"1.2em"},class:"text-medium-emphasis"},hn={key:2,class:"ma-2"},_n=["onClick"],kn={key:3,class:"ma-2"},yn={__name:"RecipeOverview",setup(le){const Z=Fe(),j=Se(),{recipes:U}=te(Z),{authInfo:I,githubMode:g,lanAddress:ae,showFilter:E}=te(j),oe=$e();Ge(),Ee();const V=R({}),O=R(null),J=R(null),Q=R(null),P=R(!1),M=R([]),F=R([]),ie=R([{title:"Mahlzeiten",open:!1,items:[{name:"Frühstück",selected:!1,icon:"🍳"},{name:"Vorspeise",selected:!1,icon:"🥗"},{name:"Hauptmahlzeit",selected:!1,icon:"🍽️"},{name:"Dessert",selected:!1,icon:"🍨"},{name:"Kuchen",selected:!1,icon:"🍰"},{name:"Gebäck",selected:!1,icon:"🥐"},{name:"Snack",selected:!1,icon:"🍿"},{name:"Grill",selected:!1,icon:"🔥"},{name:"Weihnachten",selected:!1,icon:"🎄"}]},{title:"Zutaten",open:!1,items:[{name:"Kartoffeln",selected:!1,icon:"🥔"},{name:"Reis",selected:!1,icon:"🍚"},{name:"Pasta",selected:!1,icon:"🍝"},{name:"Risotto",selected:!1,icon:"🍚"},{name:"Pilze",selected:!1,icon:"🍄"},{name:"Kürbis",selected:!1,icon:"🎃"},{name:"Gnocchi",selected:!1,icon:"🥔"},{name:"Spätzle",selected:!1,icon:"🍝"},{name:"Halloumi",selected:!1,icon:"🧀"},{name:"Tortellini",selected:!1,icon:"🍥"},{name:"Pesto",selected:!1,icon:"🌿"},{name:"Käse",selected:!1,icon:"🧀"}]},{title:"Zubereitungsart",open:!1,items:[{name:"Pizza",selected:!1,icon:"🍕"},{name:"Auflauf",selected:!1,icon:"🥘"},{name:"Eintopf",selected:!1,icon:"🍲"},{name:"Suppe",selected:!1,icon:"🥣"},{name:"Salat",selected:!1,icon:"🥗"},{name:"Bowl",selected:!1,icon:"🥙"},{name:"Curry",selected:!1,icon:"🍛"},{name:"Fast-Food",selected:!1,icon:"🍔"},{name:"Gourmet",selected:!1,icon:"👨‍🍳"},{name:"Wrap",selected:!1,icon:"🥙"},{name:"Sandwich",selected:!1,icon:"🥪"},{name:"Burger",selected:!1,icon:"🍔"},{name:"Thermomix",selected:!1,icon:"⚙️"},{name:"Flammkuchen",selected:!1,icon:"🍕"}]},{title:"Fleischtyp",open:!1,items:[{name:"vegetarisch",selected:!1,icon:"🥦"},{name:"vegan",selected:!1,icon:"🌱"},{name:"Tofu",selected:!1,icon:"🧈"},{name:"Soja",selected:!1,icon:"🫘"},{name:"Fisch",selected:!1,icon:"🐟"},{name:"Fleisch",selected:!1,icon:"🥩"},{name:"Hähnchenfleisch",selected:!1,icon:"🍗"},{name:"Rindfleisch",selected:!1,icon:"🥩"},{name:"Schweinefleisch",selected:!1,icon:"🍖"}]},{title:"Länderküche",open:!1,items:[{name:"italienisch",selected:!1,icon:"🇮🇹"},{name:"mediterran",selected:!1,icon:"🌿"},{name:"mexikanisch",selected:!1,icon:"🌮"},{name:"amerikanisch",selected:!1,icon:"🍟"},{name:"französisch",selected:!1,icon:"🥖"},{name:"afrikanisch",selected:!1,icon:"🪘"},{name:"arabisch",selected:!1,icon:"🧆"},{name:"deutsch",selected:!1,icon:"🥨"},{name:"griechisch",selected:!1,icon:"🥙"},{name:"asiatisch",selected:!1,icon:"🍜"},{name:"japanisch",selected:!1,icon:"🍣"},{name:"koreanisch",selected:!1,icon:"🍱"},{name:"spanisch",selected:!1,icon:"🥘"},{name:"russisch",selected:!1,icon:"🥟"},{name:"thailändisch",selected:!1,icon:"🍲"},{name:"türkisch",selected:!1,icon:"🍢"},{name:"vietnamesisch",selected:!1,icon:"🍜"},{name:"indisch",selected:!1,icon:"🍛"}]},{title:"Jahreszeiten",open:!1,items:[{name:"Winter",selected:!1,icon:"❄️"},{name:"Frühling",selected:!1,icon:"🌸"},{name:"Sommer",selected:!1,icon:"🌞"},{name:"Herbst",selected:!1,icon:"🍂"}]}]),o=R({duration:[0,120],rating:1,cookedDays:[0,10],tags:[],showPlanned:!0,showTags:!1,showUnrated:!0}),de=R(["Fleisch","Fisch","Reis","Gefüllte Nudeln","Pasta","Gnocchi","Getreideprodukte","Tofu","Kartoffeln","Teigware"]);se(async()=>{await j.getAuthInfo(),T(!0),o.value.showPlanned=g.value,E.value=!oe.mobile}),Me(o,t=>{setTimeout(()=>{X()},400)},{deep:!0});function ue(t){return g.value?"https://mmhhhh.de/data/home/recipes/"+t.id+"/image.jpg?t="+(V.value[t.id]?V.value[t.id]:0):ae.value+"api/"+I.value.userId+"/recipes/"+t.id+"/image?t="+(V.value[t.id]?V.value[t.id]:0)}function X(){if(!U.value)return F.value=[],[];let t=[];return P.value?t=M.value:t=U.value,t=t.filter(e=>{if(!o.value.showPlanned&&e.planned||!e.duration&&o.value.duration[0]>0||e.duration<o.value.duration[0]||e.duration>o.value.duration[1])return!1;if(o.value.cookedDays){const s=[o.value.cookedDays[0]*7,o.value.cookedDays[1]===10?5e4:o.value.cookedDays[1]*7];if((e.lastCookedDays===void 0||e.lastCookedDays===null)&&s[1]<5e4||e.lastCookedDays!==void 0&&e.lastCookedDays!==null&&(e.lastCookedDays<s[0]||e.lastCookedDays>s[1]))return!1}if(g.value&&!e.uploaded)return!1;if(o.value.rating>0||!o.value.showUnrated){if(!o.value.showUnrated&&!e.rating)return!1;const s=o.value.rating-1,i=e.rating;if(i&&i<s)return!1}return!(o.value.tags.length>0&&(!e.tags||!o.value.tags.every(s=>e.tags.includes(s))))}),P.value?(F.value=t,t):(t=t.sort((e,s)=>{const i=!!e.ingredientsInProgress||!!e.sectionsInProgress||!!e.imageInProgress,f=!!s.ingredientsInProgress||!!s.sectionsInProgress||!!s.imageInProgress;if(i-f!==0)return i-f;const w=e.planned!==null&&e.planned!==void 0?e.planned:!1,r=s.planned!==null&&s.planned!==void 0?s.planned:!1;if(w-r!==0)return w-r;const _=e.uploaded?e.uploaded:!1,$=s.uploaded?s.uploaded:!1;if($-_!==0)return $-_;const G=e.rating,S=s.rating,K=typeof G=="number"&&G!==null,W=typeof S=="number"&&S!==null;return!K&&!W?0:K?W?S-G:1:-1}).reverse(),F.value=t,t)}function re(){if(P.value)o.value.showPlanned=!0,o.value.showUnrated=!0,o.value.cookedDays=[0,10],o.value.showTags=!1,o.value.tags=[],P.value=!1;else{let t=[];U.value.forEach(f=>t.push(f));for(let f=t.length-1;f>0;f--){const w=Math.floor(Math.random()*(f+1));[t[f],t[w]]=[t[w],t[f]]}M.value=t;const e=[],s=[];C([],["Fleisch"],e,s,2),C([],["Fisch"],e,s,2),C(["Fleisch","Tofu"],["Pasta"],e,s,3),C(["Fleisch","Tofu"],["Gefüllte Nudeln"],e,s,2),C(["Fleisch","Tofu"],["Reis"],e,s,2),C(["Fleisch","Tofu"],["Gnocchi"],e,s,1),C(["Fleisch","Tofu"],["Getreideprodukte"],e,s,1),C(["Fleisch","Tofu"],["Kartoffeln"],e,s,1),C(["Fleisch","Tofu"],["Teigware"],e,s,1),C(["Fleisch"],["Tofu"],e,s,1),C(["Fleisch","Pasta"],["Tofu"],e,s,1);let i=[];s.forEach(f=>i.push(f));for(let f=i.length-1;f>0;f--){const w=Math.floor(Math.random()*(f+1));[i[f],i[w]]=[i[w],i[f]]}M.value=i.slice(0,8),o.value.showPlanned=!1,o.value.showTags=!1,o.value.showUnrated=!0,o.value.cookedDays=[0,10],o.value.tags=[],P.value=!0}}async function q(t){if(navigator.share)try{await navigator.share({title:t.title,text:t.title,url:"https://mmhhhh.de/recipes/go?id="+t.id})}catch(e){console.error("Teilen abgebrochen",e)}else await navigator.clipboard.writeText("https://mmhhhh.de/recipes/go?id="+t.id)}function C(t,e,s,i,f){let w=M.value.filter(r=>!s.includes(r.id)).filter(r=>!r.planned).filter(r=>!r.voting||r.voting===0).filter(r=>{const _=[21,5e4];return!((r.lastCookedDays===void 0||r.lastCookedDays===null)&&_[1]<5e4||r.lastCookedDays!==void 0&&r.lastCookedDays!==null&&(r.lastCookedDays<_[0]||r.lastCookedDays>_[1]))}).filter(r=>t?t.every(_=>!(r.tags?r.tags:[]).includes(_)):!0).filter(r=>e?e.every(_=>(r.tags?r.tags:[]).includes(_)):!0).slice(0,f);w.forEach(r=>s.push(r.id)),w.forEach(r=>i.push(r))}async function ce(t,e){t.tags&&t.tags.includes(e)?t.tags=t.tags.filter(i=>i!==e):(t.tags||(t.tags=[]),t.tags.push(e));const s={tags:t.tags};await z.updateRecipe(I.value.userId,t.id,s),T()}function Y(t){g.value?window.open("https://mmhhhh.de/recipes/go?id="+t.id,"_blank","noopener"):window.open("/recipes/go?id="+t.id,"_blank","noopener")}async function me(t){if(t.planned){const e={voting:0,planned:!1,cooked:!1,ordered:!1};await z.updateRecipe(I.value.userId,t.id,e),z.uploadRecipeToGithub(I.value.userId,null),t.voting=0,t.planned=!1,t.uploaded=!1,t.ordered=!1}else{const e={voting:t.voting?t.voting+1:1};await z.updateRecipe(I.value.userId,t.id,e),t.voting=t.voting?t.voting+1:1}await T()}async function fe(t){t.planned=!0,t.voting=0;const e={voting:0,planned:!0};await z.updateRecipe(I.value.userId,t.id,e),await T(),H(null)}async function H(t){await z.uploadRecipeToGithub(I.value.userId,t?t.id:null),t&&(t.uploaded=!0,await T())}async function ve(t){t.voting=0;const e={voting:0};await z.updateRecipe(I.value.userId,t.id,e),await T()}function ge(t){const e=o.value.tags.indexOf(t);e===-1?o.value.tags.push(t):o.value.tags.splice(e,1)}async function T(t=!1){console.log("authInfo userId",I.value.userId),U.value=await Z.getAllRecipes(I.value.userId),!g.value&&t&&B(),setTimeout(()=>{X()},400)}function L(t){O.value(t).then(async e=>{e&&(t?setTimeout(()=>{const s=[t.id];B(s)},200):B())})}async function B(t){if(!g.value&&(await T(),U.value)){const e=U.value.filter(i=>!i.ingredientsInProgress&&!i.sectionsInProgress&&!i.imageInProgress).map(i=>i.id);t&&t.forEach(i=>{e.includes(i)&&(V.value[i]?V.value[i]++:V.value[i]=1)});const s=U.value.filter(i=>i.ingredientsInProgress||i.sectionsInProgress||i.imageInProgress).map(i=>i.id);s.length>0&&(await new Promise(i=>setTimeout(i,2e3)),await B(s))}}async function ee(t){Q.value(t).then(async e=>{e&&(await z.deleteRecipe(I.value.userId,t),await T(),z.uploadRecipeToGithub(I.value.userId,null))})}function he(t){J.value(t)}async function _e(t){await ze.analyzeWithNewEngine(I.value.userId,t),await T()}return(t,e)=>{const s=v("v-list-item"),i=v("v-divider"),f=v("v-btn"),w=v("v-checkbox"),r=v("v-range-slider"),_=v("v-icon"),$=v("v-rating"),G=v("v-expansion-panel-title"),S=v("v-chip"),K=v("v-chip-group"),W=v("v-expansion-panel-text"),ke=v("v-expansion-panel"),ye=v("v-expansion-panels"),pe=v("v-navigation-drawer"),ne=v("v-progress-circular"),D=v("v-list-item-title"),we=v("v-list"),be=v("v-menu"),Ie=v("v-toolbar"),Pe=v("v-img"),Ce=v("v-card"),Re=v("v-col"),xe=v("v-row"),Ve=v("v-fab");return a(),c("div",null,[l(pe,{modelValue:y(E),"onUpdate:modelValue":e[6]||(e[6]=n=>Be(E)?E.value=n:null),location:"right",width:"250",temporary:t.$vuetify.display.mobile},{prepend:d(()=>[l(s,{class:"mt-2","prepend-icon":"mdi-text-box-search-outline",title:"Filter"})]),default:d(()=>[l(i),m("div",Ae,[m("div",Ne,[l(f,{style:{width:"100%"},"min-height":"60",variant:"elevated",onClick:re,stacked:"",elevation:"0",border:"",active:P.value,"active-color":"rgb(89, 135, 184)","prepend-icon":"mdi-heart-search"},{default:d(()=>[...e[11]||(e[11]=[p("Auswahlmodus",-1)])]),_:1},8,["active"])]),l(i,{class:"mt-3"}),P.value?u("",!0):(a(),c("div",Ze,[l(w,{modelValue:o.value.showPlanned,"onUpdate:modelValue":e[0]||(e[0]=n=>o.value.showPlanned=n),"hide-details":"auto",density:"comfortable",label:"Geplante anzeigen"},null,8,["modelValue"]),l(w,{modelValue:o.value.showTags,"onUpdate:modelValue":e[1]||(e[1]=n=>o.value.showTags=n),"hide-details":"auto",density:"comfortable",label:"Basis-Tags bearbeiten"},null,8,["modelValue"])])),P.value?u("",!0):(a(),k(i,{key:1,class:"mt-3"})),m("div",je,[e[12]||(e[12]=m("h4",null,[p("Dauer "),m("span",{style:{"font-size":"0.8em"}},"(Min.)")],-1)),l(r,{modelValue:o.value.duration,"onUpdate:modelValue":e[2]||(e[2]=n=>o.value.duration=n),elevation:"3",max:"120",step:"10","thumb-label":"always",class:"mt-8 px-2","hide-details":""},null,8,["modelValue"])]),!y(g)&&!P.value?(a(),c("div",He,[e[13]||(e[13]=m("h4",null,"Zuletzt gekocht (Wochen)",-1)),l(r,{modelValue:o.value.cookedDays,"onUpdate:modelValue":e[3]||(e[3]=n=>o.value.cookedDays=n),elevation:"3",max:"10",step:"1","thumb-label":"always",class:"mt-8 px-2","hide-details":""},null,8,["modelValue"])])):u("",!0),l(i,{class:"mt-3"}),y(g)?u("",!0):(a(),c("div",Oe,[e[14]||(e[14]=m("h4",null,"Bewertung",-1)),l($,{modelValue:o.value.rating,"onUpdate:modelValue":e[4]||(e[4]=n=>o.value.rating=n),hover:"",length:"6",size:"40","active-color":"primary",class:"py-3"},{item:d(n=>[l(_,{color:n.isFilled?n.index===0?"#92aac5":"#1e3f66":"grey-lighten-1",size:"large"},{default:d(()=>[p(x(n.isFilled&&n.index===0?"mdi-star-off":"mdi-star"),1)]),_:2},1032,["color"])]),_:1},8,["modelValue"]),l(w,{modelValue:o.value.showUnrated,"onUpdate:modelValue":e[5]||(e[5]=n=>o.value.showUnrated=n),"hide-details":"auto",density:"comfortable",label:"Unbewertete anzeigen"},null,8,["modelValue"])])),P.value?u("",!0):(a(),k(i,{key:4})),P.value?u("",!0):(a(),c("div",Je,[(a(!0),c(A,null,N(ie.value,n=>(a(),c("div",{key:n.title},[l(ye,{multiple:""},{default:d(()=>[l(ke,{elevation:"0",modelValue:n.open,"onUpdate:modelValue":b=>n.open=b,class:"pa-0 ma-0"},{default:d(()=>[l(G,{class:"pa-0",static:""},{default:d(()=>[m("div",null,[m("h4",null,[p(x(n.title)+" ",1),n.items.some(b=>o.value.tags.includes(b.name))?(a(),c("span",Qe,"("+x(n.items.filter(b=>o.value.tags.includes(b.name)).length)+")",1)):u("",!0)])])]),_:2},1024),l(W,{class:"no-padding-content"},{default:d(()=>[l(K,{"selected-class":"selected-chip",column:"",multiple:""},{default:d(()=>[(a(!0),c(A,null,N(n.items,b=>(a(),k(S,{key:b.name,text:b.icon+" "+b.name,value:b.name,variant:o.value.tags.includes(b.name)?"elevated":"tonal",onClick:h=>ge(b.name)},null,8,["text","value","variant","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]))),128))]))])]),_:1},8,["modelValue","temporary"]),l(xe,{class:"text-center"},{default:d(()=>[F.value.length===0?(a(),c("div",Xe,[m("div",null,[l(_,{icon:"mdi-chef-hat",size:"50"})]),e[15]||(e[15]=m("div",{style:{"font-size":"1.8em"}},"Keine Rezepte gefunden!",-1))])):u("",!0),(a(!0),c(A,null,N(F.value,(n,b)=>(a(),k(Re,{cols:"12",md:"4",sm:"6",lg:"3",xl:"2",key:n.id},{default:d(()=>[l(Ce,{class:"mx-auto","max-width":"374",color:n.uploaded?null:"#ADCEE9",border:!n.uploaded},{default:d(()=>[P.value?(a(),c("div",qe,[m("b",null,"Vorschlag "+x(b+1+" / "+F.value.length),1)])):u("",!0),(a(),k(Pe,{class:"position-relative",height:"200",src:ue(n),key:V.value[n.id]?V.value[n.id]:0,color:"grey",cover:""},{default:d(()=>[m("div",Ye,[!y(g)&&(n.rating||!n.uploaded)?(a(),c("div",Le,[n.rating?(a(),c("div",en,[l($,{modelValue:n.rating,"onUpdate:modelValue":h=>n.rating=h,hover:"",length:"5",size:"20",readonly:"",class:"mb-1"},null,8,["modelValue","onUpdate:modelValue"])])):u("",!0)])):u("",!0),n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress?(a(),c("div",nn,[n.sectionsInProgress||n.ingredientsInProgress?(a(),c("span",tn,[m("span",null,[l(ne,{indeterminate:"",color:"white"})]),e[16]||(e[16]=p()),e[17]||(e[17]=m("span",null,"Wird analysiert...",-1))])):u("",!0),n.imageInProgress?(a(),c("span",sn,[m("span",null,[l(ne,{indeterminate:"",color:"white"})]),e[18]||(e[18]=p()),e[19]||(e[19]=m("span",null,"Bild wird generiert...",-1))])):u("",!0)])):u("",!0)]),n.duration||n.lastCookedDays>=0&&!y(g).value?(a(),c("div",ln,[n.lastCookedDays>=0&&!y(g).value?(a(),c("div",an,[l(_,{icon:"mdi-bowl-mix-outline",class:"mr-1"}),m("b",null,"Vor "+x(n.lastCookedDays)+" Tagen",1)])):u("",!0),n.duration?(a(),c("div",on,[l(_,{icon:"mdi-clock-outline",class:"mr-1"}),m("b",null,x(n.duration)+" Min.",1)])):u("",!0)])):u("",!0),m("div",dn,[!y(g)&&!n.uploaded&&!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.imageInProgress?(a(),k(f,{key:0,class:"mb-1",onClick:h=>H(n),style:{"background-color":"rgba(93,93,93,0.66)"}},{default:d(()=>[l(_,{icon:"mdi-upload-off",size:"30"})]),_:1},8,["onClick"])):u("",!0),!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.imageInProgress&&!n.sectionsUploaded?(a(),c("div",un,[l(_,{icon:"mdi-information-slab-circle"}),e[20]||(e[20]=p()),e[21]||(e[21]=m("b",null,"Nur Zutatenliste vorhanden!",-1))])):u("",!0)]),l(Ie,{color:"transparent"},{append:d(()=>[y(g)&&!n.planned&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(a(),k(f,{key:0,onClick:h=>q(n),style:{"background-color":"rgba(93,93,93,0.66)"},class:"mr-1"},{default:d(()=>[m("div",null,[l(_,{icon:"mdi-share-variant-outline",size:"30"})])]),_:1},8,["onClick"])):u("",!0),(y(g)&&n.planned||!y(g))&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(a(),k(f,{key:1,onClick:h=>me(n),style:{"background-color":"rgba(93,93,93,0.66)"}},{default:d(()=>[m("div",null,[n.planned?u("",!0):(a(),c("div",rn,[n.voting&&n.voting>0?(a(),c("span",cn,[m("span",mn,x(n.voting),1),e[22]||(e[22]=m("span",{class:"mr-1",style:{"font-weight":"600","font-size":"1.1em"}},"x",-1))])):u("",!0),l(_,{icon:n.voting&&n.voting>0?"mdi-thumb-up":"mdi-thumb-up-outline",size:"30"},null,8,["icon"])])),n.planned?(a(),c("div",fn,[l(_,{icon:"mdi-bowl-mix",size:"30",color:"blue"})])):u("",!0)])]),_:2},1032,["onClick"])):u("",!0),!y(g)&&(n.sectionsInProgress||n.ingredientsInProgress||n.imageInProgress)?(a(),k(f,{key:2,icon:"mdi-stop-circle-outline",color:"white",onClick:h=>ee(n.id),variant:"plain"},null,8,["onClick"])):u("",!0),l(be,null,{activator:d(({props:h})=>[!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(a(),k(f,Ke({key:0,icon:"mdi-dots-vertical",color:"white"},{ref_for:!0},h),{default:d(()=>[l(_,{icon:"mdi-dots-vertical",size:"35"})]),_:1},16)):u("",!0)]),default:d(()=>[!n.imageInProgress&&!n.sectionsInProgress?(a(),k(we,{key:0},{default:d(()=>[!y(g)&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress&&!n.planned?(a(),k(s,{key:0,onClick:h=>fe(n)},{default:d(()=>[l(D,null,{default:d(()=>[...e[23]||(e[23]=[p("Einplanen",-1)])]),_:1})]),_:1},8,["onClick"])):u("",!0),!y(g)&&n.voting&&n.voting>0?(a(),k(s,{key:1,onClick:h=>ve(n)},{default:d(()=>[l(D,null,{default:d(()=>[...e[24]||(e[24]=[p("Likes löschen",-1)])]),_:1})]),_:1},8,["onClick"])):u("",!0),n.sectionsUploaded?(a(),k(s,{key:2,onClick:h=>Y(n)},{default:d(()=>[l(D,null,{default:d(()=>[...e[25]||(e[25]=[p("Zubereiten",-1)])]),_:1})]),_:1},8,["onClick"])):u("",!0),l(s,{onClick:h=>he(n.id)},{default:d(()=>[l(D,null,{default:d(()=>[...e[26]||(e[26]=[p("Zutaten einkaufen",-1)])]),_:1})]),_:1},8,["onClick"]),l(i),y(g)?u("",!0):(a(),k(s,{key:3,onClick:h=>L(n)},{default:d(()=>[l(D,null,{default:d(()=>[...e[27]||(e[27]=[p("Daten importieren",-1)])]),_:1})]),_:1},8,["onClick"])),!y(g)&&n.engine!=="gpt-5"?(a(),k(s,{key:4,onClick:h=>_e(n.id)},{default:d(()=>[l(D,null,{default:d(()=>[...e[28]||(e[28]=[p("Analyse wiederholen",-1)])]),_:1})]),_:1},8,["onClick"])):u("",!0),l(s,{onClick:h=>H(n)},{default:d(()=>[l(D,null,{default:d(()=>[...e[29]||(e[29]=[p("Github-Upload",-1)])]),_:1})]),_:1},8,["onClick"]),y(g)?u("",!0):(a(),k(s,{key:5,onClick:h=>ee(n.id)},{default:d(()=>[l(D,null,{default:d(()=>[...e[30]||(e[30]=[p("Löschen",-1)])]),_:1})]),_:1},8,["onClick"])),y(g)?(a(),k(s,{key:6,onClick:h=>q(n)},{default:d(()=>[l(D,null,{default:d(()=>[...e[31]||(e[31]=[p("Link teilen...",-1)])]),_:1})]),_:1},8,["onClick"])):u("",!0)]),_:2},1024)):u("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["src"])),!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.sectionsUploaded?(a(),c("div",vn,[m("span",gn,x(n.title),1)])):u("",!0),!n.ingredientsInProgress&&!n.sectionsInProgress&&n.sectionsUploaded?(a(),c("div",hn,[m("a",{target:"_blank",style:{"text-decoration-line":"none",color:"#000000","font-size":"1.2em",cursor:"pointer"},class:"text-medium-emphasis",onClick:h=>Y(n)},x(n.title),9,_n)])):u("",!0),(o.value.showTags||!n.uploaded||!n.tags||n.tags.length===0)&&!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.imageInProgress?(a(),c("div",kn,[(a(!0),c(A,null,N(de.value,h=>(a(),c("span",{key:h},[l(S,{class:"ml-1 mt-1",color:n.tags&&n.tags.includes(h)?"#183240":"#9f9f9f",onClick:wn=>ce(n,h)},{default:d(()=>[p(x(h),1)]),_:2},1032,["color","onClick"])]))),128))])):u("",!0)]),_:2},1032,["color","border"])]),_:2},1024))),128))]),_:1}),e[32]||(e[32]=m("div",{style:{height:"70px"}},null,-1)),y(g)?u("",!0):(a(),k(Ve,{color:"rgb(89, 135, 184)",key:"test","prepend-icon":"mdi-cookie-plus-outline",app:!0,location:"right bottom",text:"Rezept hinzufügen",extended:"",size:"large",onClick:e[7]||(e[7]=n=>L(null))})),l(We,{onResult:e[8]||(e[8]=n=>O.value=n)}),l(Te,{onResult:e[9]||(e[9]=n=>J.value=n)}),l(De,{onResult:e[10]||(e[10]=n=>Q.value=n),title:"Bitte bestätigen",message:"Soll das Rezept wirklich gelöscht werden?"})])}}},pn=Ue(yn,[["__scopeId","data-v-cb0cd37e"]]),Cn={__name:"index",setup(le){return se(async()=>{}),(Z,j)=>(a(),k(pn))}};export{Cn as default};
