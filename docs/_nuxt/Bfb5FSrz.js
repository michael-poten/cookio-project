import{I as $e,C as Ue,R as F,a as Fe}from"./BlvpooUH.js";import{_ as Se,M as Ge,K as Me,N as ue,O as Ee,J as Be,P as Ae,r as D,o as re,W as Ke,g,x as v,y as s,B as a,Q as h,R as u,z as r,C as i,D as p,U as w,A as x,S as A,T as K,X as Ne,Y as We,V as He}from"./DKJdWrDP.js";import{R as Oe}from"./DEQNBqoE.js";import"./CVXuDRlx.js";const Ze={class:"pa-4"},je={style:{width:"100%"}},Je={class:"text-center"},Ye={key:0},Qe={class:"mt-2"},Xe={key:2,class:"mt-2"},qe={key:3,class:"mt-2"},Le={key:5,class:"mt-2"},en={key:0},nn={key:0},tn=["href"],sn={key:1},ln=["href"],an={style:{"background-color":"rgb(166, 190, 226)","font-size":"0.7em"},class:"pl-1"},on={key:0,class:"text-center mt-8 text-high-emphasis",style:{width:"100%"}},dn={key:0,class:"mt-2 mb-1",style:{"font-size":"1.2em"}},un={class:"overlay-top-left"},rn={key:0},cn={key:0,class:"px-1 pb-1",style:{"background-color":"rgba(93,93,93,0.66)"}},mn={key:1},fn={key:0},vn={key:1},gn={key:2},hn={key:0,class:"overlay-bottom-right"},yn={key:0,style:{"background-color":"rgba(93,93,93,0.66)"},class:"px-1"},kn={key:1,style:{"background-color":"rgba(93,93,93,0.66)"},class:"px-1 mt-1"},_n={class:"overlay-bottom-left pa-1"},pn={key:1,style:{"background-color":"rgba(93,93,93,0.66)","font-size":"0.8em"},class:"pa-1"},wn={key:0},In={key:0},bn={class:"mr-0",style:{"font-weight":"600","font-size":"1.6em"}},Pn={key:1},Cn={key:1,class:"ma-2"},Rn={style:{"font-size":"1.2em"},class:"text-medium-emphasis"},xn={key:2,class:"ma-2"},Tn={style:{"font-size":"1.2em"},class:"text-medium-emphasis"},zn={key:3,class:"ma-2"},Dn=["onClick"],Vn={key:4,class:"ma-2"},$n={__name:"RecipeOverview",setup(ce){const O=Ge(),Z=Me(),{recipes:V}=ue(O),{authInfo:P,githubMode:y,lanAddress:me,showFilter:N}=ue(Z),fe=Ee();Be(),Ae();const T=D({}),q=D(null),L=D(null),ee=D(null),R=D(!1),W=D([]),E=D([]),ve=D([{title:"Mahlzeiten",open:!1,items:[{name:"FrÃ¼hstÃ¼ck",selected:!1,icon:"ðŸ³"},{name:"Vorspeise",selected:!1,icon:"ðŸ¥—"},{name:"Hauptmahlzeit",selected:!1,icon:"ðŸ½ï¸"},{name:"Dessert",selected:!1,icon:"ðŸ¨"},{name:"Kuchen",selected:!1,icon:"ðŸ°"},{name:"GebÃ¤ck",selected:!1,icon:"ðŸ¥"},{name:"Snack",selected:!1,icon:"ðŸ¿"},{name:"Grill",selected:!1,icon:"ðŸ”¥"},{name:"Weihnachten",selected:!1,icon:"ðŸŽ„"}]},{title:"Zutaten",open:!1,items:[{name:"Kartoffeln",selected:!1,icon:"ðŸ¥”"},{name:"Reis",selected:!1,icon:"ðŸš"},{name:"Pasta",selected:!1,icon:"ðŸ"},{name:"Risotto",selected:!1,icon:"ðŸš"},{name:"Pilze",selected:!1,icon:"ðŸ„"},{name:"KÃ¼rbis",selected:!1,icon:"ðŸŽƒ"},{name:"Gnocchi",selected:!1,icon:"ðŸ¥”"},{name:"SpÃ¤tzle",selected:!1,icon:"ðŸ"},{name:"Halloumi",selected:!1,icon:"ðŸ§€"},{name:"Tortellini",selected:!1,icon:"ðŸ¥"},{name:"Pesto",selected:!1,icon:"ðŸŒ¿"},{name:"KÃ¤se",selected:!1,icon:"ðŸ§€"}]},{title:"Zubereitungsart",open:!1,items:[{name:"Pizza",selected:!1,icon:"ðŸ•"},{name:"Auflauf",selected:!1,icon:"ðŸ¥˜"},{name:"Eintopf",selected:!1,icon:"ðŸ²"},{name:"Suppe",selected:!1,icon:"ðŸ¥£"},{name:"Salat",selected:!1,icon:"ðŸ¥—"},{name:"Bowl",selected:!1,icon:"ðŸ¥™"},{name:"Curry",selected:!1,icon:"ðŸ›"},{name:"Fast-Food",selected:!1,icon:"ðŸ”"},{name:"Gourmet",selected:!1,icon:"ðŸ‘¨â€ðŸ³"},{name:"Wrap",selected:!1,icon:"ðŸ¥™"},{name:"Sandwich",selected:!1,icon:"ðŸ¥ª"},{name:"Burger",selected:!1,icon:"ðŸ”"},{name:"Thermomix",selected:!1,icon:"âš™ï¸"},{name:"Flammkuchen",selected:!1,icon:"ðŸ•"}]},{title:"Fleischtyp",open:!1,items:[{name:"vegetarisch",selected:!1,icon:"ðŸ¥¦"},{name:"vegan",selected:!1,icon:"ðŸŒ±"},{name:"Tofu",selected:!1,icon:"ðŸ§ˆ"},{name:"Soja",selected:!1,icon:"ðŸ«˜"},{name:"Fisch",selected:!1,icon:"ðŸŸ"},{name:"Fleisch",selected:!1,icon:"ðŸ¥©"},{name:"HÃ¤hnchenfleisch",selected:!1,icon:"ðŸ—"},{name:"Rindfleisch",selected:!1,icon:"ðŸ¥©"},{name:"Schweinefleisch",selected:!1,icon:"ðŸ–"}]},{title:"LÃ¤nderkÃ¼che",open:!1,items:[{name:"italienisch",selected:!1,icon:"ðŸ‡®ðŸ‡¹"},{name:"mediterran",selected:!1,icon:"ðŸŒ¿"},{name:"mexikanisch",selected:!1,icon:"ðŸŒ®"},{name:"amerikanisch",selected:!1,icon:"ðŸŸ"},{name:"franzÃ¶sisch",selected:!1,icon:"ðŸ¥–"},{name:"afrikanisch",selected:!1,icon:"ðŸª˜"},{name:"arabisch",selected:!1,icon:"ðŸ§†"},{name:"deutsch",selected:!1,icon:"ðŸ¥¨"},{name:"griechisch",selected:!1,icon:"ðŸ¥™"},{name:"asiatisch",selected:!1,icon:"ðŸœ"},{name:"japanisch",selected:!1,icon:"ðŸ£"},{name:"koreanisch",selected:!1,icon:"ðŸ±"},{name:"spanisch",selected:!1,icon:"ðŸ¥˜"},{name:"russisch",selected:!1,icon:"ðŸ¥Ÿ"},{name:"thailÃ¤ndisch",selected:!1,icon:"ðŸ²"},{name:"tÃ¼rkisch",selected:!1,icon:"ðŸ¢"},{name:"vietnamesisch",selected:!1,icon:"ðŸœ"},{name:"indisch",selected:!1,icon:"ðŸ›"}]},{title:"Jahreszeiten",open:!1,items:[{name:"Winter",selected:!1,icon:"â„ï¸"},{name:"FrÃ¼hling",selected:!1,icon:"ðŸŒ¸"},{name:"Sommer",selected:!1,icon:"ðŸŒž"},{name:"Herbst",selected:!1,icon:"ðŸ‚"}]}]),d=D({duration:[0,120],rating:1,cookedDays:[0,10],tags:[],showPlanned:!0,showTags:!1,showUnrated:!0}),ge=D(["Fleisch","Fisch","Reis","GefÃ¼llte Nudeln","Pasta","Gnocchi","Getreideprodukte","Tofu","Kartoffeln","Teigware"]),b=D(null);re(async()=>{let t=await Z.getAuthInfo();await $(!0),d.value.showPlanned=y.value,N.value=!fe.mobile;const e=new Date,l=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),m=String(e.getDate()).padStart(2,"0");let _=t.calendarPlan,c=[];if(_[`${l}-${o}-${m}`]){if(_[`${l}-${o}-${m}`].type==="RECIPE"&&!_[`${l}-${o}-${m}`].recipeId){let f=P.value.calendarPlan;f||(f={});const S=[],G=new Date;for(const I of Object.keys(f))if(f[I]&&f[I].recipeId){const M=V.value.find(B=>B.id===f[I].recipeId);M.planned&&!M.cooked&&new Date(I).getTime()<G.getTime()&&(S.push(f[I].recipeId),console.log("recipeTitle",f[I].recipeTitle))}c=V.value.filter(I=>I.planned&&!I.cooked&&!S.includes(I.id))}if(c.length===1)b.value={recipeTitle:c[0].title,recipeId:c[0].id,recipes:[]};else{let f=_[`${l}-${o}-${m}`].recipeTitle;!f&&(!c||c.length===0)&&(_[`${l}-${o}-${m}`].type==="OTHER"?f="Sonstige Mahlzeit - keine Beschreibung vorhanden":f="AuswÃ¤rts / Lieferung - keine Beschreibung"),b.value={recipeTitle:f,recipeId:_[`${l}-${o}-${m}`].recipeId,recipes:c}}}}),Ke(d,t=>{setTimeout(()=>{J()},400)},{deep:!0});function j(t,e){return e?"/images/analyzing.png":y.value?"https://mmhhhh.de/data/home/recipes/"+t+"/image.jpg?t="+(T.value[t]?T.value[t]:0):me.value+"api/"+P.value.userId+"/recipes/"+t+"/image?t="+(T.value[t]?T.value[t]:0)}function J(){if(!V.value)return E.value=[],[];let t=[];return R.value?t=W.value:t=V.value,t=t.filter(e=>{if(!d.value.showPlanned&&e.planned&&!e.imageInProgress&&!e.sectionsInProgress&&!e.ingredientsInProgress||!e.duration&&d.value.duration[0]>0||e.duration<d.value.duration[0]||e.duration>d.value.duration[1])return!1;if(d.value.cookedDays){const l=[d.value.cookedDays[0]*7,d.value.cookedDays[1]===10?5e4:d.value.cookedDays[1]*7];if((e.lastCookedDays===void 0||e.lastCookedDays===null)&&l[1]<5e4||e.lastCookedDays!==void 0&&e.lastCookedDays!==null&&(e.lastCookedDays<l[0]||e.lastCookedDays>l[1]))return!1}if(y.value&&!e.uploaded)return!1;if(d.value.rating>0||!d.value.showUnrated){if(!d.value.showUnrated&&!e.rating)return!1;const l=d.value.rating-1,o=e.rating;if(o&&o<l)return!1}return!(d.value.tags.length>0&&(!e.tags||!d.value.tags.every(l=>e.tags.includes(l))))}),R.value?(E.value=t,t):(t=t.sort((e,l)=>{const o=!!e.ingredientsInProgress||!!e.sectionsInProgress||!!e.imageInProgress,m=!!l.ingredientsInProgress||!!l.sectionsInProgress||!!l.imageInProgress;if(o-m!==0)return o-m;const _=e.planned!==null&&e.planned!==void 0?e.planned:!1,c=l.planned!==null&&l.planned!==void 0?l.planned:!1;if(_-c!==0)return _-c;const f=e.uploaded?e.uploaded:!1,S=l.uploaded?l.uploaded:!1;if(S-f!==0)return S-f;const G=e.rating,I=l.rating,M=typeof G=="number"&&G!==null,B=typeof I=="number"&&I!==null;return!M&&!B?0:M?B?I-G:1:-1}).reverse(),E.value=t,t)}function he(){R.value?(d.value.showPlanned=!1,d.value.showUnrated=!0,d.value.cookedDays=[0,10],d.value.showTags=!1,d.value.tags=[],R.value=!1):(d.value.showPlanned=!1,d.value.showTags=!1,d.value.showUnrated=!0,d.value.cookedDays=[0,10],d.value.tags=[],R.value=!0,ne())}function ne(){let t=[];V.value.forEach(m=>t.push(m));for(let m=t.length-1;m>0;m--){const _=Math.floor(Math.random()*(m+1));[t[m],t[_]]=[t[_],t[m]]}W.value=t;const e=[],l=[];z([],["Fleisch"],e,l,2),z([],["Fisch"],e,l,2),z(["Fleisch","Tofu"],["Pasta"],e,l,3),z(["Fleisch","Tofu"],["GefÃ¼llte Nudeln"],e,l,2),z(["Fleisch","Tofu"],["Reis"],e,l,2),z(["Fleisch","Tofu"],["Gnocchi"],e,l,1),z(["Fleisch","Tofu"],["Getreideprodukte"],e,l,1),z(["Fleisch","Tofu"],["Kartoffeln"],e,l,1),z(["Fleisch","Tofu"],["Teigware"],e,l,1),z(["Fleisch"],["Tofu"],e,l,1),z(["Fleisch","Pasta"],["Tofu"],e,l,1);let o=[];l.forEach(m=>o.push(m));for(let m=o.length-1;m>0;m--){const _=Math.floor(Math.random()*(m+1));[o[m],o[_]]=[o[_],o[m]]}W.value=o.slice(0,8),J()}async function te(t){if(await navigator.clipboard.writeText("https://mmhhhh.de/recipes/go?id="+t.id),navigator.share)try{await navigator.share({title:t.title,text:t.title,url:"https://mmhhhh.de/recipes/go?id="+t.id})}catch(e){console.error("Teilen abgebrochen",e)}}function z(t,e,l,o,m){let _=W.value.filter(c=>!l.includes(c.id)).filter(c=>!c.planned).filter(c=>!c.voting||c.voting===0).filter(c=>{const f=[21,5e4];return!((c.lastCookedDays===void 0||c.lastCookedDays===null)&&f[1]<5e4||c.lastCookedDays!==void 0&&c.lastCookedDays!==null&&(c.lastCookedDays<f[0]||c.lastCookedDays>f[1]))}).filter(c=>t?t.every(f=>!(c.tags?c.tags:[]).includes(f)):!0).filter(c=>e?e.every(f=>(c.tags?c.tags:[]).includes(f)):!0).slice(0,m);_.forEach(c=>l.push(c.id)),_.forEach(c=>o.push(c))}async function ye(t,e){t.tags&&t.tags.includes(e)?t.tags=t.tags.filter(o=>o!==e):(t.tags||(t.tags=[]),t.tags.push(e));const l={tags:t.tags};await F.updateRecipe(P.value.userId,t.id,l),$()}function se(t){y.value?window.open("https://mmhhhh.de/recipes/go?id="+t.id,"_blank","noopener"):window.open("/recipes/go?id="+t.id,"_blank","noopener")}async function ke(t){if(t.planned){const e={voting:0,planned:!1,cooked:!1,ordered:!1};await F.updateRecipe(P.value.userId,t.id,e),F.uploadRecipeToGithub(P.value.userId,null),t.voting=0,t.planned=!1,t.uploaded=!1,t.ordered=!1}else{const e={voting:t.voting?t.voting+1:1};await F.updateRecipe(P.value.userId,t.id,e),t.voting=t.voting?t.voting+1:1}await $()}async function _e(t){t.planned=!0,t.voting=0;const e={voting:0,planned:!0};await F.updateRecipe(P.value.userId,t.id,e),await $(),Y(null)}async function Y(t){await F.uploadRecipeToGithub(P.value.userId,t?t.id:null),t&&(t.uploaded=!0,await $())}async function pe(t){t.voting=0;const e={voting:0};await F.updateRecipe(P.value.userId,t.id,e),await $()}function we(t){const e=d.value.tags.indexOf(t);e===-1?d.value.tags.push(t):d.value.tags.splice(e,1)}async function $(t=!1){console.log("authInfo userId",P.value.userId),V.value=await O.getAllRecipes(P.value.userId),!y.value&&t&&H(),setTimeout(()=>{J()},400)}function le(t){q.value(t).then(async e=>{e&&(t?setTimeout(()=>{const l=[t.id];H(l)},200):H())})}async function H(t){if(!y.value&&(await $(),V.value)){const e=V.value.filter(o=>!o.ingredientsInProgress&&!o.sectionsInProgress&&!o.imageInProgress).map(o=>o.id);t&&t.forEach(o=>{e.includes(o)&&(T.value[o]?T.value[o]++:T.value[o]=1)});const l=V.value.filter(o=>o.ingredientsInProgress||o.sectionsInProgress||o.imageInProgress).map(o=>o.id);l.length>0&&(await new Promise(o=>setTimeout(o,2e3)),await H(l))}}async function ae(t){ee.value(t).then(async e=>{e&&(await F.deleteRecipe(P.value.userId,t),await $(),F.uploadRecipeToGithub(P.value.userId,null))})}function Ie(t){L.value(t)}async function be(t){await Fe.analyzeWithNewEngine(P.value.userId,t),await $()}return(t,e)=>{const l=g("v-list-item"),o=g("v-divider"),m=g("v-btn"),_=g("v-checkbox"),c=g("v-range-slider"),f=g("v-icon"),S=g("v-rating"),G=g("v-expansion-panel-title"),I=g("v-chip"),M=g("v-chip-group"),B=g("v-expansion-panel-text"),Pe=g("v-expansion-panel"),Ce=g("v-expansion-panels"),Re=g("v-navigation-drawer"),Q=g("v-img"),oe=g("v-card"),ie=g("v-col"),de=g("v-row"),xe=g("v-alert"),X=g("v-progress-circular"),U=g("v-list-item-title"),Te=g("v-list"),ze=g("v-menu"),De=g("v-toolbar"),Ve=g("v-fab");return s(),v("div",null,[a(Re,{modelValue:w(N),"onUpdate:modelValue":e[6]||(e[6]=n=>Ne(N)?N.value=n:null),location:"right",width:"250",temporary:t.$vuetify.display.mobile},{prepend:i(()=>[a(l,{class:"mt-2","prepend-icon":"mdi-text-box-search-outline",title:"Filter"})]),default:i(()=>[a(o),r("div",Ze,[r("div",je,[a(m,{style:{width:"100%"},"min-height":"60",variant:"elevated",onClick:he,stacked:"",elevation:"0",border:"",active:R.value,"active-color":"rgb(89, 135, 184)","prepend-icon":"mdi-heart-search"},{default:i(()=>[...e[11]||(e[11]=[p("Auswahlmodus",-1)])]),_:1},8,["active"]),r("div",Je,[R.value?(s(),h(m,{key:0,onClick:ne,variant:"plain",class:"mt-1"},{default:i(()=>[...e[12]||(e[12]=[p("Nochmal mischen",-1)])]),_:1})):u("",!0)])]),a(o,{class:"mt-3"}),R.value?u("",!0):(s(),v("div",Ye,[a(_,{modelValue:d.value.showPlanned,"onUpdate:modelValue":e[0]||(e[0]=n=>d.value.showPlanned=n),"hide-details":"auto",density:"comfortable",label:"Geplante anzeigen"},null,8,["modelValue"]),a(_,{modelValue:d.value.showTags,"onUpdate:modelValue":e[1]||(e[1]=n=>d.value.showTags=n),"hide-details":"auto",density:"comfortable",label:"Basis-Tags bearbeiten"},null,8,["modelValue"])])),R.value?u("",!0):(s(),h(o,{key:1,class:"mt-3"})),r("div",Qe,[e[13]||(e[13]=r("h4",null,[p("Dauer "),r("span",{style:{"font-size":"0.8em"}},"(Min.)")],-1)),a(c,{modelValue:d.value.duration,"onUpdate:modelValue":e[2]||(e[2]=n=>d.value.duration=n),elevation:"3",max:"120",step:"10","thumb-label":"always",class:"mt-8 px-2","hide-details":""},null,8,["modelValue"])]),!w(y)&&!R.value?(s(),v("div",Xe,[e[14]||(e[14]=r("h4",null,"Zuletzt gekocht (Wochen)",-1)),a(c,{modelValue:d.value.cookedDays,"onUpdate:modelValue":e[3]||(e[3]=n=>d.value.cookedDays=n),elevation:"3",max:"10",step:"1","thumb-label":"always",class:"mt-8 px-2","hide-details":""},null,8,["modelValue"])])):u("",!0),a(o,{class:"mt-3"}),w(y)?u("",!0):(s(),v("div",qe,[e[15]||(e[15]=r("h4",null,"Bewertung",-1)),a(S,{modelValue:d.value.rating,"onUpdate:modelValue":e[4]||(e[4]=n=>d.value.rating=n),hover:"",length:"6",size:"40","active-color":"primary",class:"py-3"},{item:i(n=>[a(f,{color:n.isFilled?n.index===0?"#92aac5":"#1e3f66":"grey-lighten-1",size:"large"},{default:i(()=>[p(x(n.isFilled&&n.index===0?"mdi-star-off":"mdi-star"),1)]),_:2},1032,["color"])]),_:1},8,["modelValue"]),a(_,{modelValue:d.value.showUnrated,"onUpdate:modelValue":e[5]||(e[5]=n=>d.value.showUnrated=n),"hide-details":"auto",density:"comfortable",label:"Unbewertete anzeigen"},null,8,["modelValue"])])),R.value?u("",!0):(s(),h(o,{key:4})),R.value?u("",!0):(s(),v("div",Le,[(s(!0),v(A,null,K(ve.value,n=>(s(),v("div",{key:n.title},[a(Ce,{multiple:""},{default:i(()=>[a(Pe,{elevation:"0",modelValue:n.open,"onUpdate:modelValue":C=>n.open=C,class:"pa-0 ma-0"},{default:i(()=>[a(G,{class:"pa-0",static:""},{default:i(()=>[r("div",null,[r("h4",null,[p(x(n.title)+" ",1),n.items.some(C=>d.value.tags.includes(C.name))?(s(),v("span",en,"("+x(n.items.filter(C=>d.value.tags.includes(C.name)).length)+")",1)):u("",!0)])])]),_:2},1024),a(B,{class:"no-padding-content"},{default:i(()=>[a(M,{"selected-class":"selected-chip",column:"",multiple:""},{default:i(()=>[(s(!0),v(A,null,K(n.items,C=>(s(),h(I,{key:C.name,text:C.icon+" "+C.name,value:C.name,variant:d.value.tags.includes(C.name)?"elevated":"tonal",onClick:k=>we(C.name)},null,8,["text","value","variant","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]))),128))]))])]),_:1},8,["modelValue","temporary"]),b.value&&(b.value.recipes&&b.value.recipes.length>0||b.value.recipeTitle)?(s(),h(xe,{key:0,closable:"",style:{background:"linear-gradient(90deg, rgba(89, 135, 184, 1) 0%, rgba(191, 207, 219, 1) 100%)"},class:"mb-6"},{default:i(()=>[!b.value.recipes||b.value.recipes.length===0?(s(),v("div",nn,[r("a",{target:"_blank",href:b.value.recipeId?"/recipes/go?id="+b.value.recipeId:"#",style:{"text-decoration-line":"none",color:"white"}},[b.value.recipeId?(s(),h(Q,{key:0,class:"position-relative","max-height":"100",src:j(b.value.recipeId),color:"grey",cover:""},null,8,["src"])):u("",!0),e[16]||(e[16]=r("div",{class:"mt-2"},"Heutige Mahlzeit:",-1)),e[17]||(e[17]=p()),r("h2",null,[r("i",null,x(b.value.recipeTitle),1)])],8,tn)])):u("",!0),b.value.recipes&&b.value.recipes.length>0?(s(),v("div",sn,[e[18]||(e[18]=r("h2",{class:"mt-2",style:{color:"white"}},[r("i",null,"Heutige Auswahl an Mahlzeiten:")],-1)),a(de,{align:"center"},{default:i(()=>[(s(!0),v(A,null,K(b.value.recipes,n=>(s(),h(ie,{key:n.id,cols:"6"},{default:i(()=>[r("a",{target:"_blank",href:n&&n.sectionsUploaded?"/recipes/go?id="+n.id:"#",style:{"text-decoration-line":"none",color:"white"}},[a(oe,null,{default:i(()=>[(s(),h(Q,{class:"position-relative",height:"150",src:j(n.id),key:T.value[n.id]?T.value[n.id]:0,cover:""},null,8,["src"])),r("div",an,x(n.title||"Ohne Titel"),1)]),_:2},1024)],8,ln)]),_:2},1024))),128))]),_:1})])):u("",!0)]),_:1})):u("",!0),a(de,{class:"text-center"},{default:i(()=>[E.value.length===0?(s(),v("div",on,[r("div",null,[a(f,{icon:"mdi-chef-hat",size:"50"})]),e[19]||(e[19]=r("div",{style:{"font-size":"1.8em"}},"Keine Rezepte gefunden!",-1))])):u("",!0),(s(!0),v(A,null,K(E.value,(n,C)=>(s(),h(ie,{cols:"12",md:"4",sm:"6",lg:"3",xl:"2",key:n.id},{default:i(()=>[a(oe,{class:"mx-auto","max-width":"374",color:n.uploaded?null:"#ADCEE9",border:!n.uploaded},{default:i(()=>[R.value?(s(),v("div",dn,[r("b",null,"Vorschlag "+x(C+1+" / "+E.value.length),1)])):u("",!0),r("div",null,[(s(),h(Q,{class:We([{"scan-img":n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress},"position-relative"]),height:"200",src:j(n.id,n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress),key:T.value[n.id]?T.value[n.id]:0,color:"grey",cover:""},{default:i(()=>[r("div",un,[!w(y)&&(n.rating||!n.uploaded)?(s(),v("div",rn,[n.rating?(s(),v("div",cn,[a(S,{modelValue:n.rating,"onUpdate:modelValue":k=>n.rating=k,hover:"",length:"5",size:"20",readonly:"",class:"mb-1"},null,8,["modelValue","onUpdate:modelValue"])])):u("",!0)])):u("",!0),n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress?(s(),v("div",mn,[n.ingredientsInProgress?(s(),v("span",fn,[r("span",null,[a(X,{indeterminate:"",color:"white"})]),e[20]||(e[20]=p()),e[21]||(e[21]=r("span",null,"Zutaten werden analysiert...",-1))])):u("",!0),n.sectionsInProgress?(s(),v("span",vn,[r("span",null,[a(X,{indeterminate:"",color:"white"})]),e[22]||(e[22]=p()),e[23]||(e[23]=r("span",null,"Schritte werden analysiert...",-1))])):u("",!0),n.imageInProgress?(s(),v("span",gn,[r("span",null,[a(X,{indeterminate:"",color:"white"})]),e[24]||(e[24]=p()),e[25]||(e[25]=r("span",null,"Bild wird generiert...",-1))])):u("",!0)])):u("",!0)]),n.duration||n.lastCookedDays>=0&&!w(y).value?(s(),v("div",hn,[n.lastCookedDays>=0&&!w(y).value?(s(),v("div",yn,[a(f,{icon:"mdi-bowl-mix-outline",class:"mr-1"}),r("b",null,"Vor "+x(n.lastCookedDays)+" Tagen",1)])):u("",!0),n.duration?(s(),v("div",kn,[a(f,{icon:"mdi-clock-outline",class:"mr-1"}),r("b",null,x(n.duration)+" Min.",1)])):u("",!0)])):u("",!0),r("div",_n,[!w(y)&&!n.uploaded&&!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.imageInProgress?(s(),h(m,{key:0,class:"mb-1",onClick:k=>Y(n),style:{"background-color":"rgba(93,93,93,0.66)"}},{default:i(()=>[a(f,{icon:"mdi-upload-off",size:"30"})]),_:1},8,["onClick"])):u("",!0),!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.imageInProgress&&!n.sectionsUploaded?(s(),v("div",pn,[a(f,{icon:"mdi-information-slab-circle"}),e[26]||(e[26]=p()),e[27]||(e[27]=r("b",null,"Nur Zutatenliste vorhanden!",-1))])):u("",!0)]),a(De,{color:"transparent"},{append:i(()=>[w(y)&&!n.planned&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(s(),h(m,{key:0,onClick:k=>te(n),style:{"background-color":"rgba(93,93,93,0.66)"},class:"mr-1"},{default:i(()=>[r("div",null,[a(f,{icon:"mdi-share-variant-outline",size:"30"})])]),_:1},8,["onClick"])):u("",!0),(w(y)&&n.planned||!w(y))&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(s(),h(m,{key:1,onClick:k=>ke(n),style:{"background-color":"rgba(93,93,93,0.66)"}},{default:i(()=>[r("div",null,[n.planned?u("",!0):(s(),v("div",wn,[n.voting&&n.voting>0?(s(),v("span",In,[r("span",bn,x(n.voting),1),e[28]||(e[28]=r("span",{class:"mr-1",style:{"font-weight":"600","font-size":"1.1em"}},"x",-1))])):u("",!0),a(f,{icon:n.voting&&n.voting>0?"mdi-thumb-up":"mdi-thumb-up-outline",size:"30"},null,8,["icon"])])),n.planned?(s(),v("div",Pn,[a(f,{icon:"mdi-bowl-mix",size:"30",color:"blue"})])):u("",!0)])]),_:2},1032,["onClick"])):u("",!0),!w(y)&&(n.sectionsInProgress||n.ingredientsInProgress||n.imageInProgress)?(s(),h(m,{key:2,icon:"mdi-stop-circle-outline",color:"white",onClick:k=>ae(n.id),variant:"plain"},null,8,["onClick"])):u("",!0),a(ze,null,{activator:i(({props:k})=>[!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(s(),h(m,He({key:0,icon:"mdi-dots-vertical",color:"white"},{ref_for:!0},k),{default:i(()=>[a(f,{icon:"mdi-dots-vertical",size:"35"})]),_:1},16)):u("",!0)]),default:i(()=>[!n.imageInProgress&&!n.sectionsInProgress?(s(),h(Te,{key:0},{default:i(()=>[!w(y)&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress&&!n.planned?(s(),h(l,{key:0,onClick:k=>_e(n)},{default:i(()=>[a(U,null,{default:i(()=>[...e[29]||(e[29]=[p("Einplanen",-1)])]),_:1})]),_:1},8,["onClick"])):u("",!0),!w(y)&&n.voting&&n.voting>0?(s(),h(l,{key:1,onClick:k=>pe(n)},{default:i(()=>[a(U,null,{default:i(()=>[...e[30]||(e[30]=[p("Likes lÃ¶schen",-1)])]),_:1})]),_:1},8,["onClick"])):u("",!0),n.sectionsUploaded?(s(),h(l,{key:2,onClick:k=>se(n)},{default:i(()=>[a(U,null,{default:i(()=>[...e[31]||(e[31]=[p("Zubereiten",-1)])]),_:1})]),_:1},8,["onClick"])):u("",!0),a(l,{onClick:k=>Ie(n.id)},{default:i(()=>[a(U,null,{default:i(()=>[...e[32]||(e[32]=[p("Zutaten einkaufen",-1)])]),_:1})]),_:1},8,["onClick"]),a(o),w(y)?u("",!0):(s(),h(l,{key:3,onClick:k=>le(n)},{default:i(()=>[a(U,null,{default:i(()=>[...e[33]||(e[33]=[p("Bild Ã¤ndern",-1)])]),_:1})]),_:1},8,["onClick"])),!w(y)&&n.engine!=="gpt-5"?(s(),h(l,{key:4,onClick:k=>be(n.id)},{default:i(()=>[a(U,null,{default:i(()=>[...e[34]||(e[34]=[p("Analyse verbessern",-1)])]),_:1})]),_:1},8,["onClick"])):u("",!0),a(l,{onClick:k=>Y(n)},{default:i(()=>[a(U,null,{default:i(()=>[...e[35]||(e[35]=[p("Github-Upload",-1)])]),_:1})]),_:1},8,["onClick"]),w(y)?u("",!0):(s(),h(l,{key:5,onClick:k=>te(n)},{default:i(()=>[a(U,null,{default:i(()=>[...e[36]||(e[36]=[p("Link teilen...",-1)])]),_:1})]),_:1},8,["onClick"])),w(y)?u("",!0):(s(),h(l,{key:6,onClick:k=>ae(n.id)},{default:i(()=>[a(U,null,{default:i(()=>[...e[37]||(e[37]=[p("LÃ¶schen",-1)])]),_:1})]),_:1},8,["onClick"]))]),_:2},1024)):u("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","src"]))]),n.title&&(n.ingredientsInProgress||n.sectionsInProgress)?(s(),v("div",Cn,[r("span",Rn,x(n.title),1)])):u("",!0),n.title&&!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.sectionsUploaded?(s(),v("div",xn,[r("span",Tn,x(n.title),1)])):u("",!0),!n.ingredientsInProgress&&!n.sectionsInProgress&&n.sectionsUploaded?(s(),v("div",zn,[r("a",{target:"_blank",style:{"text-decoration-line":"none",color:"#000000","font-size":"1.2em",cursor:"pointer"},class:"text-medium-emphasis",onClick:k=>se(n)},x(n.title),9,Dn)])):u("",!0),(d.value.showTags||!n.uploaded||!n.tags||n.tags.length===0)&&!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.imageInProgress?(s(),v("div",Vn,[(s(!0),v(A,null,K(ge.value,k=>(s(),v("span",{key:k},[a(I,{class:"ml-1 mt-1",color:n.tags&&n.tags.includes(k)?"#183240":"#9f9f9f",onClick:Fn=>ye(n,k)},{default:i(()=>[p(x(k),1)]),_:2},1032,["color","onClick"])]))),128))])):u("",!0)]),_:2},1032,["color","border"])]),_:2},1024))),128))]),_:1}),e[38]||(e[38]=r("div",{style:{height:"70px"}},null,-1)),w(y)?u("",!0):(s(),h(Ve,{color:"rgb(89, 135, 184)",key:"test","prepend-icon":"mdi-cookie-plus-outline",app:!0,location:"right bottom",text:"Rezept hinzufÃ¼gen",extended:"",size:"large",onClick:e[7]||(e[7]=n=>le(null))})),a(Oe,{onResult:e[8]||(e[8]=n=>q.value=n)}),a($e,{onResult:e[9]||(e[9]=n=>L.value=n)}),a(Ue,{onResult:e[10]||(e[10]=n=>ee.value=n),title:"Bitte bestÃ¤tigen",message:"Soll das Rezept wirklich gelÃ¶scht werden?"})])}}},Un=Se($n,[["__scopeId","data-v-d30ddf2d"]]),Bn={__name:"index",setup(ce){return re(async()=>{}),(O,Z)=>(s(),h(Un))}};export{Bn as default};
