import{C as $e,R as F,I as Ue}from"./C8VJNBnD.js";import{_ as Fe,M as Se,K as Ee,N as ue,O as Ge,J as Me,P as Be,r as D,o as re,W as Ae,X as Ke,g as h,x as v,y as s,B as a,Q as g,R as i,z as r,C as d,D as p,U as w,A as C,S as A,T as K,Y as Ne,Z as We,V as He}from"./YkpWTUte.js";import{I as Oe}from"./8quxSOj8.js";import{R as Ze}from"./D5YEN7It.js";import"./zF7qpZtv.js";const je={class:"pa-4"},Je={style:{width:"100%"}},Le={class:"text-center"},Ye={key:0},Qe={class:"mt-2"},Xe={key:2,class:"mt-2"},qe={key:3,class:"mt-2"},en={key:5,class:"mt-2"},nn={key:0},tn={key:0},sn=["href"],ln={key:1},an=["href"],on={style:{"background-color":"rgb(166, 190, 226)","font-size":"0.7em"},class:"pl-1"},dn={key:0,class:"text-center mt-8 text-high-emphasis",style:{width:"100%"}},un={key:0,class:"mt-2 mb-1",style:{"font-size":"1.2em"}},rn={class:"overlay-top-left"},cn={key:0},fn={key:0,class:"px-1 pb-1",style:{"background-color":"rgba(93,93,93,0.66)"}},mn={key:1},vn={key:0},gn={key:1},hn={key:2},yn={key:0,class:"overlay-bottom-right"},kn={key:0,style:{"background-color":"rgba(93,93,93,0.66)"},class:"px-1"},_n={key:1,style:{"background-color":"rgba(93,93,93,0.66)"},class:"px-1 mt-1"},pn={class:"overlay-bottom-left pa-1"},wn={key:1,style:{"background-color":"rgba(93,93,93,0.66)","font-size":"0.8em"},class:"pa-1"},In={key:0},bn={key:0},Pn={class:"mr-0",style:{"font-weight":"600","font-size":"1.6em"}},Rn={key:1},xn={key:1,class:"ma-2"},Cn={style:{"font-size":"1.2em"},class:"text-medium-emphasis"},Tn={key:2,class:"ma-2"},zn={style:{"font-size":"1.2em"},class:"text-medium-emphasis"},Dn={key:3,class:"ma-2"},Vn=["onClick"],$n={key:4,class:"ma-2"},Un={__name:"RecipeOverview",setup(ce){const H=Se(),O=Ee(),{recipes:V}=ue(H),{authInfo:P,githubMode:y,lanAddress:fe,showFilter:Z}=ue(O);Ge(),Me(),Be();const T=D({}),X=D(null),q=D(null),ee=D(null),x=D(!1),N=D([]),M=D([]),me=D([{title:"Mahlzeiten",open:!1,items:[{name:"FrÃ¼hstÃ¼ck",selected:!1,icon:"ðŸ³"},{name:"Vorspeise",selected:!1,icon:"ðŸ¥—"},{name:"Hauptmahlzeit",selected:!1,icon:"ðŸ½ï¸"},{name:"Dessert",selected:!1,icon:"ðŸ¨"},{name:"Kuchen",selected:!1,icon:"ðŸ°"},{name:"GebÃ¤ck",selected:!1,icon:"ðŸ¥"},{name:"Snack",selected:!1,icon:"ðŸ¿"},{name:"Grill",selected:!1,icon:"ðŸ”¥"},{name:"Weihnachten",selected:!1,icon:"ðŸŽ„"}]},{title:"Zutaten",open:!1,items:[{name:"Kartoffeln",selected:!1,icon:"ðŸ¥”"},{name:"Reis",selected:!1,icon:"ðŸš"},{name:"Pasta",selected:!1,icon:"ðŸ"},{name:"Risotto",selected:!1,icon:"ðŸš"},{name:"Pilze",selected:!1,icon:"ðŸ„"},{name:"KÃ¼rbis",selected:!1,icon:"ðŸŽƒ"},{name:"Gnocchi",selected:!1,icon:"ðŸ¥”"},{name:"SpÃ¤tzle",selected:!1,icon:"ðŸ"},{name:"Halloumi",selected:!1,icon:"ðŸ§€"},{name:"Tortellini",selected:!1,icon:"ðŸ¥"},{name:"Pesto",selected:!1,icon:"ðŸŒ¿"},{name:"KÃ¤se",selected:!1,icon:"ðŸ§€"}]},{title:"Zubereitungsart",open:!1,items:[{name:"Pizza",selected:!1,icon:"ðŸ•"},{name:"Auflauf",selected:!1,icon:"ðŸ¥˜"},{name:"Eintopf",selected:!1,icon:"ðŸ²"},{name:"Suppe",selected:!1,icon:"ðŸ¥£"},{name:"Salat",selected:!1,icon:"ðŸ¥—"},{name:"Bowl",selected:!1,icon:"ðŸ¥™"},{name:"Curry",selected:!1,icon:"ðŸ›"},{name:"Fast-Food",selected:!1,icon:"ðŸ”"},{name:"Gourmet",selected:!1,icon:"ðŸ‘¨â€ðŸ³"},{name:"Wrap",selected:!1,icon:"ðŸ¥™"},{name:"Sandwich",selected:!1,icon:"ðŸ¥ª"},{name:"Burger",selected:!1,icon:"ðŸ”"},{name:"Thermomix",selected:!1,icon:"âš™ï¸"},{name:"Flammkuchen",selected:!1,icon:"ðŸ•"}]},{title:"Fleischtyp",open:!1,items:[{name:"vegetarisch",selected:!1,icon:"ðŸ¥¦"},{name:"vegan",selected:!1,icon:"ðŸŒ±"},{name:"Tofu",selected:!1,icon:"ðŸ§ˆ"},{name:"Soja",selected:!1,icon:"ðŸ«˜"},{name:"Fisch",selected:!1,icon:"ðŸŸ"},{name:"Fleisch",selected:!1,icon:"ðŸ¥©"},{name:"HÃ¤hnchenfleisch",selected:!1,icon:"ðŸ—"},{name:"Rindfleisch",selected:!1,icon:"ðŸ¥©"},{name:"Schweinefleisch",selected:!1,icon:"ðŸ–"}]},{title:"LÃ¤nderkÃ¼che",open:!1,items:[{name:"italienisch",selected:!1,icon:"ðŸ‡®ðŸ‡¹"},{name:"mediterran",selected:!1,icon:"ðŸŒ¿"},{name:"mexikanisch",selected:!1,icon:"ðŸŒ®"},{name:"amerikanisch",selected:!1,icon:"ðŸŸ"},{name:"franzÃ¶sisch",selected:!1,icon:"ðŸ¥–"},{name:"afrikanisch",selected:!1,icon:"ðŸª˜"},{name:"arabisch",selected:!1,icon:"ðŸ§†"},{name:"deutsch",selected:!1,icon:"ðŸ¥¨"},{name:"griechisch",selected:!1,icon:"ðŸ¥™"},{name:"asiatisch",selected:!1,icon:"ðŸœ"},{name:"japanisch",selected:!1,icon:"ðŸ£"},{name:"koreanisch",selected:!1,icon:"ðŸ±"},{name:"spanisch",selected:!1,icon:"ðŸ¥˜"},{name:"russisch",selected:!1,icon:"ðŸ¥Ÿ"},{name:"thailÃ¤ndisch",selected:!1,icon:"ðŸ²"},{name:"tÃ¼rkisch",selected:!1,icon:"ðŸ¢"},{name:"vietnamesisch",selected:!1,icon:"ðŸœ"},{name:"indisch",selected:!1,icon:"ðŸ›"}]},{title:"Jahreszeiten",open:!1,items:[{name:"Winter",selected:!1,icon:"â„ï¸"},{name:"FrÃ¼hling",selected:!1,icon:"ðŸŒ¸"},{name:"Sommer",selected:!1,icon:"ðŸŒž"},{name:"Herbst",selected:!1,icon:"ðŸ‚"}]}]),u=D({duration:[0,120],rating:1,cookedDays:[0,10],tags:[],showPlanned:!0,showTags:!1,showUnrated:!0}),ve=D(["Fleisch","Fisch","Reis","GefÃ¼llte Nudeln","Pasta","Gnocchi","Getreideprodukte","Tofu","Kartoffeln","Teigware"]),b=D(null);re(async()=>{await $(!0),u.value.showPlanned=y.value,await j(),window.addEventListener("focus",j)}),Ae(()=>{window.removeEventListener("focus",j)}),Ke(u,t=>{setTimeout(()=>{L()},400)},{deep:!0});async function j(){console.log("refreshTodayRecipe");let t=await O.getAuthInfo();const e=new Date,l=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),f=String(e.getDate()).padStart(2,"0");let k=t.calendarPlan,c=[];if(k[`${l}-${o}-${f}`]){if(k[`${l}-${o}-${f}`].type==="RECIPE"&&!k[`${l}-${o}-${f}`].recipeId){let m=P.value.calendarPlan;m||(m={});const S=[],E=new Date;for(const I of Object.keys(m))if(m[I]&&m[I].recipeId){const G=V.value.find(B=>B.id===m[I].recipeId);G.planned&&!G.cooked&&new Date(I).getTime()>=E.getTime()&&(S.push(m[I].recipeId),console.log("recipeTitle",m[I].recipeTitle))}c=V.value.filter(I=>I.planned&&!I.cooked&&!S.includes(I.id))}if(c.length===1)b.value={recipeTitle:c[0].title,recipeId:c[0].id,recipes:[]};else{let m=k[`${l}-${o}-${f}`].recipeTitle;!m&&(!c||c.length===0)&&(k[`${l}-${o}-${f}`].type==="OTHER"?m="Sonstige Mahlzeit - keine Beschreibung vorhanden":m="AuswÃ¤rts / Lieferung - keine Beschreibung"),b.value={recipeTitle:m,recipeId:k[`${l}-${o}-${f}`].recipeId,recipes:c}}}}function J(t,e){return e?"/images/analyzing.png":y.value?"https://mmhhhh.de/data/home/recipes/"+t+"/image.jpg?t="+(T.value[t]?T.value[t]:0):fe.value+"api/"+P.value.userId+"/recipes/"+t+"/image?t="+(T.value[t]?T.value[t]:0)}function L(){if(!V.value)return M.value=[],[];let t=[];return x.value?t=N.value:t=V.value,t=t.filter(e=>{if(!u.value.showPlanned&&e.planned&&!e.imageInProgress&&!e.sectionsInProgress&&!e.ingredientsInProgress||e.originalId||!e.duration&&u.value.duration[0]>0||e.duration<u.value.duration[0]||e.duration>u.value.duration[1])return!1;if(u.value.cookedDays){const l=[u.value.cookedDays[0]*7,u.value.cookedDays[1]===10?5e4:u.value.cookedDays[1]*7];if((e.lastCookedDays===void 0||e.lastCookedDays===null)&&l[1]<5e4||e.lastCookedDays!==void 0&&e.lastCookedDays!==null&&(e.lastCookedDays<l[0]||e.lastCookedDays>l[1]))return!1}if(y.value&&!e.uploaded)return!1;if(u.value.rating>0||!u.value.showUnrated){if(!u.value.showUnrated&&!e.rating)return!1;const l=u.value.rating-1,o=e.rating;if(o&&o<l)return!1}return!(u.value.tags.length>0&&(!e.tags||!u.value.tags.every(l=>e.tags.includes(l))))}),x.value?(M.value=t,t):(t=t.sort((e,l)=>{const o=!!e.ingredientsInProgress||!!e.sectionsInProgress||!!e.imageInProgress,f=!!l.ingredientsInProgress||!!l.sectionsInProgress||!!l.imageInProgress;if(o-f!==0)return o-f;const k=e.planned!==null&&e.planned!==void 0?e.planned:!1,c=l.planned!==null&&l.planned!==void 0?l.planned:!1;if(k-c!==0)return k-c;const m=e.uploaded?e.uploaded:!1,S=l.uploaded?l.uploaded:!1;if(S-m!==0)return S-m;const E=e.rating,I=l.rating,G=typeof E=="number"&&E!==null,B=typeof I=="number"&&I!==null;return!G&&!B?0:G?B?I-E:1:-1}).reverse(),M.value=t,t)}function ge(){x.value?(u.value.showPlanned=!1,u.value.showUnrated=!0,u.value.cookedDays=[0,10],u.value.showTags=!1,u.value.tags=[],x.value=!1):(u.value.showPlanned=!1,u.value.showTags=!1,u.value.showUnrated=!0,u.value.cookedDays=[0,10],u.value.tags=[],x.value=!0,ne())}function ne(){let t=[];V.value.forEach(f=>t.push(f));for(let f=t.length-1;f>0;f--){const k=Math.floor(Math.random()*(f+1));[t[f],t[k]]=[t[k],t[f]]}N.value=t;const e=[],l=[];z([],["Fleisch"],e,l,2),z([],["Fisch"],e,l,2),z(["Fleisch","Tofu"],["Pasta"],e,l,3),z(["Fleisch","Tofu"],["GefÃ¼llte Nudeln"],e,l,2),z(["Fleisch","Tofu"],["Reis"],e,l,2),z(["Fleisch","Tofu"],["Gnocchi"],e,l,1),z(["Fleisch","Tofu"],["Getreideprodukte"],e,l,1),z(["Fleisch","Tofu"],["Kartoffeln"],e,l,1),z(["Fleisch","Tofu"],["Teigware"],e,l,1),z(["Fleisch"],["Tofu"],e,l,1),z(["Fleisch","Pasta"],["Tofu"],e,l,1);let o=[];l.forEach(f=>o.push(f));for(let f=o.length-1;f>0;f--){const k=Math.floor(Math.random()*(f+1));[o[f],o[k]]=[o[k],o[f]]}N.value=o.slice(0,8),L()}async function te(t){if(await navigator.clipboard.writeText("https://mmhhhh.de/recipes/go?id="+t.id),navigator.share)try{await navigator.share({title:t.title,text:t.title,url:"https://mmhhhh.de/recipes/go?id="+t.id})}catch(e){console.error("Teilen abgebrochen",e)}}function z(t,e,l,o,f){let k=N.value.filter(c=>!l.includes(c.id)).filter(c=>!c.planned).filter(c=>!c.voting||c.voting===0).filter(c=>{const m=[21,5e4];return!((c.lastCookedDays===void 0||c.lastCookedDays===null)&&m[1]<5e4||c.lastCookedDays!==void 0&&c.lastCookedDays!==null&&(c.lastCookedDays<m[0]||c.lastCookedDays>m[1]))}).filter(c=>t?t.every(m=>!(c.tags?c.tags:[]).includes(m)):!0).filter(c=>e?e.every(m=>(c.tags?c.tags:[]).includes(m)):!0).slice(0,f);k.forEach(c=>l.push(c.id)),k.forEach(c=>o.push(c))}async function he(t,e){t.tags&&t.tags.includes(e)?t.tags=t.tags.filter(o=>o!==e):(t.tags||(t.tags=[]),t.tags.push(e));const l={tags:t.tags};await F.updateRecipe(P.value.userId,t.id,l),$()}function ye(t){y.value?window.open("https://mmhhhh.de/recipes/go?id="+t.id,"_blank","noopener"):window.open("/recipes/go?id="+t.id,"_blank","noopener")}async function ke(t){if(t.planned){const e={voting:0,planned:!1,cooked:!1,ordered:!1};await F.updateRecipe(P.value.userId,t.id,e),F.uploadRecipeToGithub(P.value.userId,null),t.voting=0,t.planned=!1,t.uploaded=!1,t.ordered=!1}else{const e={voting:t.voting?t.voting+1:1};await F.updateRecipe(P.value.userId,t.id,e),t.voting=t.voting?t.voting+1:1}await $()}async function _e(t){t.planned=!0,t.voting=0,await F.planRecipe(P.value.userId,t.id),await $()}async function se(t){await F.uploadRecipeToGithub(P.value.userId,t?t.id:null),t&&(t.uploaded=!0,await $())}async function pe(t){t.voting=0;const e={voting:0};await F.updateRecipe(P.value.userId,t.id,e),await $()}function we(t){const e=u.value.tags.indexOf(t);e===-1?u.value.tags.push(t):u.value.tags.splice(e,1)}async function $(t=!1){console.log("authInfo userId",P.value.userId),V.value=await H.getAllRecipes(P.value.userId),!y.value&&t&&W(),setTimeout(()=>{L()},400)}function le(t){X.value(t).then(async e=>{e&&(t?setTimeout(()=>{const l=[t.id];W(l)},200):W())})}async function W(t){if(!y.value&&(await $(),V.value)){const e=V.value.filter(o=>!o.ingredientsInProgress&&!o.sectionsInProgress&&!o.imageInProgress).map(o=>o.id);t&&t.forEach(o=>{e.includes(o)&&(T.value[o]?T.value[o]++:T.value[o]=1)});const l=V.value.filter(o=>o.ingredientsInProgress||o.sectionsInProgress||o.imageInProgress).map(o=>o.id);l.length>0&&(await new Promise(o=>setTimeout(o,2e3)),await W(l))}}async function ae(t){ee.value(t).then(async e=>{e&&(await F.deleteRecipe(P.value.userId,t),await $(),F.uploadRecipeToGithub(P.value.userId,null))})}function Ie(t){q.value(t)}async function be(t){await Ue.analyzeWithNewEngine(P.value.userId,t),await $()}return(t,e)=>{const l=h("v-list-item"),o=h("v-divider"),f=h("v-btn"),k=h("v-checkbox"),c=h("v-range-slider"),m=h("v-icon"),S=h("v-rating"),E=h("v-expansion-panel-title"),I=h("v-chip"),G=h("v-chip-group"),B=h("v-expansion-panel-text"),Pe=h("v-expansion-panel"),Re=h("v-expansion-panels"),xe=h("v-navigation-drawer"),Y=h("v-img"),oe=h("v-card"),ie=h("v-col"),de=h("v-row"),Ce=h("v-alert"),Q=h("v-progress-circular"),U=h("v-list-item-title"),Te=h("v-list"),ze=h("v-menu"),De=h("v-toolbar"),Ve=h("v-fab");return s(),v("div",null,[a(xe,{modelValue:w(Z),"onUpdate:modelValue":e[6]||(e[6]=n=>Ne(Z)?Z.value=n:null),location:"right",width:"250"},{prepend:d(()=>[a(l,{class:"mt-2","prepend-icon":"mdi-text-box-search-outline",title:"Filter"})]),default:d(()=>[a(o),r("div",je,[r("div",Je,[a(f,{style:{width:"100%"},"min-height":"60",variant:"elevated",onClick:ge,stacked:"",elevation:"0",border:"",active:x.value,"active-color":"rgb(89, 135, 184)","prepend-icon":"mdi-heart-search"},{default:d(()=>[...e[11]||(e[11]=[p("Auswahlmodus",-1)])]),_:1},8,["active"]),r("div",Le,[x.value?(s(),g(f,{key:0,onClick:ne,variant:"plain",class:"mt-1"},{default:d(()=>[...e[12]||(e[12]=[p("Nochmal mischen",-1)])]),_:1})):i("",!0)])]),a(o,{class:"mt-3"}),x.value?i("",!0):(s(),v("div",Ye,[a(k,{modelValue:u.value.showPlanned,"onUpdate:modelValue":e[0]||(e[0]=n=>u.value.showPlanned=n),"hide-details":"auto",density:"comfortable",label:"Geplante anzeigen"},null,8,["modelValue"]),a(k,{modelValue:u.value.showTags,"onUpdate:modelValue":e[1]||(e[1]=n=>u.value.showTags=n),"hide-details":"auto",density:"comfortable",label:"Basis-Tags bearbeiten"},null,8,["modelValue"])])),x.value?i("",!0):(s(),g(o,{key:1,class:"mt-3"})),r("div",Qe,[e[13]||(e[13]=r("h4",null,[p("Dauer "),r("span",{style:{"font-size":"0.8em"}},"(Min.)")],-1)),a(c,{modelValue:u.value.duration,"onUpdate:modelValue":e[2]||(e[2]=n=>u.value.duration=n),elevation:"3",max:"120",step:"10","thumb-label":"always",class:"mt-8 px-2","hide-details":""},null,8,["modelValue"])]),!w(y)&&!x.value?(s(),v("div",Xe,[e[14]||(e[14]=r("h4",null,"Zuletzt gekocht (Wochen)",-1)),a(c,{modelValue:u.value.cookedDays,"onUpdate:modelValue":e[3]||(e[3]=n=>u.value.cookedDays=n),elevation:"3",max:"10",step:"1","thumb-label":"always",class:"mt-8 px-2","hide-details":""},null,8,["modelValue"])])):i("",!0),a(o,{class:"mt-3"}),w(y)?i("",!0):(s(),v("div",qe,[e[15]||(e[15]=r("h4",null,"Bewertung",-1)),a(S,{modelValue:u.value.rating,"onUpdate:modelValue":e[4]||(e[4]=n=>u.value.rating=n),hover:"",length:"6",size:"40","active-color":"primary",class:"py-3"},{item:d(n=>[a(m,{color:n.isFilled?n.index===0?"#92aac5":"#1e3f66":"grey-lighten-1",size:"large"},{default:d(()=>[p(C(n.isFilled&&n.index===0?"mdi-star-off":"mdi-star"),1)]),_:2},1032,["color"])]),_:1},8,["modelValue"]),a(k,{modelValue:u.value.showUnrated,"onUpdate:modelValue":e[5]||(e[5]=n=>u.value.showUnrated=n),"hide-details":"auto",density:"comfortable",label:"Unbewertete anzeigen"},null,8,["modelValue"])])),x.value?i("",!0):(s(),g(o,{key:4})),x.value?i("",!0):(s(),v("div",en,[(s(!0),v(A,null,K(me.value,n=>(s(),v("div",{key:n.title},[a(Re,{multiple:""},{default:d(()=>[a(Pe,{elevation:"0",modelValue:n.open,"onUpdate:modelValue":R=>n.open=R,class:"pa-0 ma-0"},{default:d(()=>[a(E,{class:"pa-0",static:""},{default:d(()=>[r("div",null,[r("h4",null,[p(C(n.title)+" ",1),n.items.some(R=>u.value.tags.includes(R.name))?(s(),v("span",nn,"("+C(n.items.filter(R=>u.value.tags.includes(R.name)).length)+")",1)):i("",!0)])])]),_:2},1024),a(B,{class:"no-padding-content"},{default:d(()=>[a(G,{"selected-class":"selected-chip",column:"",multiple:""},{default:d(()=>[(s(!0),v(A,null,K(n.items,R=>(s(),g(I,{key:R.name,text:R.icon+" "+R.name,value:R.name,variant:u.value.tags.includes(R.name)?"elevated":"tonal",onClick:_=>we(R.name)},null,8,["text","value","variant","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]))),128))]))])]),_:1},8,["modelValue"]),b.value&&(b.value.recipes&&b.value.recipes.length>0||b.value.recipeTitle)?(s(),g(Ce,{key:0,closable:"",style:{background:"linear-gradient(90deg, rgba(89, 135, 184, 1) 0%, rgba(191, 207, 219, 1) 100%)"},class:"mb-6"},{default:d(()=>[!b.value.recipes||b.value.recipes.length===0?(s(),v("div",tn,[r("a",{target:"_blank",href:b.value.recipeId?"/recipes/go?id="+b.value.recipeId:"#",style:{"text-decoration-line":"none",color:"white"}},[b.value.recipeId?(s(),g(Y,{key:0,class:"position-relative","max-height":"100",src:J(b.value.recipeId),color:"grey",cover:""},null,8,["src"])):i("",!0),e[16]||(e[16]=r("div",{class:"mt-2"},"Heutige Mahlzeit:",-1)),e[17]||(e[17]=p()),r("h2",null,[r("i",null,C(b.value.recipeTitle),1)])],8,sn)])):i("",!0),b.value.recipes&&b.value.recipes.length>0?(s(),v("div",ln,[e[18]||(e[18]=r("h2",{class:"mt-2",style:{color:"white"}},[r("i",null,"Heutige Auswahl an Mahlzeiten:")],-1)),a(de,{align:"center"},{default:d(()=>[(s(!0),v(A,null,K(b.value.recipes,n=>(s(),g(ie,{key:n.id,cols:"6"},{default:d(()=>[r("a",{target:"_blank",href:n&&n.sectionsUploaded?"/recipes/go?id="+n.id:"#",style:{"text-decoration-line":"none",color:"white"}},[a(oe,null,{default:d(()=>[(s(),g(Y,{class:"position-relative",height:"150",src:J(n.id),key:T.value[n.id]?T.value[n.id]:0,cover:""},null,8,["src"])),r("div",on,C(n.title||"Ohne Titel"),1)]),_:2},1024)],8,an)]),_:2},1024))),128))]),_:1})])):i("",!0)]),_:1})):i("",!0),a(de,{class:"text-center"},{default:d(()=>[M.value.length===0?(s(),v("div",dn,[r("div",null,[a(m,{icon:"mdi-chef-hat",size:"50"})]),e[19]||(e[19]=r("div",{style:{"font-size":"1.8em"}},"Keine Rezepte gefunden!",-1))])):i("",!0),(s(!0),v(A,null,K(M.value,(n,R)=>(s(),g(ie,{cols:"12",md:"4",sm:"6",lg:"3",xl:"2",key:n.id},{default:d(()=>[a(oe,{class:"mx-auto","max-width":"374",color:n.uploaded?null:"#ADCEE9",border:!n.uploaded},{default:d(()=>[x.value?(s(),v("div",un,[r("b",null,"Vorschlag "+C(R+1+" / "+M.value.length),1)])):i("",!0),r("div",null,[(s(),g(Y,{class:We([{"scan-img":n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress},"position-relative"]),height:"200",src:J(n.id,n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress),key:T.value[n.id]?T.value[n.id]:0,color:"grey",cover:""},{default:d(()=>[r("div",rn,[!w(y)&&(n.rating||!n.uploaded)?(s(),v("div",cn,[n.rating?(s(),v("div",fn,[a(S,{modelValue:n.rating,"onUpdate:modelValue":_=>n.rating=_,hover:"",length:"5",size:"20",readonly:"",class:"mb-1"},null,8,["modelValue","onUpdate:modelValue"])])):i("",!0)])):i("",!0),n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress?(s(),v("div",mn,[n.ingredientsInProgress?(s(),v("span",vn,[r("span",null,[a(Q,{indeterminate:"",color:"white"})]),e[20]||(e[20]=p()),e[21]||(e[21]=r("span",null,"Zutaten werden analysiert...",-1))])):i("",!0),n.sectionsInProgress?(s(),v("span",gn,[r("span",null,[a(Q,{indeterminate:"",color:"white"})]),e[22]||(e[22]=p()),e[23]||(e[23]=r("span",null,"Schritte werden analysiert...",-1))])):i("",!0),n.imageInProgress?(s(),v("span",hn,[r("span",null,[a(Q,{indeterminate:"",color:"white"})]),e[24]||(e[24]=p()),e[25]||(e[25]=r("span",null,"Bild wird generiert...",-1))])):i("",!0)])):i("",!0)]),n.duration||n.lastCookedDays>=0&&!w(y).value?(s(),v("div",yn,[n.lastCookedDays>=0&&!w(y).value?(s(),v("div",kn,[a(m,{icon:"mdi-bowl-mix-outline",class:"mr-1"}),r("b",null,"Vor "+C(n.lastCookedDays)+" Tagen",1)])):i("",!0),n.duration?(s(),v("div",_n,[a(m,{icon:"mdi-clock-outline",class:"mr-1"}),r("b",null,C(n.duration)+" Min.",1)])):i("",!0)])):i("",!0),r("div",pn,[!w(y)&&!n.uploaded&&!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.imageInProgress?(s(),g(f,{key:0,class:"mb-1",onClick:_=>se(n),style:{"background-color":"rgba(93,93,93,0.66)"}},{default:d(()=>[a(m,{icon:"mdi-upload-off",size:"30"})]),_:1},8,["onClick"])):i("",!0),!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.imageInProgress&&!n.sectionsUploaded?(s(),v("div",wn,[a(m,{icon:"mdi-information-slab-circle"}),e[26]||(e[26]=p()),e[27]||(e[27]=r("b",null,"Nur Zutatenliste vorhanden!",-1))])):i("",!0)]),a(De,{color:"transparent"},{append:d(()=>[w(y)&&!n.planned&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(s(),g(f,{key:0,onClick:_=>te(n),style:{"background-color":"rgba(93,93,93,0.66)"},class:"mr-1"},{default:d(()=>[r("div",null,[a(m,{icon:"mdi-share-variant-outline",size:"30"})])]),_:1},8,["onClick"])):i("",!0),(w(y)&&n.planned||!w(y))&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(s(),g(f,{key:1,onClick:_=>ke(n),style:{"background-color":"rgba(93,93,93,0.66)"}},{default:d(()=>[r("div",null,[n.planned?i("",!0):(s(),v("div",In,[n.voting&&n.voting>0?(s(),v("span",bn,[r("span",Pn,C(n.voting),1),e[28]||(e[28]=r("span",{class:"mr-1",style:{"font-weight":"600","font-size":"1.1em"}},"x",-1))])):i("",!0),a(m,{icon:n.voting&&n.voting>0?"mdi-thumb-up":"mdi-thumb-up-outline",size:"30"},null,8,["icon"])])),n.planned?(s(),v("div",Rn,[a(m,{icon:"mdi-bowl-mix",size:"30",color:"blue"})])):i("",!0)])]),_:2},1032,["onClick"])):i("",!0),!w(y)&&(n.sectionsInProgress||n.ingredientsInProgress||n.imageInProgress)?(s(),g(f,{key:2,icon:"mdi-stop-circle-outline",color:"white",onClick:_=>ae(n.id),variant:"plain"},null,8,["onClick"])):i("",!0),a(ze,null,{activator:d(({props:_})=>[!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(s(),g(f,He({key:0,icon:"mdi-dots-vertical",color:"white"},{ref_for:!0},_),{default:d(()=>[a(m,{icon:"mdi-dots-vertical",size:"35"})]),_:1},16)):i("",!0)]),default:d(()=>[!n.imageInProgress&&!n.sectionsInProgress?(s(),g(Te,{key:0},{default:d(()=>[!w(y)&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress&&!n.planned?(s(),g(l,{key:0,onClick:_=>_e(n)},{default:d(()=>[a(U,null,{default:d(()=>[...e[29]||(e[29]=[p("Einplanen",-1)])]),_:1})]),_:1},8,["onClick"])):i("",!0),!w(y)&&n.voting&&n.voting>0?(s(),g(l,{key:1,onClick:_=>pe(n)},{default:d(()=>[a(U,null,{default:d(()=>[...e[30]||(e[30]=[p("Likes lÃ¶schen",-1)])]),_:1})]),_:1},8,["onClick"])):i("",!0),n.sectionsUploaded?i("",!0):(s(),g(l,{key:2,onClick:_=>Ie(n.id)},{default:d(()=>[a(U,null,{default:d(()=>[...e[31]||(e[31]=[p("Zutaten einkaufen",-1)])]),_:1})]),_:1},8,["onClick"])),a(o),!n.imageInProgress&&!n.sectionsInProgress?(s(),g(l,{key:3,to:"/recipes/edit?id="+n.id},{default:d(()=>[a(U,null,{default:d(()=>[...e[32]||(e[32]=[p("Bearbeiten",-1)])]),_:1})]),_:1},8,["to"])):i("",!0),w(y)?i("",!0):(s(),g(l,{key:4,onClick:_=>le(n)},{default:d(()=>[a(U,null,{default:d(()=>[...e[33]||(e[33]=[p("Bild Ã¤ndern",-1)])]),_:1})]),_:1},8,["onClick"])),!w(y)&&n.engine!=="gpt-5"?(s(),g(l,{key:5,onClick:_=>be(n.id)},{default:d(()=>[a(U,null,{default:d(()=>[...e[34]||(e[34]=[p("Analyse verbessern",-1)])]),_:1})]),_:1},8,["onClick"])):i("",!0),a(l,{onClick:_=>se(n)},{default:d(()=>[a(U,null,{default:d(()=>[...e[35]||(e[35]=[p("Github-Upload",-1)])]),_:1})]),_:1},8,["onClick"]),w(y)?i("",!0):(s(),g(l,{key:6,onClick:_=>te(n)},{default:d(()=>[a(U,null,{default:d(()=>[...e[36]||(e[36]=[p("Link teilen...",-1)])]),_:1})]),_:1},8,["onClick"])),w(y)?i("",!0):(s(),g(l,{key:7,onClick:_=>ae(n.id)},{default:d(()=>[a(U,null,{default:d(()=>[...e[37]||(e[37]=[p("LÃ¶schen",-1)])]),_:1})]),_:1},8,["onClick"]))]),_:2},1024)):i("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","src"]))]),n.title&&(n.ingredientsInProgress||n.sectionsInProgress)?(s(),v("div",xn,[r("span",Cn,C(n.title),1)])):i("",!0),n.title&&!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.sectionsUploaded?(s(),v("div",Tn,[r("span",zn,C(n.title),1)])):i("",!0),!n.ingredientsInProgress&&!n.sectionsInProgress&&n.sectionsUploaded?(s(),v("div",Dn,[r("a",{target:"_blank",style:{"text-decoration-line":"none",color:"#000000","font-size":"1.2em",cursor:"pointer"},class:"text-medium-emphasis",onClick:_=>ye(n)},C(n.title),9,Vn)])):i("",!0),(u.value.showTags||!n.uploaded||!n.tags||n.tags.length===0)&&!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.imageInProgress?(s(),v("div",$n,[(s(!0),v(A,null,K(ve.value,_=>(s(),v("span",{key:_},[a(I,{class:"ml-1 mt-1",color:n.tags&&n.tags.includes(_)?"#183240":"#9f9f9f",onClick:Sn=>he(n,_)},{default:d(()=>[p(C(_),1)]),_:2},1032,["color","onClick"])]))),128))])):i("",!0)]),_:2},1032,["color","border"])]),_:2},1024))),128))]),_:1}),e[38]||(e[38]=r("div",{style:{height:"70px"}},null,-1)),w(y)?i("",!0):(s(),g(Ve,{color:"rgb(89, 135, 184)",key:"test","prepend-icon":"mdi-cookie-plus-outline",app:!0,location:"right bottom",text:"Rezept hinzufÃ¼gen",extended:"",size:"large",onClick:e[7]||(e[7]=n=>le(null))})),a(Ze,{onResult:e[8]||(e[8]=n=>X.value=n)}),a(Oe,{onResult:e[9]||(e[9]=n=>q.value=n)}),a($e,{onResult:e[10]||(e[10]=n=>ee.value=n),title:"Bitte bestÃ¤tigen",message:"Soll das Rezept wirklich gelÃ¶scht werden?"})])}}},Fn=Fe(Un,[["__scopeId","data-v-c60ac65e"]]),Kn={__name:"index",setup(ce){return re(async()=>{}),(H,O)=>(s(),g(Fn))}};export{Kn as default};
