import{a5 as Ge,_ as Se,N as Ie,K as Te,r as h,u as Ce,O as de,o as ce,g as k,Q as F,y as l,C as a,B as i,z as o,x as v,S as H,T as K,R as b,A,D as I,L as ye,a6 as He,M as Ke,a7 as Qe,a3 as Xe,k as re,P as Z,a8 as Ye,a9 as et,J as tt}from"./z_ZzB0Om.js";import{R as O,I as nt,C as it}from"./CV5FUHjl.js";const st=Ge("/images/bellring.png"),ot={class:"mt-3"},at={style:{"font-size":"1.6em"}},lt={key:0,style:{"font-size":"1.3em","font-style":"italic"},class:"ml-4"},rt={__name:"TimerDialog",emits:["result"],setup(U,{emit:B}){Ie();const M=Te();h(M.authInfo);const D=B;Ce(),de().params.userId;const q=h(!1),X=h(null),me=h(null),T=h(!1),d=h([]);let z=null;ce(async()=>{D("result",async ne=>(d.value=ne,T.value=!1,z=new Audio("/audio/alert.mp3"),z.loop=!0,z.play(),setTimeout(()=>{G()},1e4),q.value=!0,new Promise((S,L)=>{X.value=S,me.value=L})))});function G(){z&&(z.pause(),z.currentTime=0,T.value=!0)}function _(){G(),q.value=!1,X.value(!1)}return(ne,S)=>{const L=k("v-card-title"),ie=k("v-divider"),se=k("v-card-text"),Y=k("v-btn"),ee=k("v-card-actions"),te=k("v-card"),C=k("v-dialog");return l(),F(C,{"max-width":"600",persistent:"",modelValue:q.value,"onUpdate:modelValue":S[0]||(S[0]=N=>q.value=N)},{default:a(()=>[i(te,{style:{"background-color":"#fcfaf7"},class:"pa-4"},{default:a(()=>[i(L,null,{default:a(()=>[...S[1]||(S[1]=[o("h2",null,"Zeit abgelaufen!",-1)])]),_:1}),i(se,null,{default:a(()=>[S[3]||(S[3]=o("div",{style:{width:"100%"},class:"text-center"},[o("div",{class:"vibrate"},[o("img",{alt:"bellring",src:st,style:{width:"300px",height:"300px"},class:"mt-2"})])],-1)),i(ie),o("div",ot,[S[2]||(S[2]=o("h3",null,"Folgende Timer sind abgelaufen:",-1)),(l(!0),v(H,null,K(d.value,N=>(l(),v("div",{key:N.id},[o("span",at,"- "+A(N.title),1),N.descriptionTextAfter?(l(),v("div",lt,A(N.descriptionTextAfter),1)):b("",!0)]))),128))])]),_:1}),i(ee,null,{default:a(()=>[i(Y,{onClick:G,rounded:"",variant:"outlined",disabled:T.value},{default:a(()=>[...S[4]||(S[4]=[I(" Wecker stoppen ",-1)])]),_:1},8,["disabled"]),i(Y,{onClick:_,rounded:"",variant:"outlined",color:"red"},{default:a(()=>[...S[5]||(S[5]=[I(" Schließen ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},ut=Se(rt,[["__scopeId","data-v-38b0a021"]]),xe={},ue={},dt={debounceTime(U,B,M){clearTimeout(xe[U]),xe[U]=setTimeout(()=>{B.apply(this)},M)},reduceExecutions(U,B,M){ue[U]||(ue[U]=!0,setTimeout(()=>{ue[U]=!1},M),B.apply(this))}},ct={class:"mt-2"},mt={class:"mb-1 mt-2"},pt={class:"text-medium-emphasis"},vt={class:"mt-2"},ft={class:"text-h4 text-medium-emphasis mt-4"},gt={key:0,class:"mt-6"},_t={key:0,style:{"font-style":"italic","font-size":"1.2em"},class:"mt-3"},ht=["id"],kt=["innerHTML"],bt={key:1,class:"mt-6"},yt={key:0,class:"mb-4"},xt={key:1},wt={style:{"font-size":"0.9em"}},St={class:"mt-4"},It={class:"text-center",style:{"margin-top":"40px"}},Tt={key:0},Ct={class:"text-center mt-2"},Rt={class:"text-medium-emphasis mt-6"},zt={key:1,class:"custom-bottom-sheet no-print"},At={class:"sheet-content",style:{"background-color":"rgb(226, 226, 226)"}},Dt={key:0,class:"sheet-ingredients"},Pt={key:0},Nt={key:1},Vt={key:0,class:"mb-2"},$t={style:{"font-size":"1.7em","border-radius":"6px","background-color":"#ffffff",color:"#3d3d3d"},class:"px-2"},Et={key:0},Mt={key:1},Lt={style:{"background-color":"rgb(203, 203, 204)",display:"flex"}},Ut={class:"ml-2",style:{width:"100px","flex-shrink":"0"}},Bt={class:"mx-2",style:{flex:"1"}},we="*",jt={__name:"MealMaker",setup(U){ye.extend(He);const B=Ie(),M=Te(),{authInfo:D,githubMode:J,lanAddress:q}=Ke(M),X=Ce(),T=de().query.id,d=h(null),z=h(null),G=h(2),_=h([]),ne=h(null),S=h(!1),L=h(!1),ie=h(null),se=h(null),Y=h(null),ee=h([]),te=h(!0),C=h([]),N=h(!1),pe=h([]),j=h(-1),ve=h([]);ce(async()=>{d.value=null,z.value=null,await M.getAuthInfo(),await ae(),await W(!0),d.value.planned&&!d.value.cooked&&Y.value().then(async e=>{if(e){const r={cooked:!0};await O.updateRecipe(D.value.userId,T,r)}});const t=localStorage.getItem("timers-"+T);if(t)try{const e=JSON.parse(t);e.forEach(r=>{r.isPaused=!0}),_.value=e.map(r=>({...r,timeoutId:null}))}catch(e){console.error("Timer konnte nicht geladen werden:",e)}}),Qe(()=>{_.value.forEach(t=>clearTimeout(t.timeoutId)),clearTimeout(ne.value)}),Xe(_,t=>{const e=t.map(({timeoutId:r,...u})=>u);localStorage.setItem("timers-"+T,JSON.stringify(e))},{deep:!0}),window.addEventListener("message",t=>{var r;const e=t.data;if(!(!e||typeof e!="object")&&(e.type==="speech-commands:ready"&&console.log(`iFrame bereit (${((r=e.vocab)==null?void 0:r.length)||0} Wörter)`),e.type==="speech-commands:result")){const u=e.scores.find(g=>g.label==="one"),f=e.scores.find(g=>g.label==="eight");(u&&u.score>=.92||f&&f.score>=.92)&&dt.reduceExecutions("speech-commands",()=>{he()},1e3)}});async function Re(){const t={voting:0,planned:!0};await O.updateRecipe(D.value.userId,T,t),await ae()}const ze=re(()=>!C||C.value.length===0?0:C.value.filter(t=>!t.ingredient&&t.duration).reduce((t,e)=>t+e.duration,0)),fe=re(()=>!C||C.value.length===0?[]:C.value.filter(t=>!!t.ingredient)),Ae=re(()=>!C||C.value.length===0?[]:C.value.filter(t=>!t.ingredient));function De(){const t=[];d.value.ingredients.forEach(e=>{if(e.preparationRequired){let r=e.preparationLongText;const u=z.value.find(f=>e.name===f.name);if(u){let f="";f=u.amount?u.amount+(u.unit?" "+u.unit:"")+" ":"",r=r.replace(e.basicName,f+" "+e.basicName)}t.push({name:r,ingredient:!0})}}),d.value.sections.forEach(e=>{e.ingredientsPreparations&&e.ingredientsPreparations.length>0&&e.ingredientsPreparations.forEach(r=>{let u=[],f=r.instruction;for(let g=0;g<e.usedIngredients.length;g++){let c=e.usedIngredients[g];const p=z.value.find(x=>x.name===c.ingredientNameList);let y="";p&&!u.includes(p.name)&&(y=p.amount?p.amount+(p.unit?" "+p.unit:"")+" ":"",u.push(p.name),f=f.replace(c.ingredientNameText,y+" "+c.ingredientNameText))}t.push({name:f,originalName:r.instruction,sectionIndex:e.index-1,duration:r.duration})})}),C.value=t}function Pe(){j.value=-1,te.value=!0,W()}function Ne(t){return J.value?"https://mmhhhh.de/data/home/recipes/"+t.id+"/image.jpg":q.value+"api/"+D.value.userId+"/recipes/"+t.id+"/image"}function ge(){window.close(),setTimeout(()=>{document.title="Cookio - Rezeptmanager",X.push("/recipes")},500)}async function Ve(){const t={preparations:[]};await O.updateRecipe(D.value.userId,T,t),await ae(),await W(!0)}function $e(t){be(t),W(!0)}async function Ee(t){const e={rating:t};await O.updateRecipe(D.value.userId,T,e),await W()}async function _e(){if(!J.value){const t={preparations:C.value};await O.updateRecipe(D.value.userId,T,t),await W()}}function he(){j.value++,W()}async function ae(){d.value=await O.getRecipe(D.value.userId,T),d.value.ingredients=(await O.getRecipeIngredients(D.value.userId,T)).data,d.value.sections=(await O.getRecipeSections(D.value.userId,T)).data}async function W(t=!1){let e=JSON.parse(JSON.stringify(d.value.sections));be(),t&&(d.value.preparations&&d.value.preparations.length>0?C.value=d.value.preparations:De()),pe.value=[];let r=-1;if(_.value)for(let c=_.value.length-1;c>=0;c--)(_.value[c].remainingSeconds===0||!_.value[c].timerStarted)&&(_.value=_.value.filter(p=>p.id!==_.value[c].id||p.id===_.value[c].id&&_.value[c].timerStarted));const u=[];let f=null,g=0;for(let c=0;c<e.length;c++){let p=e[c],y=p.description,x="",V=qe(y);if(g=r+V.length,V.forEach((s,R)=>{r++,pe.value.push(s);const m=C.value.find(w=>w.checked&&c===w.sectionIndex&&w.originalName===s);if(j.value>g||j.value>=r)x=x+'<span style="color: #9a9a9a;">'+s+" </span>";else if(j.value+1===r){if(m)x=x+'<span style="color: #9a9a9a;">'+s+" </span>",j.value++;else if(B.smAndDown.value?x=x+'<span style="background-color: #bfe7d2; font-size: 1.4em; box-decoration-break: clone;-webkit-box-decoration-break: clone;" class="pa-2">'+s+" </span> ":x=x+'▶&nbsp;<span style="background-color: #bfe7d2; padding-top: 4px; padding-bottom: 4px">'+s+" </span> ",p.timer&&p.timer.length>0)for(let w=0;w<p.timer.length;w++)s.includes(p.timer[w].descriptionText)&&_.value.push({id:c+"-"+w,title:p.timer[w].title,remainingSeconds:p.timer[w].duration*60,timerStarted:!1,isPaused:!1,timeoutId:null,descriptionTextAfter:p.timer[w].descriptionTextAfter})}else x=x+s+" "}),y=x,j.value+1>g&&e.length>c+1&&(f=c+1),p.timer&&p.timer.length>0)for(let s=0;s<p.timer.length;s++){let R=p.timer[s];y=y.replace(R.descriptionText,'<span class="pa-1 stopwatch-button" style="cursor: pointer; background-color: rgba(187,187,187,0.66); border: rgba(41,56,80,0.49) solid 3px; border-radius: 20px; color: #545454; font-size: 0.9em" data-id="'+s+'" data-sectionid="'+c+'"> ⏱ '+R.descriptionText+"</span >")}L.value||p.ingredientsPreparations.forEach(s=>{C.value.find(m=>m.checked&&c===m.sectionIndex&&m.originalName===s.instruction)&&(y=y.replace(s.instruction,'<span style="text-decoration-line: line-through;text-decoration-style: solid;text-decoration-thickness: 2px;text-underline-offset: 4px;">'+s.instruction+"</span>"))}),p.usedIngredients.forEach(s=>{const R=z.value.find(w=>w.name===s.ingredientNameList);let m="";R&&!u.includes(R.name)&&(m=R.amount?R.amount+(R.unit?" "+R.unit:"")+" ":"",u.push(R.name)),y=y.replace(s.ingredientNameText,"<b>"+m+s.ingredientNameText+"</b>")}),p.description=y}j.value>g-1&&(te.value=!1),ve.value=e,await X.push("/recipes/go?id="+T+"#section-"+(f||0)),document.title=d.value.title+" - Cookio"}function Me(){document.getElementById("scFrame").contentWindow.postMessage({type:"speech-commands:control",action:"start"},we),N.value=!0}function Le(){document.getElementById("scFrame").contentWindow.postMessage({type:"speech-commands:control",action:"stop"},we),N.value=!1}function Ue(t){ie.value(t)}function ke(){L.value=!L.value,W()}function be(t){t&&(G.value=t);let e=d.value.portions?d.value.portions:2;z.value=[],d.value.ingredients.forEach(r=>{z.value.push({name:r.name,unit:r.unit,amount:Math.ceil(r.amount/e*G.value)})})}function Be(t){const e=t.target.closest(".stopwatch-button");if(e){const r=e.dataset.id,u=e.dataset.sectionid,f=parseInt(r,10),g=parseInt(u,10),c=d.value.sections[g].timer[f];_.value.push({id:g+"-"+f,title:c.title,remainingSeconds:c.duration*60,timerStarted:!1,isPaused:!1,timeoutId:null,descriptionTextAfter:c.descriptionTextAfter})}}const je=t=>{const e=ye.duration(t*1e3),r=String(e.minutes()).padStart(2,"0"),u=String(e.seconds()).padStart(2,"0");return`${r}:${u}`};function Fe(t){_.value=_.value.filter(e=>e.id!==t)}const le=t=>{t.isPaused||t.remainingSeconds<=0||_.value.find(e=>e.id===t.id)&&(t.remainingSeconds--,t.remainingSeconds<=0&&(ee.value.push(t),se.value(ee.value).then(()=>{ee.value=[],_.value=_.value.filter(e=>e.remainingSeconds>0)})),t.remainingSeconds>0?t.timeoutId=setTimeout(()=>le(t),1e3):t.timeoutId=null)},We=t=>{clearTimeout(t.timeoutId),t.timerStarted=!0,t.isPaused=!1,t.timeoutId=setTimeout(()=>le(t),1e3)},Ze=t=>{t.isPaused=!t.isPaused,!t.isPaused&&t.remainingSeconds>0&&(t.timeoutId=setTimeout(()=>le(t),1e3))},Oe=t=>{t.remainingSeconds=t.remainingSeconds+60},Je=t=>{const e=t.remainingSeconds-60;t.remainingSeconds=Math.max(e,0)};function qe(t,e=[]){const r=["ca.","etc.","ggf.","bspw.","bzw.","vgl.","Dr.","Prof.","Nr.","Stk.","Abs.","Art.","Sek.","Std.","Min.","z. B.","u. a.","i. d. R.","z. T.","sog."],u=m=>m.toLowerCase().replace(/[.\s]/g,""),f=new Set([...r,...e].map(u)),g=m=>m>="0"&&m<="9",c=m=>/\s/.test(m),p=m=>/[)"'\]\}»”]/.test(m),y=t.length,x=[];let V="",s=0;function R(m){const w=Math.max(0,m-15),Q=u(t.slice(w,m));for(const $ of f)if(Q.endsWith($))return!0;if(t[m]==="."){let $=m+1;for(;$<y&&c(t[$]);)$++;if($+1<y&&/[A-Za-zÄÖÜäöü]/.test(t[$])&&t[$+1]===".")return!0}return!1}for(;s<y;){const m=t[s];if(V+=m,m==="."||m==="!"||m==="?"){const w=t[s-1]||"",Q=t[s+1]||"";if(!(m==="."&&g(w)&&g(Q))&&!R(s)){let P=s+1;for(;P<y&&(p(t[P])||t[P]==="*");)V+=t[P],P++;const oe=V.trim();for(oe&&x.push(oe),V="";P<y&&c(t[P]);)P++;s=P;continue}}s++}return V.trim()&&x.push(V.trim()),x}return(t,e)=>{const r=k("v-app-bar-nav-icon"),u=k("v-icon"),f=k("v-list-item-title"),g=k("v-list-item"),c=k("v-divider"),p=k("v-chip"),y=k("v-list"),x=k("v-menu"),V=k("v-app-bar"),s=k("v-btn"),R=k("v-img"),m=k("v-checkbox"),w=k("v-rating"),Q=k("v-container"),$=k("v-table"),P=k("v-col"),oe=k("v-row");return l(),v("div",null,[i(V,{collapse:"",elevation:0,color:"#6969695A",class:"no-print"},{prepend:a(()=>[i(x,null,{activator:a(({props:n})=>[i(r,Ye(et(n)),null,16)]),default:a(()=>[i(y,{class:"mt-2"},{default:a(()=>[i(g,{onClick:ke},{default:a(()=>[i(f,null,{default:a(()=>[i(u,{icon:"mdi-knife",size:"20"}),I(" Schnibbelmodus "+A(L.value?"beenden":""),1)]),_:1})]),_:1}),N.value?b("",!0):(l(),F(g,{key:0,onClick:e[0]||(e[0]=n=>Me())},{default:a(()=>[i(f,null,{default:a(()=>[i(u,{icon:"mdi-microphone-message",size:"20"}),e[9]||(e[9]=I(" Sprachsteuerung aktivieren",-1))]),_:1})]),_:1})),N.value?(l(),F(g,{key:1,onClick:e[1]||(e[1]=n=>Le())},{default:a(()=>[i(f,null,{default:a(()=>[i(u,{icon:"mdi-microphone-message-off",size:"20"}),e[10]||(e[10]=I(" Sprachsteuerung beenden",-1))]),_:1})]),_:1})):b("",!0),i(g,{onClick:e[2]||(e[2]=n=>Ue(Z(T)))},{default:a(()=>[i(f,null,{default:a(()=>[i(u,{icon:"mdi-truck",size:"20"}),e[11]||(e[11]=I(" Zutaten einkaufen",-1))]),_:1})]),_:1}),Z(J)?b("",!0):(l(),F(g,{key:2,onClick:e[3]||(e[3]=n=>Re(d.value)),disabled:d.value.planned},{default:a(()=>[i(f,null,{default:a(()=>[i(u,{icon:"mdi-bowl-mix",size:"20"}),e[12]||(e[12]=I(" Einplanen",-1))]),_:1})]),_:1},8,["disabled"])),i(g,{onClick:Pe,disabled:j.value===-1},{default:a(()=>[i(f,null,{default:a(()=>[i(u,{icon:"mdi-backup-restore",size:"20"}),e[13]||(e[13]=I(" Fortschritt zurücksetzen",-1))]),_:1})]),_:1},8,["disabled"]),i(c),i(g,null,{default:a(()=>[o("div",ct,[i(u,{icon:"mdi-account-group",size:"20"}),e[14]||(e[14]=I(" Portionen ",-1))]),o("div",mt,[(l(),v(H,null,K([1,2,3,4,5,6],n=>o("span",{key:n,class:"ml-1"},[i(p,{color:n===G.value?"indigo":null,"prepend-icon":"mdi-account",onClick:E=>$e(n)},{default:a(()=>[I(A(n),1)]),_:2},1032,["color","onClick"])])),64))])]),_:1})]),_:1})]),_:1})]),_:1}),d.value?(l(),F(Q,{key:0,class:"pt-0"},{default:a(()=>[o("div",null,[o("div",pt,[i(s,{variant:"plain","prepend-icon":"mdi-arrow-left",onClick:ge},{default:a(()=>[...e[15]||(e[15]=[I("Zurück",-1)])]),_:1})])]),o("div",vt,[!d.value.imageInProgress&&d.value.imageUploaded?(l(),F(R,{key:0,height:"200",src:Ne(d.value),color:"grey",cover:""},null,8,["src"])):b("",!0),o("div",ft,A(d.value.title),1)]),L.value?b("",!0):(l(),v("div",gt,[d.value.preheat?(l(),v("div",_t,A(d.value.preheat),1)):b("",!0),(l(!0),v(H,null,K(ve.value,(n,E)=>(l(),v("div",{key:n.index},[o("div",null,[o("h2",{style:{color:"dimgray"},class:"pt-8",id:"section-"+E},A(n.index)+" "+A(n.sectionTitle),9,ht)]),o("div",{style:{"font-size":"1.2em"},class:"mt-1",innerHTML:n.description,onClick:Be},null,8,kt)]))),128))])),L.value?(l(),v("div",bt,[e[18]||(e[18]=o("h2",null,"Vorbereitungen",-1)),Z(J)?b("",!0):(l(),v("div",yt,[i(s,{onClick:Ve,variant:"plain",rounded:"",style:{"font-size":"0.7em"}},{default:a(()=>[...e[16]||(e[16]=[I("Zurücksetzen",-1)])]),_:1})])),e[19]||(e[19]=o("h3",null,"Zutatenvorbereitungen",-1)),Z(fe).length===0?(l(),v("div",xt," Keine Vorbereitungen nötig. ")):b("",!0),(l(!0),v(H,null,K(Z(fe),n=>(l(),v("div",{class:"mt-1",key:n.name},[i(m,{modelValue:n.checked,"onUpdate:modelValue":E=>n.checked=E,"hide-details":"auto",density:"comfortable",label:n.name,onChange:_e},null,8,["modelValue","onUpdate:modelValue","label"])]))),128)),e[20]||(e[20]=o("h3",{class:"mt-3"},"Rezeptvorbereitungen",-1)),o("span",wt,"Dauer: "+A(Z(ze))+" Min.",1),(l(!0),v(H,null,K(Z(Ae),n=>(l(),v("div",{class:"mt-1",key:n.name},[i(m,{modelValue:n.checked,"onUpdate:modelValue":E=>n.checked=E,"hide-details":"auto",density:"comfortable",label:n.name,onChange:_e},null,8,["modelValue","onUpdate:modelValue","label"])]))),128)),o("div",St,[i(s,{onClick:ke,color:"primary",variant:"outlined",rounded:""},{default:a(()=>[...e[17]||(e[17]=[I("Schnibbelmodus beenden",-1)])]),_:1})])])):b("",!0),o("div",It,[Z(J)?b("",!0):(l(),v("div",Tt,[e[21]||(e[21]=o("span",{style:{"font-size":"1.6em"}},"Wie gut hat dir dieses Essen geschmeckt?",-1)),o("div",Ct,[i(w,{"onUpdate:modelValue":[Ee,e[4]||(e[4]=n=>d.value.rating=n)],hover:"",length:"5",size:"30",modelValue:d.value.rating,"active-color":"primary"},null,8,["modelValue"])])])),o("div",Rt,[i(s,{variant:"text","prepend-icon":"mdi-arrow-left",style:{"font-size":"1.1em"},onClick:ge},{default:a(()=>[...e[22]||(e[22]=[I("Zurück zur Übersicht",-1)])]),_:1})])]),e[23]||(e[23]=o("div",{style:{height:"600px"}},null,-1))]),_:1})):b("",!0),z.value?(l(),v("div",zt,[o("div",At,[S.value?(l(),v("div",Dt,[i(Q,{"max-width":"400"},{default:a(()=>[i($,null,{default:a(()=>[o("tbody",null,[(l(!0),v(H,null,K(z.value,n=>(l(),v("tr",{key:n.name},[o("td",null,[n.amount?(l(),v("span",Pt,A(n.amount),1)):b("",!0),e[24]||(e[24]=I()),n.unit?(l(),v("span",Nt,A(n.unit),1)):b("",!0)]),o("td",null,A(n.name),1)]))),128))])]),_:1})]),_:1})])):b("",!0),o("div",null,[_.value&&_.value.length>0?(l(),v("div",Vt,[o("div",null,[i(s,{variant:"text",elevation:"0",disabled:"","prepend-icon":"mdi-timer-play-outline"},{default:a(()=>[...e[25]||(e[25]=[I("Stoppuhren",-1)])]),_:1})]),(l(!0),v(H,null,K(_.value,n=>(l(),v("div",{key:n.title,class:"my-1"},[i(c,{class:"mb-1"}),i(oe,{align:"center"},{default:a(()=>[i(s,{icon:"mdi-close",onClick:E=>Fe(n.id),variant:"text"},null,8,["onClick"]),i(P,{class:"text-left",style:{"font-size":"1.2em","font-weight":"400","line-height":"1.1 !important"}},{default:a(()=>[I(A(n.title),1)]),_:2},1024),i(P,{class:"d-flex align-center justify-end"},{default:a(()=>[i(s,{onClick:E=>Je(n),icon:"mdi-minus-circle-outline",class:"mr-2",elevation:"0"},null,8,["onClick"]),i(s,{onClick:E=>Oe(n),icon:"mdi-plus-circle-outline",class:"mr-2",elevation:"0"},null,8,["onClick"]),o("span",$t,A(je(n.remainingSeconds)),1),n.timerStarted?b("",!0):(l(),F(s,{key:0,onClick:E=>We(n),icon:"mdi-play-circle-outline",class:"ml-2",color:"rgb(152, 198, 226)",elevation:"0"},null,8,["onClick"])),n.timerStarted?(l(),F(s,{key:1,onClick:E=>Ze(n),class:"ml-2",color:"rgb(152, 198, 226)",elevation:"0",icon:""},{default:a(()=>[n.isPaused?(l(),v("span",Et,[i(u,{icon:"mdi-play-circle-outline"})])):b("",!0),n.isPaused?b("",!0):(l(),v("span",Mt,[i(u,{icon:"mdi-pause-circle-outline"})]))]),_:2},1032,["onClick"])):b("",!0)]),_:2},1024)]),_:2},1024)]))),128))])):b("",!0),o("div",Lt,[o("span",Ut,[i(s,{style:{width:"100%"},"min-height":"60",class:"my-2",variant:"elevated",onClick:e[5]||(e[5]=n=>S.value=!S.value),elevation:"0","prepend-icon":"mdi-food-apple-outline"})]),o("span",Bt,[i(s,{color:"rgb(191, 231, 210)",style:{width:"100%"},"min-height":"60",class:"my-2",variant:"elevated",disabled:!te.value,onClick:he,elevation:"0","prepend-icon":"mdi-skip-forward"},{default:a(()=>[...e[26]||(e[26]=[I("Nächster Schritt",-1)])]),_:1},8,["disabled"])])])])])])):b("",!0),e[27]||(e[27]=o("div",{style:{display:"none"}},[o("iframe",{id:"scFrame",src:"/tfjs.html",allow:"microphone"})],-1)),i(nt,{onResult:e[6]||(e[6]=n=>ie.value=n)}),i(ut,{onResult:e[7]||(e[7]=n=>se.value=n)}),i(it,{onResult:e[8]||(e[8]=n=>Y.value=n),title:"Bitte bestätigen",message:"Das Rezept wurde eingeplant. Soll es auf 'Zubereitet' gesetzt werden?"})])}}},Ft=Se(jt,[["__scopeId","data-v-3ca16f32"]]),Ot={__name:"index",setup(U){const B=de(),M=tt();h(!1);const D=B.query.id;return ce(async()=>{D||M.push("/recipes")}),(J,q)=>(l(),F(Ft))}};export{Ot as default};
