import{I as $e,C as Ue,R as V,a as Fe}from"./CS2M1cia.js";import{_ as Se,M as Ge,K as Ee,N as oe,O as Me,J as Be,P as Ke,r as R,o as ie,W as Ne,g as v,x as m,y as l,B as a,Q as y,R as d,z as r,C as u,D as p,U as w,A as C,S as W,T as Z,X as Ae,Y as We,V as Ze}from"./CLJmnhjq.js";import{R as je}from"./DKQYMiBg.js";const He={class:"pa-4"},Oe={style:{width:"100%"}},Je={class:"text-center"},Ye={key:0},Qe={class:"mt-2"},Xe={key:2,class:"mt-2"},qe={key:3,class:"mt-2"},Le={key:5,class:"mt-2"},en={key:0},nn=["href"],tn={key:0,class:"text-center mt-8 text-high-emphasis",style:{width:"100%"}},sn={key:0,class:"mt-2 mb-1",style:{"font-size":"1.2em"}},ln={class:"overlay-top-left"},an={key:0},on={key:0,class:"px-1 pb-1",style:{"background-color":"rgba(93,93,93,0.66)"}},dn={key:1},un={key:0},rn={key:1},cn={key:2},mn={key:0,class:"overlay-bottom-right"},fn={key:0,style:{"background-color":"rgba(93,93,93,0.66)"},class:"px-1"},vn={key:1,style:{"background-color":"rgba(93,93,93,0.66)"},class:"px-1 mt-1"},gn={class:"overlay-bottom-left pa-1"},hn={key:1,style:{"background-color":"rgba(93,93,93,0.66)","font-size":"0.8em"},class:"pa-1"},yn={key:0},kn={key:0},_n={class:"mr-0",style:{"font-weight":"600","font-size":"1.6em"}},pn={key:1},wn={key:1,class:"ma-2"},In={style:{"font-size":"1.2em"},class:"text-medium-emphasis"},bn={key:2,class:"ma-2"},Pn={style:{"font-size":"1.2em"},class:"text-medium-emphasis"},Cn={key:3,class:"ma-2"},xn=["onClick"],Rn={key:4,class:"ma-2"},Tn={__name:"RecipeOverview",setup(de){const j=Ge(),H=Ee(),{recipes:$}=oe(j),{authInfo:b,githubMode:g,lanAddress:ue,showFilter:M}=oe(H),re=Me();Be(),Ke();const T=R({}),Q=R(null),X=R(null),q=R(null),P=R(!1),B=R([]),F=R([]),ce=R([{title:"Mahlzeiten",open:!1,items:[{name:"FrÃ¼hstÃ¼ck",selected:!1,icon:"ðŸ³"},{name:"Vorspeise",selected:!1,icon:"ðŸ¥—"},{name:"Hauptmahlzeit",selected:!1,icon:"ðŸ½ï¸"},{name:"Dessert",selected:!1,icon:"ðŸ¨"},{name:"Kuchen",selected:!1,icon:"ðŸ°"},{name:"GebÃ¤ck",selected:!1,icon:"ðŸ¥"},{name:"Snack",selected:!1,icon:"ðŸ¿"},{name:"Grill",selected:!1,icon:"ðŸ”¥"},{name:"Weihnachten",selected:!1,icon:"ðŸŽ„"}]},{title:"Zutaten",open:!1,items:[{name:"Kartoffeln",selected:!1,icon:"ðŸ¥”"},{name:"Reis",selected:!1,icon:"ðŸš"},{name:"Pasta",selected:!1,icon:"ðŸ"},{name:"Risotto",selected:!1,icon:"ðŸš"},{name:"Pilze",selected:!1,icon:"ðŸ„"},{name:"KÃ¼rbis",selected:!1,icon:"ðŸŽƒ"},{name:"Gnocchi",selected:!1,icon:"ðŸ¥”"},{name:"SpÃ¤tzle",selected:!1,icon:"ðŸ"},{name:"Halloumi",selected:!1,icon:"ðŸ§€"},{name:"Tortellini",selected:!1,icon:"ðŸ¥"},{name:"Pesto",selected:!1,icon:"ðŸŒ¿"},{name:"KÃ¤se",selected:!1,icon:"ðŸ§€"}]},{title:"Zubereitungsart",open:!1,items:[{name:"Pizza",selected:!1,icon:"ðŸ•"},{name:"Auflauf",selected:!1,icon:"ðŸ¥˜"},{name:"Eintopf",selected:!1,icon:"ðŸ²"},{name:"Suppe",selected:!1,icon:"ðŸ¥£"},{name:"Salat",selected:!1,icon:"ðŸ¥—"},{name:"Bowl",selected:!1,icon:"ðŸ¥™"},{name:"Curry",selected:!1,icon:"ðŸ›"},{name:"Fast-Food",selected:!1,icon:"ðŸ”"},{name:"Gourmet",selected:!1,icon:"ðŸ‘¨â€ðŸ³"},{name:"Wrap",selected:!1,icon:"ðŸ¥™"},{name:"Sandwich",selected:!1,icon:"ðŸ¥ª"},{name:"Burger",selected:!1,icon:"ðŸ”"},{name:"Thermomix",selected:!1,icon:"âš™ï¸"},{name:"Flammkuchen",selected:!1,icon:"ðŸ•"}]},{title:"Fleischtyp",open:!1,items:[{name:"vegetarisch",selected:!1,icon:"ðŸ¥¦"},{name:"vegan",selected:!1,icon:"ðŸŒ±"},{name:"Tofu",selected:!1,icon:"ðŸ§ˆ"},{name:"Soja",selected:!1,icon:"ðŸ«˜"},{name:"Fisch",selected:!1,icon:"ðŸŸ"},{name:"Fleisch",selected:!1,icon:"ðŸ¥©"},{name:"HÃ¤hnchenfleisch",selected:!1,icon:"ðŸ—"},{name:"Rindfleisch",selected:!1,icon:"ðŸ¥©"},{name:"Schweinefleisch",selected:!1,icon:"ðŸ–"}]},{title:"LÃ¤nderkÃ¼che",open:!1,items:[{name:"italienisch",selected:!1,icon:"ðŸ‡®ðŸ‡¹"},{name:"mediterran",selected:!1,icon:"ðŸŒ¿"},{name:"mexikanisch",selected:!1,icon:"ðŸŒ®"},{name:"amerikanisch",selected:!1,icon:"ðŸŸ"},{name:"franzÃ¶sisch",selected:!1,icon:"ðŸ¥–"},{name:"afrikanisch",selected:!1,icon:"ðŸª˜"},{name:"arabisch",selected:!1,icon:"ðŸ§†"},{name:"deutsch",selected:!1,icon:"ðŸ¥¨"},{name:"griechisch",selected:!1,icon:"ðŸ¥™"},{name:"asiatisch",selected:!1,icon:"ðŸœ"},{name:"japanisch",selected:!1,icon:"ðŸ£"},{name:"koreanisch",selected:!1,icon:"ðŸ±"},{name:"spanisch",selected:!1,icon:"ðŸ¥˜"},{name:"russisch",selected:!1,icon:"ðŸ¥Ÿ"},{name:"thailÃ¤ndisch",selected:!1,icon:"ðŸ²"},{name:"tÃ¼rkisch",selected:!1,icon:"ðŸ¢"},{name:"vietnamesisch",selected:!1,icon:"ðŸœ"},{name:"indisch",selected:!1,icon:"ðŸ›"}]},{title:"Jahreszeiten",open:!1,items:[{name:"Winter",selected:!1,icon:"â„ï¸"},{name:"FrÃ¼hling",selected:!1,icon:"ðŸŒ¸"},{name:"Sommer",selected:!1,icon:"ðŸŒž"},{name:"Herbst",selected:!1,icon:"ðŸ‚"}]}]),i=R({duration:[0,120],rating:1,cookedDays:[0,10],tags:[],showPlanned:!0,showTags:!1,showUnrated:!0}),me=R(["Fleisch","Fisch","Reis","GefÃ¼llte Nudeln","Pasta","Gnocchi","Getreideprodukte","Tofu","Kartoffeln","Teigware"]),U=R(null);ie(async()=>{let t=await H.getAuthInfo();z(!0),i.value.showPlanned=g.value,M.value=!re.mobile;const e=new Date,s=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),c=String(e.getDate()).padStart(2,"0");let k=t.calendarPlan;k[`${s}-${o}-${c}`]&&k[`${s}-${o}-${c}`].type&&!(k[`${s}-${o}-${c}`].type==="RECIPE"&&!k[`${s}-${o}-${c}`].recipeId)&&(U.value={recipeTitle:k[`${s}-${o}-${c}`].recipeTitle,recipeId:k[`${s}-${o}-${c}`].recipeId})}),Ne(i,t=>{setTimeout(()=>{O()},400)},{deep:!0});function L(t,e){return e?"/images/analyzing.png":g.value?"https://mmhhhh.de/data/home/recipes/"+t+"/image.jpg?t="+(T.value[t]?T.value[t]:0):ue.value+"api/"+b.value.userId+"/recipes/"+t+"/image?t="+(T.value[t]?T.value[t]:0)}function O(){if(!$.value)return F.value=[],[];let t=[];return P.value?t=B.value:t=$.value,t=t.filter(e=>{if(!i.value.showPlanned&&e.planned&&!e.imageInProgress&&!e.sectionsInProgress&&!e.ingredientsInProgress||!e.duration&&i.value.duration[0]>0||e.duration<i.value.duration[0]||e.duration>i.value.duration[1])return!1;if(i.value.cookedDays){const s=[i.value.cookedDays[0]*7,i.value.cookedDays[1]===10?5e4:i.value.cookedDays[1]*7];if((e.lastCookedDays===void 0||e.lastCookedDays===null)&&s[1]<5e4||e.lastCookedDays!==void 0&&e.lastCookedDays!==null&&(e.lastCookedDays<s[0]||e.lastCookedDays>s[1]))return!1}if(g.value&&!e.uploaded)return!1;if(i.value.rating>0||!i.value.showUnrated){if(!i.value.showUnrated&&!e.rating)return!1;const s=i.value.rating-1,o=e.rating;if(o&&o<s)return!1}return!(i.value.tags.length>0&&(!e.tags||!i.value.tags.every(s=>e.tags.includes(s))))}),P.value?(F.value=t,t):(t=t.sort((e,s)=>{const o=!!e.ingredientsInProgress||!!e.sectionsInProgress||!!e.imageInProgress,c=!!s.ingredientsInProgress||!!s.sectionsInProgress||!!s.imageInProgress;if(o-c!==0)return o-c;const k=e.planned!==null&&e.planned!==void 0?e.planned:!1,f=s.planned!==null&&s.planned!==void 0?s.planned:!1;if(k-f!==0)return k-f;const _=e.uploaded?e.uploaded:!1,G=s.uploaded?s.uploaded:!1;if(G-_!==0)return G-_;const E=e.rating,S=s.rating,N=typeof E=="number"&&E!==null,A=typeof S=="number"&&S!==null;return!N&&!A?0:N?A?S-E:1:-1}).reverse(),F.value=t,t)}function fe(){P.value?(i.value.showPlanned=!0,i.value.showUnrated=!0,i.value.cookedDays=[0,10],i.value.showTags=!1,i.value.tags=[],P.value=!1):(i.value.showPlanned=!1,i.value.showTags=!1,i.value.showUnrated=!0,i.value.cookedDays=[0,10],i.value.tags=[],P.value=!0,ee())}function ee(){let t=[];$.value.forEach(c=>t.push(c));for(let c=t.length-1;c>0;c--){const k=Math.floor(Math.random()*(c+1));[t[c],t[k]]=[t[k],t[c]]}B.value=t;const e=[],s=[];x([],["Fleisch"],e,s,2),x([],["Fisch"],e,s,2),x(["Fleisch","Tofu"],["Pasta"],e,s,3),x(["Fleisch","Tofu"],["GefÃ¼llte Nudeln"],e,s,2),x(["Fleisch","Tofu"],["Reis"],e,s,2),x(["Fleisch","Tofu"],["Gnocchi"],e,s,1),x(["Fleisch","Tofu"],["Getreideprodukte"],e,s,1),x(["Fleisch","Tofu"],["Kartoffeln"],e,s,1),x(["Fleisch","Tofu"],["Teigware"],e,s,1),x(["Fleisch"],["Tofu"],e,s,1),x(["Fleisch","Pasta"],["Tofu"],e,s,1);let o=[];s.forEach(c=>o.push(c));for(let c=o.length-1;c>0;c--){const k=Math.floor(Math.random()*(c+1));[o[c],o[k]]=[o[k],o[c]]}B.value=o.slice(0,8),O()}async function ne(t){if(await navigator.clipboard.writeText("https://mmhhhh.de/recipes/go?id="+t.id),navigator.share)try{await navigator.share({title:t.title,text:t.title,url:"https://mmhhhh.de/recipes/go?id="+t.id})}catch(e){console.error("Teilen abgebrochen",e)}}function x(t,e,s,o,c){let k=B.value.filter(f=>!s.includes(f.id)).filter(f=>!f.planned).filter(f=>!f.voting||f.voting===0).filter(f=>{const _=[21,5e4];return!((f.lastCookedDays===void 0||f.lastCookedDays===null)&&_[1]<5e4||f.lastCookedDays!==void 0&&f.lastCookedDays!==null&&(f.lastCookedDays<_[0]||f.lastCookedDays>_[1]))}).filter(f=>t?t.every(_=>!(f.tags?f.tags:[]).includes(_)):!0).filter(f=>e?e.every(_=>(f.tags?f.tags:[]).includes(_)):!0).slice(0,c);k.forEach(f=>s.push(f.id)),k.forEach(f=>o.push(f))}async function ve(t,e){t.tags&&t.tags.includes(e)?t.tags=t.tags.filter(o=>o!==e):(t.tags||(t.tags=[]),t.tags.push(e));const s={tags:t.tags};await V.updateRecipe(b.value.userId,t.id,s),z()}function te(t){g.value?window.open("https://mmhhhh.de/recipes/go?id="+t.id,"_blank","noopener"):window.open("/recipes/go?id="+t.id,"_blank","noopener")}async function ge(t){if(t.planned){const e={voting:0,planned:!1,cooked:!1,ordered:!1};await V.updateRecipe(b.value.userId,t.id,e),V.uploadRecipeToGithub(b.value.userId,null),t.voting=0,t.planned=!1,t.uploaded=!1,t.ordered=!1}else{const e={voting:t.voting?t.voting+1:1};await V.updateRecipe(b.value.userId,t.id,e),t.voting=t.voting?t.voting+1:1}await z()}async function he(t){t.planned=!0,t.voting=0;const e={voting:0,planned:!0};await V.updateRecipe(b.value.userId,t.id,e),await z(),J(null)}async function J(t){await V.uploadRecipeToGithub(b.value.userId,t?t.id:null),t&&(t.uploaded=!0,await z())}async function ye(t){t.voting=0;const e={voting:0};await V.updateRecipe(b.value.userId,t.id,e),await z()}function ke(t){const e=i.value.tags.indexOf(t);e===-1?i.value.tags.push(t):i.value.tags.splice(e,1)}async function z(t=!1){console.log("authInfo userId",b.value.userId),$.value=await j.getAllRecipes(b.value.userId),!g.value&&t&&K(),setTimeout(()=>{O()},400)}function se(t){Q.value(t).then(async e=>{e&&(t?setTimeout(()=>{const s=[t.id];K(s)},200):K())})}async function K(t){if(!g.value&&(await z(),$.value)){const e=$.value.filter(o=>!o.ingredientsInProgress&&!o.sectionsInProgress&&!o.imageInProgress).map(o=>o.id);t&&t.forEach(o=>{e.includes(o)&&(T.value[o]?T.value[o]++:T.value[o]=1)});const s=$.value.filter(o=>o.ingredientsInProgress||o.sectionsInProgress||o.imageInProgress).map(o=>o.id);s.length>0&&(await new Promise(o=>setTimeout(o,2e3)),await K(s))}}async function le(t){q.value(t).then(async e=>{e&&(await V.deleteRecipe(b.value.userId,t),await z(),V.uploadRecipeToGithub(b.value.userId,null))})}function _e(t){X.value(t)}async function pe(t){await Fe.analyzeWithNewEngine(b.value.userId,t),await z()}return(t,e)=>{const s=v("v-list-item"),o=v("v-divider"),c=v("v-btn"),k=v("v-checkbox"),f=v("v-range-slider"),_=v("v-icon"),G=v("v-rating"),E=v("v-expansion-panel-title"),S=v("v-chip"),N=v("v-chip-group"),A=v("v-expansion-panel-text"),we=v("v-expansion-panel"),Ie=v("v-expansion-panels"),be=v("v-navigation-drawer"),ae=v("v-img"),Pe=v("v-alert"),Y=v("v-progress-circular"),D=v("v-list-item-title"),Ce=v("v-list"),xe=v("v-menu"),Re=v("v-toolbar"),Te=v("v-card"),ze=v("v-col"),De=v("v-row"),Ve=v("v-fab");return l(),m("div",null,[a(be,{modelValue:w(M),"onUpdate:modelValue":e[6]||(e[6]=n=>Ae(M)?M.value=n:null),location:"right",width:"250",temporary:t.$vuetify.display.mobile},{prepend:u(()=>[a(s,{class:"mt-2","prepend-icon":"mdi-text-box-search-outline",title:"Filter"})]),default:u(()=>[a(o),r("div",He,[r("div",Oe,[a(c,{style:{width:"100%"},"min-height":"60",variant:"elevated",onClick:fe,stacked:"",elevation:"0",border:"",active:P.value,"active-color":"rgb(89, 135, 184)","prepend-icon":"mdi-heart-search"},{default:u(()=>[...e[11]||(e[11]=[p("Auswahlmodus",-1)])]),_:1},8,["active"]),r("div",Je,[P.value?(l(),y(c,{key:0,onClick:ee,variant:"plain",class:"mt-1"},{default:u(()=>[...e[12]||(e[12]=[p("Nochmal mischen",-1)])]),_:1})):d("",!0)])]),a(o,{class:"mt-3"}),P.value?d("",!0):(l(),m("div",Ye,[a(k,{modelValue:i.value.showPlanned,"onUpdate:modelValue":e[0]||(e[0]=n=>i.value.showPlanned=n),"hide-details":"auto",density:"comfortable",label:"Geplante anzeigen"},null,8,["modelValue"]),a(k,{modelValue:i.value.showTags,"onUpdate:modelValue":e[1]||(e[1]=n=>i.value.showTags=n),"hide-details":"auto",density:"comfortable",label:"Basis-Tags bearbeiten"},null,8,["modelValue"])])),P.value?d("",!0):(l(),y(o,{key:1,class:"mt-3"})),r("div",Qe,[e[13]||(e[13]=r("h4",null,[p("Dauer "),r("span",{style:{"font-size":"0.8em"}},"(Min.)")],-1)),a(f,{modelValue:i.value.duration,"onUpdate:modelValue":e[2]||(e[2]=n=>i.value.duration=n),elevation:"3",max:"120",step:"10","thumb-label":"always",class:"mt-8 px-2","hide-details":""},null,8,["modelValue"])]),!w(g)&&!P.value?(l(),m("div",Xe,[e[14]||(e[14]=r("h4",null,"Zuletzt gekocht (Wochen)",-1)),a(f,{modelValue:i.value.cookedDays,"onUpdate:modelValue":e[3]||(e[3]=n=>i.value.cookedDays=n),elevation:"3",max:"10",step:"1","thumb-label":"always",class:"mt-8 px-2","hide-details":""},null,8,["modelValue"])])):d("",!0),a(o,{class:"mt-3"}),w(g)?d("",!0):(l(),m("div",qe,[e[15]||(e[15]=r("h4",null,"Bewertung",-1)),a(G,{modelValue:i.value.rating,"onUpdate:modelValue":e[4]||(e[4]=n=>i.value.rating=n),hover:"",length:"6",size:"40","active-color":"primary",class:"py-3"},{item:u(n=>[a(_,{color:n.isFilled?n.index===0?"#92aac5":"#1e3f66":"grey-lighten-1",size:"large"},{default:u(()=>[p(C(n.isFilled&&n.index===0?"mdi-star-off":"mdi-star"),1)]),_:2},1032,["color"])]),_:1},8,["modelValue"]),a(k,{modelValue:i.value.showUnrated,"onUpdate:modelValue":e[5]||(e[5]=n=>i.value.showUnrated=n),"hide-details":"auto",density:"comfortable",label:"Unbewertete anzeigen"},null,8,["modelValue"])])),P.value?d("",!0):(l(),y(o,{key:4})),P.value?d("",!0):(l(),m("div",Le,[(l(!0),m(W,null,Z(ce.value,n=>(l(),m("div",{key:n.title},[a(Ie,{multiple:""},{default:u(()=>[a(we,{elevation:"0",modelValue:n.open,"onUpdate:modelValue":I=>n.open=I,class:"pa-0 ma-0"},{default:u(()=>[a(E,{class:"pa-0",static:""},{default:u(()=>[r("div",null,[r("h4",null,[p(C(n.title)+" ",1),n.items.some(I=>i.value.tags.includes(I.name))?(l(),m("span",en,"("+C(n.items.filter(I=>i.value.tags.includes(I.name)).length)+")",1)):d("",!0)])])]),_:2},1024),a(A,{class:"no-padding-content"},{default:u(()=>[a(N,{"selected-class":"selected-chip",column:"",multiple:""},{default:u(()=>[(l(!0),m(W,null,Z(n.items,I=>(l(),y(S,{key:I.name,text:I.icon+" "+I.name,value:I.name,variant:i.value.tags.includes(I.name)?"elevated":"tonal",onClick:h=>ke(I.name)},null,8,["text","value","variant","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]))),128))]))])]),_:1},8,["modelValue","temporary"]),U.value?(l(),y(Pe,{key:0,closable:"",style:{background:"linear-gradient(90deg, rgba(89, 135, 184, 1) 0%, rgba(191, 207, 219, 1) 100%)"},class:"mb-6"},{default:u(()=>[r("a",{target:"_blank",href:U.value.recipeId?"/recipes/go?id="+U.value.recipeId:"#",style:{"text-decoration-line":"none",color:"white"}},[U.value.recipeId?(l(),y(ae,{key:0,class:"position-relative","max-height":"100",src:L(U.value.recipeId),color:"grey",cover:""},null,8,["src"])):d("",!0),e[16]||(e[16]=r("div",{class:"mt-2"},"Heutige Mahlzeit:",-1)),e[17]||(e[17]=p()),r("h2",null,[r("i",null,C(U.value.recipeTitle),1)])],8,nn)]),_:1})):d("",!0),a(De,{class:"text-center"},{default:u(()=>[F.value.length===0?(l(),m("div",tn,[r("div",null,[a(_,{icon:"mdi-chef-hat",size:"50"})]),e[18]||(e[18]=r("div",{style:{"font-size":"1.8em"}},"Keine Rezepte gefunden!",-1))])):d("",!0),(l(!0),m(W,null,Z(F.value,(n,I)=>(l(),y(ze,{cols:"12",md:"4",sm:"6",lg:"3",xl:"2",key:n.id},{default:u(()=>[a(Te,{class:"mx-auto","max-width":"374",color:n.uploaded?null:"#ADCEE9",border:!n.uploaded},{default:u(()=>[P.value?(l(),m("div",sn,[r("b",null,"Vorschlag "+C(I+1+" / "+F.value.length),1)])):d("",!0),r("div",null,[(l(),y(ae,{class:We([{"scan-img":n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress},"position-relative"]),height:"200",src:L(n.id,n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress),key:T.value[n.id]?T.value[n.id]:0,color:"grey",cover:""},{default:u(()=>[r("div",ln,[!w(g)&&(n.rating||!n.uploaded)?(l(),m("div",an,[n.rating?(l(),m("div",on,[a(G,{modelValue:n.rating,"onUpdate:modelValue":h=>n.rating=h,hover:"",length:"5",size:"20",readonly:"",class:"mb-1"},null,8,["modelValue","onUpdate:modelValue"])])):d("",!0)])):d("",!0),n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress?(l(),m("div",dn,[n.ingredientsInProgress?(l(),m("span",un,[r("span",null,[a(Y,{indeterminate:"",color:"white"})]),e[19]||(e[19]=p()),e[20]||(e[20]=r("span",null,"Zutaten werden analysiert...",-1))])):d("",!0),n.sectionsInProgress?(l(),m("span",rn,[r("span",null,[a(Y,{indeterminate:"",color:"white"})]),e[21]||(e[21]=p()),e[22]||(e[22]=r("span",null,"Schritte werden analysiert...",-1))])):d("",!0),n.imageInProgress?(l(),m("span",cn,[r("span",null,[a(Y,{indeterminate:"",color:"white"})]),e[23]||(e[23]=p()),e[24]||(e[24]=r("span",null,"Bild wird generiert...",-1))])):d("",!0)])):d("",!0)]),n.duration||n.lastCookedDays>=0&&!w(g).value?(l(),m("div",mn,[n.lastCookedDays>=0&&!w(g).value?(l(),m("div",fn,[a(_,{icon:"mdi-bowl-mix-outline",class:"mr-1"}),r("b",null,"Vor "+C(n.lastCookedDays)+" Tagen",1)])):d("",!0),n.duration?(l(),m("div",vn,[a(_,{icon:"mdi-clock-outline",class:"mr-1"}),r("b",null,C(n.duration)+" Min.",1)])):d("",!0)])):d("",!0),r("div",gn,[!w(g)&&!n.uploaded&&!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.imageInProgress?(l(),y(c,{key:0,class:"mb-1",onClick:h=>J(n),style:{"background-color":"rgba(93,93,93,0.66)"}},{default:u(()=>[a(_,{icon:"mdi-upload-off",size:"30"})]),_:1},8,["onClick"])):d("",!0),!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.imageInProgress&&!n.sectionsUploaded?(l(),m("div",hn,[a(_,{icon:"mdi-information-slab-circle"}),e[25]||(e[25]=p()),e[26]||(e[26]=r("b",null,"Nur Zutatenliste vorhanden!",-1))])):d("",!0)]),a(Re,{color:"transparent"},{append:u(()=>[w(g)&&!n.planned&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(l(),y(c,{key:0,onClick:h=>ne(n),style:{"background-color":"rgba(93,93,93,0.66)"},class:"mr-1"},{default:u(()=>[r("div",null,[a(_,{icon:"mdi-share-variant-outline",size:"30"})])]),_:1},8,["onClick"])):d("",!0),(w(g)&&n.planned||!w(g))&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(l(),y(c,{key:1,onClick:h=>ge(n),style:{"background-color":"rgba(93,93,93,0.66)"}},{default:u(()=>[r("div",null,[n.planned?d("",!0):(l(),m("div",yn,[n.voting&&n.voting>0?(l(),m("span",kn,[r("span",_n,C(n.voting),1),e[27]||(e[27]=r("span",{class:"mr-1",style:{"font-weight":"600","font-size":"1.1em"}},"x",-1))])):d("",!0),a(_,{icon:n.voting&&n.voting>0?"mdi-thumb-up":"mdi-thumb-up-outline",size:"30"},null,8,["icon"])])),n.planned?(l(),m("div",pn,[a(_,{icon:"mdi-bowl-mix",size:"30",color:"blue"})])):d("",!0)])]),_:2},1032,["onClick"])):d("",!0),!w(g)&&(n.sectionsInProgress||n.ingredientsInProgress||n.imageInProgress)?(l(),y(c,{key:2,icon:"mdi-stop-circle-outline",color:"white",onClick:h=>le(n.id),variant:"plain"},null,8,["onClick"])):d("",!0),a(xe,null,{activator:u(({props:h})=>[!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(l(),y(c,Ze({key:0,icon:"mdi-dots-vertical",color:"white"},{ref_for:!0},h),{default:u(()=>[a(_,{icon:"mdi-dots-vertical",size:"35"})]),_:1},16)):d("",!0)]),default:u(()=>[!n.imageInProgress&&!n.sectionsInProgress?(l(),y(Ce,{key:0},{default:u(()=>[!w(g)&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress&&!n.planned?(l(),y(s,{key:0,onClick:h=>he(n)},{default:u(()=>[a(D,null,{default:u(()=>[...e[28]||(e[28]=[p("Einplanen",-1)])]),_:1})]),_:1},8,["onClick"])):d("",!0),!w(g)&&n.voting&&n.voting>0?(l(),y(s,{key:1,onClick:h=>ye(n)},{default:u(()=>[a(D,null,{default:u(()=>[...e[29]||(e[29]=[p("Likes lÃ¶schen",-1)])]),_:1})]),_:1},8,["onClick"])):d("",!0),n.sectionsUploaded?(l(),y(s,{key:2,onClick:h=>te(n)},{default:u(()=>[a(D,null,{default:u(()=>[...e[30]||(e[30]=[p("Zubereiten",-1)])]),_:1})]),_:1},8,["onClick"])):d("",!0),a(s,{onClick:h=>_e(n.id)},{default:u(()=>[a(D,null,{default:u(()=>[...e[31]||(e[31]=[p("Zutaten einkaufen",-1)])]),_:1})]),_:1},8,["onClick"]),a(o),w(g)?d("",!0):(l(),y(s,{key:3,onClick:h=>se(n)},{default:u(()=>[a(D,null,{default:u(()=>[...e[32]||(e[32]=[p("Bild Ã¤ndern",-1)])]),_:1})]),_:1},8,["onClick"])),!w(g)&&n.engine!=="gpt-5"?(l(),y(s,{key:4,onClick:h=>pe(n.id)},{default:u(()=>[a(D,null,{default:u(()=>[...e[33]||(e[33]=[p("Analyse verbessern",-1)])]),_:1})]),_:1},8,["onClick"])):d("",!0),a(s,{onClick:h=>J(n)},{default:u(()=>[a(D,null,{default:u(()=>[...e[34]||(e[34]=[p("Github-Upload",-1)])]),_:1})]),_:1},8,["onClick"]),w(g)?d("",!0):(l(),y(s,{key:5,onClick:h=>ne(n)},{default:u(()=>[a(D,null,{default:u(()=>[...e[35]||(e[35]=[p("Link teilen...",-1)])]),_:1})]),_:1},8,["onClick"])),w(g)?d("",!0):(l(),y(s,{key:6,onClick:h=>le(n.id)},{default:u(()=>[a(D,null,{default:u(()=>[...e[36]||(e[36]=[p("LÃ¶schen",-1)])]),_:1})]),_:1},8,["onClick"]))]),_:2},1024)):d("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","src"]))]),n.title&&(n.ingredientsInProgress||n.sectionsInProgress)?(l(),m("div",wn,[r("span",In,C(n.title),1)])):d("",!0),n.title&&!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.sectionsUploaded?(l(),m("div",bn,[r("span",Pn,C(n.title),1)])):d("",!0),!n.ingredientsInProgress&&!n.sectionsInProgress&&n.sectionsUploaded?(l(),m("div",Cn,[r("a",{target:"_blank",style:{"text-decoration-line":"none",color:"#000000","font-size":"1.2em",cursor:"pointer"},class:"text-medium-emphasis",onClick:h=>te(n)},C(n.title),9,xn)])):d("",!0),(i.value.showTags||!n.uploaded||!n.tags||n.tags.length===0)&&!n.ingredientsInProgress&&!n.sectionsInProgress&&!n.imageInProgress?(l(),m("div",Rn,[(l(!0),m(W,null,Z(me.value,h=>(l(),m("span",{key:h},[a(S,{class:"ml-1 mt-1",color:n.tags&&n.tags.includes(h)?"#183240":"#9f9f9f",onClick:Dn=>ve(n,h)},{default:u(()=>[p(C(h),1)]),_:2},1032,["color","onClick"])]))),128))])):d("",!0)]),_:2},1032,["color","border"])]),_:2},1024))),128))]),_:1}),e[37]||(e[37]=r("div",{style:{height:"70px"}},null,-1)),w(g)?d("",!0):(l(),y(Ve,{color:"rgb(89, 135, 184)",key:"test","prepend-icon":"mdi-cookie-plus-outline",app:!0,location:"right bottom",text:"Rezept hinzufÃ¼gen",extended:"",size:"large",onClick:e[7]||(e[7]=n=>se(null))})),a(je,{onResult:e[8]||(e[8]=n=>Q.value=n)}),a($e,{onResult:e[9]||(e[9]=n=>X.value=n)}),a(Ue,{onResult:e[10]||(e[10]=n=>q.value=n),title:"Bitte bestÃ¤tigen",message:"Soll das Rezept wirklich gelÃ¶scht werden?"})])}}},zn=Se(Tn,[["__scopeId","data-v-9e857bba"]]),Fn={__name:"index",setup(de){return ie(async()=>{}),(j,H)=>(l(),y(zn))}};export{Fn as default};
