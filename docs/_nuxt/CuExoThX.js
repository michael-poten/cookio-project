import{C as Ue,R as U,I as Se}from"./BHsCZCym.js";import{_ as Fe,M as Ee,K as Ge,N as re,O as Me,J as Be,P as Ke,r as D,o as Ne,Z as Ae,$ as ce,g as h,x as m,y as s,B as o,Q as p,R as u,z as c,C as d,U as g,D as w,A as T,S as K,T as N,a2 as Oe,a3 as He,V as Le}from"./CbHVuqT-.js";import{I as We}from"./DXw2pR4a.js";import{R as Ze}from"./C0MNv2Lh.js";import{G as je}from"./CI608YEO.js";const Je={class:"pa-4"},Qe={key:0},Ye={class:"mt-2"},qe={key:2,class:"mt-2"},Xe={key:3,class:"mt-2"},et={key:5,class:"mt-2"},tt={key:0},nt={key:0},st=["href"],lt={key:1},ot=["href"],at={style:{"background-color":"rgb(166, 190, 226)","font-size":"0.7em"},class:"pl-1"},it={key:1},dt={key:0,class:"text-center mt-8 text-high-emphasis",style:{width:"100%"}},ut={key:0,class:"mt-2 mb-1",style:{"font-size":"1.2em"}},rt={class:"overlay-top-left"},ct={key:0},mt={key:0,class:"px-1 pb-1",style:{"background-color":"rgba(93,93,93,0.66)"}},ft={key:1},vt={key:0},gt={key:1},ht={key:2},pt={key:0,class:"overlay-bottom-right"},yt={key:0,style:{"background-color":"rgba(93,93,93,0.66)"},class:"px-1"},kt={key:1,style:{"background-color":"rgba(93,93,93,0.66)"},class:"px-1 mt-1"},_t={class:"overlay-bottom-left pa-1"},wt={key:1,style:{"background-color":"rgba(93,93,93,0.66)","font-size":"0.8em"},class:"pa-1"},It={key:0},bt={key:0},Pt={class:"mr-0",style:{"font-weight":"600","font-size":"1.6em"}},xt={key:1},Rt={key:1,class:"ma-2"},Tt={style:{"font-size":"1.2em"},class:"text-medium-emphasis"},Ct={key:2,class:"ma-2"},zt={style:{"font-size":"1.2em"},class:"text-medium-emphasis"},Dt={key:3,class:"ma-2"},Vt=["onClick"],$t={key:4,class:"ma-2"},Ut={__name:"RecipeOverview",setup(St){const q=Ee(),X=Ge(),{recipes:V}=re(q),{authInfo:R,githubMode:y,lanAddress:me,showFilter:W,shuffleMode:P}=re(X);Me(),Be(),Ke();const C=D({}),ee=D(null),te=D(null),ne=D(null),A=D([]),G=D([]),fe=D([{title:"Mahlzeiten",open:!1,items:[{name:"Fr√ºhst√ºck",selected:!1,icon:"üç≥"},{name:"Vorspeise",selected:!1,icon:"ü•ó"},{name:"Hauptmahlzeit",selected:!1,icon:"üçΩÔ∏è"},{name:"Dessert",selected:!1,icon:"üç®"},{name:"Kuchen",selected:!1,icon:"üç∞"},{name:"Geb√§ck",selected:!1,icon:"ü•ê"},{name:"Snack",selected:!1,icon:"üçø"},{name:"Grill",selected:!1,icon:"üî•"},{name:"Weihnachten",selected:!1,icon:"üéÑ"}]},{title:"Zutaten",open:!1,items:[{name:"Kartoffeln",selected:!1,icon:"ü•î"},{name:"Reis",selected:!1,icon:"üçö"},{name:"Pasta",selected:!1,icon:"üçù"},{name:"Risotto",selected:!1,icon:"üçö"},{name:"Pilze",selected:!1,icon:"üçÑ"},{name:"K√ºrbis",selected:!1,icon:"üéÉ"},{name:"Gnocchi",selected:!1,icon:"ü•î"},{name:"Sp√§tzle",selected:!1,icon:"üçù"},{name:"Halloumi",selected:!1,icon:"üßÄ"},{name:"Tortellini",selected:!1,icon:"üç•"},{name:"Pesto",selected:!1,icon:"üåø"},{name:"K√§se",selected:!1,icon:"üßÄ"}]},{title:"Zubereitungsart",open:!1,items:[{name:"Pizza",selected:!1,icon:"üçï"},{name:"Auflauf",selected:!1,icon:"ü•ò"},{name:"Eintopf",selected:!1,icon:"üç≤"},{name:"Suppe",selected:!1,icon:"ü•£"},{name:"Salat",selected:!1,icon:"ü•ó"},{name:"Bowl",selected:!1,icon:"ü•ô"},{name:"Curry",selected:!1,icon:"üçõ"},{name:"Fast-Food",selected:!1,icon:"üçî"},{name:"Gourmet",selected:!1,icon:"üë®‚Äçüç≥"},{name:"Wrap",selected:!1,icon:"ü•ô"},{name:"Sandwich",selected:!1,icon:"ü•™"},{name:"Burger",selected:!1,icon:"üçî"},{name:"Thermomix",selected:!1,icon:"‚öôÔ∏è"},{name:"Flammkuchen",selected:!1,icon:"üçï"}]},{title:"Fleischtyp",open:!1,items:[{name:"vegetarisch",selected:!1,icon:"ü•¶"},{name:"vegan",selected:!1,icon:"üå±"},{name:"Tofu",selected:!1,icon:"üßà"},{name:"Soja",selected:!1,icon:"ü´ò"},{name:"Fisch",selected:!1,icon:"üêü"},{name:"Fleisch",selected:!1,icon:"ü•©"},{name:"H√§hnchenfleisch",selected:!1,icon:"üçó"},{name:"Rindfleisch",selected:!1,icon:"ü•©"},{name:"Schweinefleisch",selected:!1,icon:"üçñ"}]},{title:"L√§nderk√ºche",open:!1,items:[{name:"italienisch",selected:!1,icon:"üáÆüáπ"},{name:"mediterran",selected:!1,icon:"üåø"},{name:"mexikanisch",selected:!1,icon:"üåÆ"},{name:"amerikanisch",selected:!1,icon:"üçü"},{name:"franz√∂sisch",selected:!1,icon:"ü•ñ"},{name:"afrikanisch",selected:!1,icon:"ü™ò"},{name:"arabisch",selected:!1,icon:"üßÜ"},{name:"deutsch",selected:!1,icon:"ü•®"},{name:"griechisch",selected:!1,icon:"ü•ô"},{name:"asiatisch",selected:!1,icon:"üçú"},{name:"japanisch",selected:!1,icon:"üç£"},{name:"koreanisch",selected:!1,icon:"üç±"},{name:"spanisch",selected:!1,icon:"ü•ò"},{name:"russisch",selected:!1,icon:"ü•ü"},{name:"thail√§ndisch",selected:!1,icon:"üç≤"},{name:"t√ºrkisch",selected:!1,icon:"üç¢"},{name:"vietnamesisch",selected:!1,icon:"üçú"},{name:"indisch",selected:!1,icon:"üçõ"}]},{title:"Jahreszeiten",open:!1,items:[{name:"Winter",selected:!1,icon:"‚ùÑÔ∏è"},{name:"Fr√ºhling",selected:!1,icon:"üå∏"},{name:"Sommer",selected:!1,icon:"üåû"},{name:"Herbst",selected:!1,icon:"üçÇ"}]}]),a=D({duration:[0,120],rating:1,cookedDays:[0,10],tags:[],showPlanned:!0,showTags:!1,showUnrated:!0}),ve=D(["Fleisch","Fisch","Reis","Gef√ºllte Nudeln","Pasta","Gnocchi","Getreideprodukte","Tofu","Kartoffeln","Teigware"]),b=D(null);Ne(async()=>{await $(!0),a.value.showPlanned=y.value,await Z(),window.addEventListener("focus",Z)}),Ae(()=>{window.removeEventListener("focus",Z)}),ce(a,n=>{setTimeout(()=>{a.value.searchText===n.searchText&&O()},400)},{deep:!0}),ce(P,n=>{n?setTimeout(()=>{se(!0)},400):se(!1)});async function Z(){console.log("refreshTodayRecipe");let n=await X.getAuthInfo();const e=new Date,l=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),f=String(e.getDate()).padStart(2,"0");let v=n.calendarPlan;v||(v={});let r=[];if(v[`${l}-${i}-${f}`]){if(v[`${l}-${i}-${f}`].type==="RECIPE"&&!v[`${l}-${i}-${f}`].recipeId){const k=[],M=new Date;for(const I of Object.keys(v))if(v[I]&&v[I].recipeId){const S=V.value.find(B=>B.id===v[I].recipeId);S.planned&&!S.cooked&&new Date(I).getTime()>=M.getTime()&&(k.push(v[I].recipeId),console.log("recipeTitle",v[I].recipeTitle))}r=V.value.filter(I=>I.planned&&!I.cooked&&I.ordered&&!k.includes(I.id))}if(r.length===1)b.value={recipeTitle:r[0].title,recipeId:r[0].id,recipes:[]};else{let k=v[`${l}-${i}-${f}`].recipeTitle;!k&&(!r||r.length===0)&&(v[`${l}-${i}-${f}`].type==="OTHER"?k="Sonstige Mahlzeit":v[`${l}-${i}-${f}`].type==="SCHEDULED"&&(k="Ausw√§rts / Lieferung")),b.value={recipeTitle:k,recipeId:v[`${l}-${i}-${f}`].recipeId,recipes:r}}}}function j(n,e){return e?"/images/analyzing.png":y.value?"https://mmhhhh.de/data/home/recipes/"+n+"/image.jpg?t="+(C.value[n]?C.value[n]:0):me.value+"api/"+R.value.userId+"/recipes/"+n+"/image?t="+(C.value[n]?C.value[n]:0)}function O(){if(!V.value)return G.value=[],[];let n=[];return P.value?n=A.value:n=V.value,n=n.filter(e=>{if(!a.value.showPlanned&&e.planned&&!e.imageInProgress&&!e.sectionsInProgress&&!e.ingredientsInProgress||e.originalId||e.isNew||a.value.searchText&&e.title.toLowerCase().indexOf(a.value.searchText.toLowerCase())===-1&&e.titleLong.toLowerCase().indexOf(a.value.searchText.toLowerCase())===-1||!e.duration&&a.value.duration[0]>0||e.duration<a.value.duration[0]||e.duration>a.value.duration[1])return!1;if(a.value.cookedDays){const l=[a.value.cookedDays[0]*7,a.value.cookedDays[1]===10?5e4:a.value.cookedDays[1]*7];if((e.lastCookedDays===void 0||e.lastCookedDays===null)&&l[1]<5e4||e.lastCookedDays!==void 0&&e.lastCookedDays!==null&&(e.lastCookedDays<l[0]||e.lastCookedDays>l[1]))return!1}if(y.value&&!e.uploaded)return!1;if(a.value.rating>0||!a.value.showUnrated){if(!a.value.showUnrated&&!e.rating)return!1;const l=a.value.rating-1,i=e.rating;if(i&&i<l)return!1}return!(a.value.tags.length>0&&(!e.tags||!a.value.tags.every(l=>e.tags.includes(l))))}),P.value?(G.value=n,n):(n=n.sort((e,l)=>{const i=!!e.ingredientsInProgress||!!e.sectionsInProgress||!!e.imageInProgress,f=!!l.ingredientsInProgress||!!l.sectionsInProgress||!!l.imageInProgress;if(i-f!==0)return i-f;const v=e.planned!==null&&e.planned!==void 0?e.planned:!1,r=l.planned!==null&&l.planned!==void 0?l.planned:!1;if(v-r!==0)return v-r;const k=e.uploaded?e.uploaded:!1,M=l.uploaded?l.uploaded:!1;if(M-k!==0)return M-k;const I=e.rating,S=l.rating,B=typeof I=="number"&&I!==null,L=typeof S=="number"&&S!==null;return!B&&!L?0:B?L?S-I:1:-1}).reverse(),G.value=n,n)}function se(n){n?(a.value.showPlanned=!1,a.value.showTags=!1,a.value.showUnrated=!0,a.value.cookedDays=[0,10],a.value.tags=[],P.value=!0,le()):(a.value.showPlanned=!1,a.value.showUnrated=!0,a.value.cookedDays=[0,10],a.value.showTags=!1,a.value.tags=[],P.value=!1)}function le(){let n=[];V.value.forEach(f=>n.push(f));for(let f=n.length-1;f>0;f--){const v=Math.floor(Math.random()*(f+1));[n[f],n[v]]=[n[v],n[f]]}A.value=n;const e=[],l=[];z([],["Fleisch"],e,l,3),z([],["Fisch"],e,l,2),z(["Fleisch","Tofu"],["Pasta"],e,l,3),z(["Fleisch","Tofu"],["Gef√ºllte Nudeln"],e,l,2),z(["Fleisch","Tofu"],["Reis"],e,l,3),z(["Fleisch","Tofu"],["Gnocchi"],e,l,2),z(["Fleisch","Tofu"],["Getreideprodukte"],e,l,2),z(["Fleisch","Tofu"],["Kartoffeln"],e,l,2),z(["Fleisch","Tofu"],["Teigware"],e,l,2),z(["Fleisch"],["Tofu"],e,l,3),z(["Fleisch","Pasta"],["Tofu"],e,l,1);let i=[];l.forEach(f=>i.push(f));for(let f=i.length-1;f>0;f--){const v=Math.floor(Math.random()*(f+1));[i[f],i[v]]=[i[v],i[f]]}A.value=i.slice(0,14),O(),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},300)}async function oe(n){if(await navigator.clipboard.writeText("https://mmhhhh.de/recipes/go?id="+n.id),navigator.share)try{await navigator.share({title:n.title,text:n.title,url:"https://mmhhhh.de/recipes/go?id="+n.id})}catch(e){console.error("Teilen abgebrochen",e)}}function z(n,e,l,i,f){let v=A.value.filter(r=>!l.includes(r.id)).filter(r=>!r.planned).filter(r=>!r.voting||r.voting===0).filter(r=>{const k=[21,5e4];return!((r.lastCookedDays===void 0||r.lastCookedDays===null)&&k[1]<5e4||r.lastCookedDays!==void 0&&r.lastCookedDays!==null&&(r.lastCookedDays<k[0]||r.lastCookedDays>k[1]))}).filter(r=>n?n.every(k=>!(r.tags?r.tags:[]).includes(k)):!0).filter(r=>e?e.every(k=>(r.tags?r.tags:[]).includes(k)):!0).slice(0,f);v.forEach(r=>l.push(r.id)),v.forEach(r=>i.push(r))}async function ge(n,e){n.tags&&n.tags.includes(e)?n.tags=n.tags.filter(i=>i!==e):(n.tags||(n.tags=[]),n.tags.push(e));const l={tags:n.tags};await U.updateRecipe(R.value.userId,n.id,l),$()}function he(n){y.value?window.open("https://mmhhhh.de/recipes/go?id="+n.id,"_blank","noopener"):window.open("/recipes/go?id="+n.id,"_blank","noopener")}async function pe(n){if(n.planned){const e={voting:0,planned:!1,cooked:!1,ordered:!1};await U.updateRecipe(R.value.userId,n.id,e),U.uploadRecipeToGithub(R.value.userId,null),n.voting=0,n.planned=!1,n.uploaded=!1,n.ordered=!1}else{const e={voting:n.voting?n.voting+1:1};await U.updateRecipe(R.value.userId,n.id,e),n.voting=n.voting?n.voting+1:1}await $()}async function ye(n){n.planned=!0,n.voting=0,await U.planRecipe(R.value.userId,n.id),await $()}async function ke(n){await U.uploadRecipeToGithub(R.value.userId,n?n.id:null),n&&(n.uploaded=!0,await $())}async function _e(n){n.voting=0;const e={voting:0};await U.updateRecipe(R.value.userId,n.id,e),await $()}function we(n){const e=a.value.tags.indexOf(n);e===-1?a.value.tags.push(n):a.value.tags.splice(e,1)}async function $(n=!1){console.log("authInfo userId",R.value.userId),V.value=await q.getAllRecipes(R.value.userId),!y.value&&n&&H(),setTimeout(()=>{O()},400)}function ae(n){ee.value(n).then(async e=>{e&&(n?setTimeout(()=>{const l=[n.id];H(l)},200):H())})}async function H(n){if(!y.value&&(await $(),V.value)){const e=V.value.filter(i=>!i.ingredientsInProgress&&!i.sectionsInProgress&&!i.imageInProgress).map(i=>i.id);n&&n.forEach(i=>{e.includes(i)&&(C.value[i]?C.value[i]++:C.value[i]=1)});const l=V.value.filter(i=>i.ingredientsInProgress||i.sectionsInProgress||i.imageInProgress).map(i=>i.id);l.length>0&&(await new Promise(i=>setTimeout(i,2e3)),await H(l))}}async function ie(n){ne.value(n).then(async e=>{e&&(await U.deleteRecipe(R.value.userId,n),await $(),U.uploadRecipeToGithub(R.value.userId,null))})}function Ie(n){te.value(n)}async function be(n){await Se.analyzeWithNewEngine(R.value.userId,n),await $()}return(n,e)=>{const l=h("v-list-item"),i=h("v-divider"),f=h("v-checkbox"),v=h("v-range-slider"),r=h("v-icon"),k=h("v-rating"),M=h("v-expansion-panel-title"),I=h("v-chip"),S=h("v-chip-group"),B=h("v-expansion-panel-text"),L=h("v-expansion-panel"),Pe=h("v-expansion-panels"),xe=h("v-navigation-drawer"),J=h("v-img"),de=h("v-card"),Q=h("v-col"),ue=h("v-row"),Re=h("v-alert"),Te=h("v-text-field"),Y=h("v-progress-circular"),F=h("v-btn"),E=h("v-list-item-title"),Ce=h("v-list"),ze=h("v-menu"),De=h("v-toolbar"),Ve=h("v-speed-dial"),$e=h("v-fab");return s(),m("div",null,[o(xe,{modelValue:g(W),"onUpdate:modelValue":e[6]||(e[6]=t=>Oe(W)?W.value=t:null),location:"right",width:"250"},{prepend:d(()=>[o(l,{class:"mt-2","prepend-icon":"mdi-text-box-search-outline",title:"Filter"})]),default:d(()=>[c("div",Je,[o(i),g(P)?u("",!0):(s(),m("div",Qe,[o(f,{modelValue:a.value.showPlanned,"onUpdate:modelValue":e[0]||(e[0]=t=>a.value.showPlanned=t),"hide-details":"auto",density:"comfortable",label:"Geplante anzeigen"},null,8,["modelValue"]),o(f,{modelValue:a.value.showTags,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.showTags=t),"hide-details":"auto",density:"comfortable",label:"Basis-Tags bearbeiten"},null,8,["modelValue"])])),g(P)?u("",!0):(s(),p(i,{key:1})),c("div",Ye,[e[13]||(e[13]=c("h4",null,[w("Dauer "),c("span",{style:{"font-size":"0.8em"}},"(Min.)")],-1)),o(v,{modelValue:a.value.duration,"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.duration=t),elevation:"3",max:"120",step:"10","thumb-label":"always",class:"mt-8 px-2","hide-details":""},null,8,["modelValue"])]),!g(y)&&!g(P)?(s(),m("div",qe,[e[14]||(e[14]=c("h4",null,"Zuletzt gekocht (Wochen)",-1)),o(v,{modelValue:a.value.cookedDays,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.cookedDays=t),elevation:"3",max:"10",step:"1","thumb-label":"always",class:"mt-8 px-2","hide-details":""},null,8,["modelValue"])])):u("",!0),o(i,{class:"mt-3"}),g(y)?u("",!0):(s(),m("div",Xe,[e[15]||(e[15]=c("h4",null,"Bewertung",-1)),o(k,{modelValue:a.value.rating,"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.rating=t),hover:"",length:"6",size:"40","active-color":"primary",class:"py-3"},{item:d(t=>[o(r,{color:t.isFilled?t.index===0?"#92aac5":"#1e3f66":"grey-lighten-1",size:"large"},{default:d(()=>[w(T(t.isFilled&&t.index===0?"mdi-star-off":"mdi-star"),1)]),_:2},1032,["color"])]),_:1},8,["modelValue"]),o(f,{modelValue:a.value.showUnrated,"onUpdate:modelValue":e[5]||(e[5]=t=>a.value.showUnrated=t),"hide-details":"auto",density:"comfortable",label:"Unbewertete anzeigen"},null,8,["modelValue"])])),g(P)?u("",!0):(s(),p(i,{key:4})),g(P)?u("",!0):(s(),m("div",et,[(s(!0),m(K,null,N(fe.value,t=>(s(),m("div",{key:t.title},[o(Pe,{multiple:""},{default:d(()=>[o(L,{elevation:"0",modelValue:t.open,"onUpdate:modelValue":x=>t.open=x,class:"pa-0 ma-0"},{default:d(()=>[o(M,{class:"pa-0",static:""},{default:d(()=>[c("div",null,[c("h4",null,[w(T(t.title)+" ",1),t.items.some(x=>a.value.tags.includes(x.name))?(s(),m("span",tt,"("+T(t.items.filter(x=>a.value.tags.includes(x.name)).length)+")",1)):u("",!0)])])]),_:2},1024),o(B,{class:"no-padding-content"},{default:d(()=>[o(S,{"selected-class":"selected-chip",column:"",multiple:""},{default:d(()=>[(s(!0),m(K,null,N(t.items,x=>(s(),p(I,{key:x.name,text:x.icon+" "+x.name,value:x.name,variant:a.value.tags.includes(x.name)?"elevated":"tonal",onClick:_=>we(x.name)},null,8,["text","value","variant","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]))),128))]))])]),_:1},8,["modelValue"]),b.value&&(b.value.recipes&&b.value.recipes.length>0||b.value.recipeTitle)&&!g(P)?(s(),p(Re,{key:0,closable:"",style:{background:"linear-gradient(90deg, rgba(89, 135, 184, 1) 0%, rgba(191, 207, 219, 1) 100%)"},class:"mb-6"},{default:d(()=>[!b.value.recipes||b.value.recipes.length===0?(s(),m("div",nt,[c("a",{target:"_blank",href:b.value.recipeId?"/recipes/go?id="+b.value.recipeId:"#",style:{"text-decoration-line":"none",color:"white"}},[b.value.recipeId?(s(),p(J,{key:0,class:"position-relative","max-height":"100",src:j(b.value.recipeId),color:"grey",cover:""},null,8,["src"])):u("",!0),e[16]||(e[16]=c("div",{class:"mt-2"},"Heutige Mahlzeit:",-1)),e[17]||(e[17]=w()),c("h2",null,[c("i",null,T(b.value.recipeTitle),1)])],8,st)])):u("",!0),b.value.recipes&&b.value.recipes.length>0?(s(),m("div",lt,[e[18]||(e[18]=c("h2",{class:"mt-2",style:{color:"white"}},[c("i",null,"Heutige Auswahl an Mahlzeiten:")],-1)),o(ue,{align:"center"},{default:d(()=>[(s(!0),m(K,null,N(b.value.recipes,t=>(s(),p(Q,{key:t.id,cols:"6"},{default:d(()=>[c("a",{target:"_blank",href:t&&t.sectionsUploaded?"/recipes/go?id="+t.id:"#",style:{"text-decoration-line":"none",color:"white"}},[o(de,null,{default:d(()=>[(s(),p(J,{class:"position-relative",height:"150",src:j(t.id),key:C.value[t.id]?C.value[t.id]:0,cover:""},null,8,["src"])),c("div",at,T(t.title||"Ohne Titel"),1)]),_:2},1024)],8,ot)]),_:2},1024))),128))]),_:1})])):u("",!0)]),_:1})):u("",!0),g(P)?u("",!0):(s(),m("div",it,[o(Te,{modelValue:a.value.searchText,"onUpdate:modelValue":e[7]||(e[7]=t=>a.value.searchText=t),label:"Suche",variant:"solo-filled",onKeyup:e[8]||(e[8]=t=>g(je).debounceTime("searchTextUpdated",O,300)),clearable:""},null,8,["modelValue"])])),o(ue,{class:"text-center"},{default:d(()=>[G.value.length===0?(s(),m("div",dt,[c("div",null,[o(r,{icon:"mdi-chef-hat",size:"50"})]),e[19]||(e[19]=c("div",{style:{"font-size":"1.8em"}},"Keine Rezepte gefunden!",-1))])):u("",!0),(s(!0),m(K,null,N(G.value,(t,x)=>(s(),p(Q,{cols:"12",md:"4",sm:"6",lg:"3",xl:"2",key:t.id},{default:d(()=>[o(de,{class:"mx-auto","max-width":"374",color:t.uploaded?null:"#ADCEE9",border:!t.uploaded},{default:d(()=>[g(P)?(s(),m("div",ut,[c("b",null,"Rezept "+T(x+1+" / "+G.value.length),1)])):u("",!0),c("div",null,[(s(),p(J,{class:He([{"scan-img":t.ingredientsInProgress||t.sectionsInProgress||t.imageInProgress},"position-relative"]),height:"200",src:j(t.id,t.ingredientsInProgress||t.sectionsInProgress||t.imageInProgress),key:C.value[t.id]?C.value[t.id]:0,color:"grey",cover:""},{default:d(()=>[c("div",rt,[!g(y)&&(t.rating||!t.uploaded)?(s(),m("div",ct,[t.rating?(s(),m("div",mt,[o(k,{modelValue:t.rating,"onUpdate:modelValue":_=>t.rating=_,hover:"",length:"5",size:"20",readonly:"",class:"mb-1"},null,8,["modelValue","onUpdate:modelValue"])])):u("",!0)])):u("",!0),t.ingredientsInProgress||t.sectionsInProgress||t.imageInProgress?(s(),m("div",ft,[t.ingredientsInProgress?(s(),m("span",vt,[c("span",null,[o(Y,{indeterminate:"",color:"white"})]),e[20]||(e[20]=w()),e[21]||(e[21]=c("span",null,"Zutaten werden analysiert...",-1))])):u("",!0),t.sectionsInProgress?(s(),m("span",gt,[c("span",null,[o(Y,{indeterminate:"",color:"white"})]),e[22]||(e[22]=w()),e[23]||(e[23]=c("span",null,"Schritte werden analysiert...",-1))])):u("",!0),t.imageInProgress?(s(),m("span",ht,[c("span",null,[o(Y,{indeterminate:"",color:"white"})]),e[24]||(e[24]=w()),e[25]||(e[25]=c("span",null,"Bild wird generiert...",-1))])):u("",!0)])):u("",!0)]),t.duration||t.lastCookedDays>=0&&!g(y).value?(s(),m("div",pt,[t.lastCookedDays>=0&&!g(y).value?(s(),m("div",yt,[o(r,{icon:"mdi-bowl-mix-outline",class:"mr-1"}),c("b",null,"Vor "+T(t.lastCookedDays)+" Tagen",1)])):u("",!0),t.duration?(s(),m("div",kt,[o(r,{icon:"mdi-clock-outline",class:"mr-1"}),c("b",null,T(t.duration)+" Min.",1)])):u("",!0)])):u("",!0),c("div",_t,[!g(y)&&!t.uploaded&&!t.ingredientsInProgress&&!t.sectionsInProgress&&!t.imageInProgress?(s(),p(F,{key:0,class:"mb-1",onClick:_=>ke(t),style:{"background-color":"rgba(93,93,93,0.66)"}},{default:d(()=>[o(r,{icon:"mdi-upload-off",size:"30"})]),_:1},8,["onClick"])):u("",!0),!t.ingredientsInProgress&&!t.sectionsInProgress&&!t.imageInProgress&&!t.sectionsUploaded?(s(),m("div",wt,[o(r,{icon:"mdi-information-slab-circle"}),e[26]||(e[26]=w()),e[27]||(e[27]=c("b",null,"Nur Zutatenliste vorhanden!",-1))])):u("",!0)]),o(De,{color:"transparent"},{append:d(()=>[g(y)&&!t.planned&&!t.imageInProgress&&!t.sectionsInProgress&&!t.ingredientsInProgress?(s(),p(F,{key:0,onClick:_=>oe(t),style:{"background-color":"rgba(93,93,93,0.66)"},class:"mr-1"},{default:d(()=>[c("div",null,[o(r,{icon:"mdi-share-variant-outline",size:"30"})])]),_:1},8,["onClick"])):u("",!0),(g(y)&&t.planned||!g(y))&&!t.imageInProgress&&!t.sectionsInProgress&&!t.ingredientsInProgress?(s(),p(F,{key:1,onClick:_=>pe(t),style:{"background-color":"rgba(93,93,93,0.66)"}},{default:d(()=>[c("div",null,[t.planned?u("",!0):(s(),m("div",It,[t.voting&&t.voting>0?(s(),m("span",bt,[c("span",Pt,T(t.voting),1),e[28]||(e[28]=c("span",{class:"mr-1",style:{"font-weight":"600","font-size":"1.1em"}},"x",-1))])):u("",!0),o(r,{icon:t.voting&&t.voting>0?"mdi-thumb-up":"mdi-thumb-up-outline",size:"30"},null,8,["icon"])])),t.planned?(s(),m("div",xt,[o(r,{icon:"mdi-bowl-mix",size:"30",color:"blue"})])):u("",!0)])]),_:2},1032,["onClick"])):u("",!0),!g(y)&&(t.sectionsInProgress||t.ingredientsInProgress||t.imageInProgress)?(s(),p(F,{key:2,icon:"mdi-stop-circle-outline",color:"white",onClick:_=>ie(t.id),variant:"plain"},null,8,["onClick"])):u("",!0),o(ze,null,{activator:d(({props:_})=>[!t.imageInProgress&&!t.sectionsInProgress&&!t.ingredientsInProgress?(s(),p(F,Le({key:0,icon:"mdi-dots-vertical",color:"white"},{ref_for:!0},_),{default:d(()=>[o(r,{icon:"mdi-dots-vertical",size:"35"})]),_:1},16)):u("",!0)]),default:d(()=>[!t.imageInProgress&&!t.sectionsInProgress?(s(),p(Ce,{key:0},{default:d(()=>[!g(y)&&!t.imageInProgress&&!t.sectionsInProgress&&!t.ingredientsInProgress&&!t.planned?(s(),p(l,{key:0,onClick:_=>ye(t),"prepend-icon":"mdi-plus-thick"},{default:d(()=>[o(E,null,{default:d(()=>[...e[29]||(e[29]=[w("Einplanen",-1)])]),_:1})]),_:1},8,["onClick"])):u("",!0),!g(y)&&t.voting&&t.voting>0?(s(),p(l,{key:1,onClick:_=>_e(t),"prepend-icon":"mdi-thumbs-up-down"},{default:d(()=>[o(E,null,{default:d(()=>[...e[30]||(e[30]=[w("Likes l√∂schen",-1)])]),_:1})]),_:1},8,["onClick"])):u("",!0),t.sectionsUploaded?u("",!0):(s(),p(l,{key:2,onClick:_=>Ie(t.id),"prepend-icon":"mdi-cart"},{default:d(()=>[o(E,null,{default:d(()=>[...e[31]||(e[31]=[w("Zutaten einkaufen",-1)])]),_:1})]),_:1},8,["onClick"])),o(i),!t.imageInProgress&&!t.sectionsInProgress?(s(),p(l,{key:3,to:"/recipes/edit?id="+t.id,"prepend-icon":"mdi-pencil"},{default:d(()=>[o(E,null,{default:d(()=>[...e[32]||(e[32]=[w("Bearbeiten",-1)])]),_:1})]),_:1},8,["to"])):u("",!0),!g(y)&&!t.sectionsUploaded?(s(),p(l,{key:4,onClick:_=>ae(t),"prepend-icon":"mdi-image-plus"},{default:d(()=>[o(E,null,{default:d(()=>[...e[33]||(e[33]=[w("Rezeptschritte hinzuf√ºgen",-1)])]),_:1})]),_:1},8,["onClick"])):u("",!0),!g(y)&&t.engine!=="gpt-5"?(s(),p(l,{key:5,onClick:_=>be(t.id),"prepend-icon":"mdi-auto-fix"},{default:d(()=>[o(E,null,{default:d(()=>[...e[34]||(e[34]=[w("Analyse verbessern",-1)])]),_:1})]),_:1},8,["onClick"])):u("",!0),g(y)?u("",!0):(s(),p(l,{key:6,onClick:_=>oe(t),"prepend-icon":"mdi-share"},{default:d(()=>[o(E,null,{default:d(()=>[...e[35]||(e[35]=[w("Link teilen...",-1)])]),_:1})]),_:1},8,["onClick"])),g(y)?u("",!0):(s(),p(l,{key:7,onClick:_=>ie(t.id),"prepend-icon":"mdi-delete"},{default:d(()=>[o(E,null,{default:d(()=>[...e[36]||(e[36]=[w("L√∂schen",-1)])]),_:1})]),_:1},8,["onClick"]))]),_:2},1024)):u("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","src"]))]),t.title&&(t.ingredientsInProgress||t.sectionsInProgress)?(s(),m("div",Rt,[c("span",Tt,T(t.title),1)])):u("",!0),t.title&&!t.ingredientsInProgress&&!t.sectionsInProgress&&!t.sectionsUploaded?(s(),m("div",Ct,[c("span",zt,T(t.title),1)])):u("",!0),!t.ingredientsInProgress&&!t.sectionsInProgress&&t.sectionsUploaded?(s(),m("div",Dt,[c("a",{target:"_blank",style:{"text-decoration-line":"none",color:"#000000","font-size":"1.2em",cursor:"pointer"},class:"text-medium-emphasis",onClick:_=>he(t)},T(t.title),9,Vt)])):u("",!0),(a.value.showTags||!t.uploaded||!t.tags||t.tags.length===0)&&!t.ingredientsInProgress&&!t.sectionsInProgress&&!t.imageInProgress?(s(),m("div",$t,[(s(!0),m(K,null,N(ve.value,_=>(s(),m("span",{key:_},[o(I,{class:"ml-1 mt-1",color:t.tags&&t.tags.includes(_)?"#183240":"#9f9f9f",onClick:Ft=>ge(t,_)},{default:d(()=>[w(T(_),1)]),_:2},1032,["color","onClick"])]))),128))])):u("",!0)]),_:2},1032,["color","border"])]),_:2},1024))),128)),g(P)?(s(),p(Q,{key:1,cols:"12",md:"4",sm:"6",lg:"3",xl:"2"},{default:d(()=>[o(F,{style:{width:"100%"},height:"100%","min-height":"80px",variant:"outlined",onClick:le,stacked:"",elevation:"0",border:"",active:g(P),"prepend-icon":"mdi-dice-multiple"},{default:d(()=>[...e[37]||(e[37]=[w("Nochmal mischen",-1)])]),_:1},8,["active"])]),_:1})):u("",!0)]),_:1}),e[41]||(e[41]=c("div",{style:{height:"70px"}},null,-1)),g(y)?u("",!0):(s(),p($e,{color:"rgb(89, 135, 184)",key:"test","prepend-icon":"mdi-cookie-plus-outline",app:!0,location:"right bottom",extended:"",size:"large"},{default:d(()=>[e[40]||(e[40]=c("span",null,"Rezept hinzuf√ºgen",-1)),o(Ve,{location:"top center",activator:"parent"},{default:d(()=>[o(F,{key:"1",onClick:e[9]||(e[9]=t=>ae(null)),variant:"outlined",color:"black",style:{"background-color":"white","font-size":"1.0em"},"prepend-icon":"mdi-image-plus"},{default:d(()=>[...e[38]||(e[38]=[w(" Per Bildanalyse ",-1)])]),_:1}),o(F,{key:"2",to:"/recipes/edit?id=new",variant:"outlined",style:{"background-color":"white","font-size":"1.0em"},"prepend-icon":"mdi-plus"},{default:d(()=>[...e[39]||(e[39]=[w(" Manuell erstellen ",-1)])]),_:1})]),_:1})]),_:1})),o(Ze,{onResult:e[10]||(e[10]=t=>ee.value=t)}),o(We,{onResult:e[11]||(e[11]=t=>te.value=t)}),o(Ue,{onResult:e[12]||(e[12]=t=>ne.value=t),title:"Bitte best√§tigen",message:"Soll das Rezept wirklich gel√∂scht werden?"})])}}},Nt=Fe(Ut,[["__scopeId","data-v-c98b73bb"]]);export{Nt as R};
