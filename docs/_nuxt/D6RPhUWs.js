import{a as ee,I as Ie,R as ue}from"./Bn-rIWDk.js";import{u as Ce}from"./kHIQvFep.js";import{M as xe,r as m,K as be,L as ye,u as Re,U as $e,o as ke,V as ze,g as v,x as c,y as s,B as l,C as a,P as o,O as h,W as T,D as r,z as i,X as G,Q as w,Y as H,J as Pe,N as Se,k as Fe,A as O,R as pe,S as _e,T as De}from"./gNNyPR7M.js";import{_ as we}from"./DlAUqK2U.js";const Ve={key:0},Ue={key:1},Te={key:2},Me={key:0},Ae={key:0},Be={key:1,class:"mt-3"},je={key:2,class:"mt-3"},Ee={class:"d-flex flex-no-wrap justify-space-between"},Ze={key:0,class:"mt-3"},Ne={key:1},Ke={class:"d-flex flex-no-wrap justify-space-between"},Ge={key:0,class:"mt-3"},He={key:1},Oe={key:0},We={key:1,class:"mt-3"},Je={key:2,class:"mt-3"},Qe={__name:"RecipeImportDialog",emits:["result"],setup(he,{emit:Q}){const j=xe(),C=m(null),x=m(null),y=m(null),de=be(),{authInfo:b}=ye(de),ne=Q;Re(),$e();const V=m(!1),U=m(null),re=m(null),p=m(null),R=m(!1),I=m(null),$=m(!1),X=m(null),Y=m(!1),q=m(null),L=m(!1),z=m(!1),E=m(!1),Z=m(!1);m(!0);const W=m(!0),J=m(!0),u=m([]),t=m([]);ke(async()=>{ne("result",async d=>(console.log("recipeInput",d),I.value=null,X.value=null,q.value=null,C.value=null,x.value=null,y.value=null,$.value=!1,Y.value=!1,L.value=!1,z.value=!1,d?(p.value=d.id,R.value=!0,d.sectionsUploaded?(console.log("sectionsUploaded"),J.value=!1):J.value=!0,W.value=!1):(p.value=ie(),W.value=!0,J.value=!0),V.value=!0,new Promise((e,_)=>{U.value=e,re.value=_})))}),ze(u,d=>{t.value=[...d].sort((e,_)=>e.name.localeCompare(_.name)),me(t.value)});function k(){V.value=!1,U.value(null)}function f(){V.value=!1,U.value(p.value)}function M(d){const e=d.target.files;e&&e.length>0&&(C.value=e[0]),te()}function P(d){const e=d.dataTransfer.files;e&&e.length>0&&(C.value=e[0]),te()}function A(d){const e=d.dataTransfer.files;if(e&&e.length>0){const _=Array.from(e);u.value=Array.from(_)}}async function te(){if(C.value){$.value=!0;try{I.value=(await ee.analyzeIngredients(b.value.userId,p.value,C.value)).data,$.value=!1}catch{$.value=!1}}}function B(d){const e=d.target.files;e&&e.length>0&&(x.value=e[0]),ae()}function le(d){const e=d.dataTransfer.files;e&&e.length>0&&(x.value=e[0]),ae()}async function ae(){if(console.log("uploadSectionsFile"),!!x.value&&!(!I.value&&!R.value)){Y.value=!0;try{X.value=(await ee.analyzeSections(b.value.userId,p.value,x.value)).data}catch{}}}function se(d){const e=d.target.files;e&&e.length>0&&(y.value=e[0]),oe()}function ce(d){const e=d.dataTransfer.files;e&&e.length>0&&(y.value=e[0]),oe()}async function oe(){if(console.log("uploadImageFile"),!!y.value&&!(!I.value&&!R.value)){L.value=!0;try{q.value=(await ee.uploadImage(b.value.userId,p.value,y.value)).data}catch{}}}function ie(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){const e=Math.random()*16|0;return(d==="x"?e:e&3|8).toString(16)})}function ve(d){const e=Array.from(d.target.files);u.value=e}async function me(d){E.value=!0;try{for(let e=0;e<d.length;e+=2){const _=d[e],D=d[e+1]||null,S=ie();await ee.analyzeIngredients(b.value.userId,S,_),await ee.analyzeSections(b.value.userId,S,D),console.log("analyzeIngredients file1 ",_.name),console.log("analyzeIngredients file2 ",D.name)}}catch{}E.value=!1,$.value=!1,setTimeout(()=>{V.value=!1,U.value(!0)},500)}return(d,e)=>{const _=v("v-btn"),D=v("v-card-title"),S=v("v-icon"),N=v("v-card-text"),K=v("v-card"),fe=v("v-card-actions"),ge=v("v-dialog");return s(),c("div",null,[l(ge,{"max-width":"600",modelValue:V.value,"onUpdate:modelValue":e[12]||(e[12]=F=>V.value=F)},{default:a(()=>[l(K,{class:"pa-4",style:{"background-color":"white"}},{default:a(()=>[l(D,null,{default:a(()=>[R.value?o("",!0):(s(),c("div",Ve,"Rezept hinzufÃ¼gen")),R.value?(s(),c("div",Ue,"Rezeptdaten importieren")):o("",!0),R.value?o("",!0):(s(),c("div",Te,[z.value?o("",!0):(s(),h(_,{key:0,variant:"plain",style:{"font-size":"0.7em"},onClick:e[0]||(e[0]=T(F=>z.value=!0,["prevent"])),"prepend-icon":"mdi-arrow-right"},{default:a(()=>[...e[13]||(e[13]=[r("Zum Multi-Dateiupload",-1)])]),_:1}))]))]),_:1}),l(N,null,{default:a(()=>[z.value?o("",!0):(s(),c("div",Me,[W.value?(s(),c("div",{key:0,onDrop:T(P,["prevent"]),onDragover:e[3]||(e[3]=T(()=>{},["prevent"]))},[l(K,{rounded:"",loading:$.value},{default:a(()=>[i("div",null,[i("div",null,[l(D,null,{default:a(()=>[...e[14]||(e[14]=[r(" Zutatenliste ",-1)])]),_:1}),l(N,null,{default:a(()=>[e[19]||(e[19]=r(" Erkennt sÃ¤mtliche Zutaten aus der Zutatenliste. Dabei wird insbesondere der Fokus auf die Menge und den Namen gelegt. ",-1)),!$.value&&!I.value&&!C.value?(s(),c("div",Ae,[i("div",null,[l(_,{class:"mt-3",rounded:"",variant:"outlined",text:"","prepend-icon":"mdi-cloud-upload-outline",onClick:e[1]||(e[1]=F=>d.$refs.uploadIngredients.click())},{default:a(()=>[...e[15]||(e[15]=[r("Bild hochladen ",-1)])]),_:1})]),i("div",null,[w(j).smAndDown.value?(s(),h(_,{key:0,class:"mt-1",rounded:"",variant:"outlined",text:"","prepend-icon":"mdi-camera-enhance",onClick:e[2]||(e[2]=F=>d.$refs.uploadIngredientsCamera.click())},{default:a(()=>[...e[16]||(e[16]=[r("Foto machen ",-1)])]),_:1})):o("",!0)])])):o("",!0),$.value&&!I.value?(s(),c("div",Be,[l(S,{icon:"mdi-sync"}),e[17]||(e[17]=r(" Analyse lÃ¤uft... ",-1))])):o("",!0),I.value?(s(),c("div",je,[l(S,{icon:"mdi-check"}),e[18]||(e[18]=r(" Upload abgeschlossen. ",-1))])):o("",!0)]),_:1})])]),G(i("input",{type:"file",id:"uploadIngredients",ref:"uploadIngredients",onChange:M,accept:"image/png,image/jpeg"},null,544),[[H,!1]]),G(i("input",{type:"file",id:"uploadIngredientsCamera",ref:"uploadIngredientsCamera",capture:"environment",onChange:M,accept:"image/png,image/jpeg"},null,544),[[H,!1]])]),_:1},8,["loading"])],32)):o("",!0),J.value?(s(),c("div",{key:1,class:"mt-2",onDrop:T(le,["prevent"]),onDragover:e[6]||(e[6]=T(()=>{},["prevent"]))},[l(K,null,{default:a(()=>[i("div",Ee,[i("div",null,[l(D,null,{default:a(()=>[...e[20]||(e[20]=[r(" TÃ¤tigkeitsschritte ",-1)])]),_:1}),l(N,null,{default:a(()=>[e[24]||(e[24]=r(" Erfasst alle Arbeitsschritte, den Titel, die Zubereitungsdauer und generiert SchlagwÃ¶rter. Wird im Hintergrund analysiert. ",-1)),x.value&&!X.value&&Y.value?(s(),c("div",Ze,[l(S,{icon:"mdi-check"}),e[21]||(e[21]=r(" Upload abgeschlossen. ",-1))])):o("",!0),x.value?o("",!0):(s(),c("div",Ne,[i("div",null,[l(_,{class:"mt-3",rounded:"",variant:"outlined",text:"",disabled:!I.value&&!R.value,"prepend-icon":"mdi-cloud-upload-outline",onClick:e[4]||(e[4]=F=>d.$refs.uploadSections.click())},{default:a(()=>[...e[22]||(e[22]=[r("Bild hochladen ",-1)])]),_:1},8,["disabled"])]),i("div",null,[w(j).smAndDown.value?(s(),h(_,{key:0,class:"mt-1",rounded:"",variant:"outlined",text:"",disabled:!I.value&&!R.value,"prepend-icon":"mdi-camera-enhance",onClick:e[5]||(e[5]=F=>d.$refs.uploadSectionsCamera.click())},{default:a(()=>[...e[23]||(e[23]=[r("Foto machen ",-1)])]),_:1},8,["disabled"])):o("",!0)])]))]),_:1})])]),G(i("input",{type:"file",id:"uploadSections",ref:"uploadSections",onChange:B,accept:"image/png,image/jpeg"},null,544),[[H,!1]]),G(i("input",{type:"file",id:"uploadSectionsCamera",ref:"uploadSectionsCamera",capture:"environment",onChange:B,accept:"image/png,image/jpeg"},null,544),[[H,!1]])]),_:1})],32)):o("",!0),i("div",{class:"mt-2",onDrop:T(ce,["prevent"]),onDragover:e[9]||(e[9]=T(()=>{},["prevent"]))},[l(K,null,{default:a(()=>[i("div",Ke,[i("div",null,[l(D,null,{default:a(()=>[...e[25]||(e[25]=[r(" Rezeptbild ",-1)])]),_:1}),l(N,null,{default:a(()=>[e[29]||(e[29]=r(" Hier kann ein Bild vom zubereiteten Rezept hochgeladen werden. ",-1)),y.value&&!q.value&&L.value?(s(),c("div",Ge,[l(S,{icon:"mdi-check"}),e[26]||(e[26]=r(" Upload abgeschlossen. ",-1))])):o("",!0),y.value?o("",!0):(s(),c("div",He,[i("div",null,[l(_,{class:"mt-3",rounded:"",variant:"outlined",text:"",disabled:!I.value&&!R.value,"prepend-icon":"mdi-cloud-upload-outline",onClick:e[7]||(e[7]=F=>d.$refs.uploadImage.click())},{default:a(()=>[...e[27]||(e[27]=[r("Bild hochladen ",-1)])]),_:1},8,["disabled"])]),i("div",null,[w(j).smAndDown.value?(s(),h(_,{key:0,class:"mt-1",rounded:"",variant:"outlined",text:"",disabled:!I.value&&!R.value,"prepend-icon":"mdi-camera-enhance",onClick:e[8]||(e[8]=F=>d.$refs.uploadImageCamera.click())},{default:a(()=>[...e[28]||(e[28]=[r("Foto machen ",-1)])]),_:1},8,["disabled"])):o("",!0)])]))]),_:1})])]),G(i("input",{type:"file",id:"uploadImage",ref:"uploadImage",onChange:se,accept:"image/png,image/jpeg"},null,544),[[H,!1]]),G(i("input",{type:"file",id:"uploadImageCamera",ref:"uploadImageCamera",capture:"environment",onChange:se,accept:"image/png,image/jpeg"},null,544),[[H,!1]])]),_:1})],32)])),z.value?(s(),c("div",{key:1,onDrop:T(A,["prevent"]),onDragover:e[11]||(e[11]=T(()=>{},["prevent"]))},[l(K,{rounded:"",loading:E.value},{default:a(()=>[i("div",null,[i("div",null,[l(D,null,{default:a(()=>[...e[30]||(e[30]=[r(" Multi-Dateiupload ",-1)])]),_:1}),l(N,null,{default:a(()=>[e[34]||(e[34]=r(" Erkennt sÃ¤mtliche Zutaten und TÃ¤tigkeitsschritte aus den hochgeladenen Bildern. Die Dateien werden immer pÃ¤rchenweise entsprechend der alphabetischen Reihenfolge des Dateinamens analysiert. ",-1)),!$.value&&!I.value&&!C.value?(s(),c("div",Oe,[i("div",null,[l(_,{class:"mt-3",rounded:"",variant:"outlined",text:"","prepend-icon":"mdi-cloud-upload-outline",onClick:e[10]||(e[10]=F=>d.$refs.uploadMulti.click())},{default:a(()=>[...e[31]||(e[31]=[r("Bilder hochladen ",-1)])]),_:1})])])):o("",!0),E.value&&!Z.value?(s(),c("div",We,[l(S,{icon:"mdi-sync"}),e[32]||(e[32]=r(" Upload lÃ¤uft... ",-1))])):o("",!0),Z.value?(s(),c("div",Je,[l(S,{icon:"mdi-check"}),e[33]||(e[33]=r(" Upload abgeschlossen. ",-1))])):o("",!0)]),_:1})])]),G(i("input",{type:"file",id:"uploadMulti",ref:"uploadMulti",multiple:"",onChange:ve,accept:"image/png,image/jpeg"},null,544),[[H,!1]])]),_:1},8,["loading"])],32)):o("",!0)]),_:1}),l(fe,null,{default:a(()=>[l(_,{onClick:k,rounded:"",variant:"outlined",text:"",color:"red"},{default:a(()=>[...e[35]||(e[35]=[r(" Abbrechen ",-1)])]),_:1}),l(_,{disabled:!I.value&&!R.value,onClick:f,rounded:"",variant:"outlined",text:""},{default:a(()=>[...e[36]||(e[36]=[r(" Fertig ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(Ie)])}}},Xe=we(Qe,[["__scopeId","data-v-d4c31028"]]),Ye={class:"pa-4"},qe={key:0,class:"mt-2"},Le={class:"mt-2"},en={key:0},nn={key:0,class:"text-center mt-8 text-high-emphasis",style:{width:"100%"}},tn={key:0,class:"overlay-top-left"},ln={key:0},an={key:1},sn={key:1,class:"overlay-top-left"},on={key:0,class:"px-1 pb-1",style:{"background-color":"rgba(93,93,93,0.66)"}},un={key:2,class:"overlay-bottom-right"},dn={style:{"background-color":"rgba(93,93,93,0.66)"},class:"px-1"},rn={key:3,class:"overlay-bottom-left pa-1",style:{"font-size":"0.8em","background-color":"rgba(93,93,93,0.66)"}},cn={key:0,class:"overlay-top-left"},vn={key:0,class:"mr-0",style:{"font-weight":"600","font-size":"1.6em"}},mn={key:1,class:"mr-1",style:{"font-weight":"600","font-size":"1.1em"}},fn={key:0,class:"ma-2"},gn={style:{"font-size":"1.2em"},class:"text-medium-emphasis"},pn={key:1,class:"ma-2"},_n=["onClick"],yn={__name:"RecipeOverview",setup(he){const Q=Ce(),j=be(),{recipes:C}=ye(Q),{authInfo:x,githubMode:y,lanAddress:de}=ye(j);xe(),Pe(),Se();const b=m({}),ne=m(null),V=m(null),U=m(!1),re=m([{title:"Mahlzeiten",open:!1,items:[{name:"FrÃ¼hstÃ¼ck",selected:!1,icon:"ðŸ³"},{name:"Vorspeise",selected:!1,icon:"ðŸ¥—"},{name:"Hauptmahlzeit",selected:!1,icon:"ðŸ½ï¸"},{name:"Dessert",selected:!1,icon:"ðŸ¨"},{name:"Kuchen",selected:!1,icon:"ðŸ°"},{name:"GebÃ¤ck",selected:!1,icon:"ðŸ¥"},{name:"Snack",selected:!1,icon:"ðŸ¿"},{name:"Grill",selected:!1,icon:"ðŸ”¥"},{name:"Weihnachten",selected:!1,icon:"ðŸŽ„"}]},{title:"Zutaten",open:!1,items:[{name:"Kartoffeln",selected:!1,icon:"ðŸ¥”"},{name:"Reis",selected:!1,icon:"ðŸš"},{name:"Pasta",selected:!1,icon:"ðŸ"},{name:"Risotto",selected:!1,icon:"ðŸš"},{name:"Pilze",selected:!1,icon:"ðŸ„"},{name:"KÃ¼rbis",selected:!1,icon:"ðŸŽƒ"},{name:"Gnocchi",selected:!1,icon:"ðŸ¥”"},{name:"SpÃ¤tzle",selected:!1,icon:"ðŸ"},{name:"Halloumi",selected:!1,icon:"ðŸ§€"},{name:"Tortellini",selected:!1,icon:"ðŸ¥"},{name:"Pesto",selected:!1,icon:"ðŸŒ¿"},{name:"KÃ¤se",selected:!1,icon:"ðŸ§€"}]},{title:"Zubereitungsart",open:!1,items:[{name:"Pizza",selected:!1,icon:"ðŸ•"},{name:"Auflauf",selected:!1,icon:"ðŸ¥˜"},{name:"Eintopf",selected:!1,icon:"ðŸ²"},{name:"Suppe",selected:!1,icon:"ðŸ¥£"},{name:"Salat",selected:!1,icon:"ðŸ¥—"},{name:"Bowl",selected:!1,icon:"ðŸ¥™"},{name:"Curry",selected:!1,icon:"ðŸ›"},{name:"Fast-Food",selected:!1,icon:"ðŸ”"},{name:"Gourmet",selected:!1,icon:"ðŸ‘¨â€ðŸ³"},{name:"Wrap",selected:!1,icon:"ðŸ¥™"},{name:"Sandwich",selected:!1,icon:"ðŸ¥ª"},{name:"Burger",selected:!1,icon:"ðŸ”"},{name:"Thermomix",selected:!1,icon:"âš™ï¸"},{name:"Flammkuchen",selected:!1,icon:"ðŸ•"}]},{title:"Fleischtyp",open:!1,items:[{name:"vegetarisch",selected:!1,icon:"ðŸ¥¦"},{name:"vegan",selected:!1,icon:"ðŸŒ±"},{name:"Tofu",selected:!1,icon:"ðŸ§ˆ"},{name:"Soja",selected:!1,icon:"ðŸ«˜"},{name:"Fisch",selected:!1,icon:"ðŸŸ"},{name:"Fleisch",selected:!1,icon:"ðŸ¥©"},{name:"HÃ¤hnchenfleisch",selected:!1,icon:"ðŸ—"},{name:"Rindfleisch",selected:!1,icon:"ðŸ¥©"},{name:"Schweinefleisch",selected:!1,icon:"ðŸ–"}]},{title:"LÃ¤nderkÃ¼che",open:!1,items:[{name:"italienisch",selected:!1,icon:"ðŸ‡®ðŸ‡¹"},{name:"mediterran",selected:!1,icon:"ðŸŒ¿"},{name:"mexikanisch",selected:!1,icon:"ðŸŒ®"},{name:"amerikanisch",selected:!1,icon:"ðŸŸ"},{name:"franzÃ¶sisch",selected:!1,icon:"ðŸ¥–"},{name:"afrikanisch",selected:!1,icon:"ðŸª˜"},{name:"arabisch",selected:!1,icon:"ðŸ§†"},{name:"deutsch",selected:!1,icon:"ðŸ¥¨"},{name:"griechisch",selected:!1,icon:"ðŸ¥™"},{name:"asiatisch",selected:!1,icon:"ðŸœ"},{name:"japanisch",selected:!1,icon:"ðŸ£"},{name:"koreanisch",selected:!1,icon:"ðŸ±"},{name:"spanisch",selected:!1,icon:"ðŸ¥˜"},{name:"russisch",selected:!1,icon:"ðŸ¥Ÿ"},{name:"thailÃ¤ndisch",selected:!1,icon:"ðŸ²"},{name:"tÃ¼rkisch",selected:!1,icon:"ðŸ¢"},{name:"vietnamesisch",selected:!1,icon:"ðŸœ"},{name:"indisch",selected:!1,icon:"ðŸ›"}]},{title:"Jahreszeiten",open:!1,items:[{name:"Winter",selected:!1,icon:"â„ï¸"},{name:"FrÃ¼hling",selected:!1,icon:"ðŸŒ¸"},{name:"Sommer",selected:!1,icon:"ðŸŒž"},{name:"Herbst",selected:!1,icon:"ðŸ‚"}]}]),p=m({duration:[0,120],rating:1,tags:[]});ke(async()=>{await j.getAuthInfo(),await z(),Z()});function R(u){return y.value?"https://mmhhhh.de/data/home/recipes/"+u.id+"/image.jpg?t="+(b.value[u.id]?b.value[u.id]:0):de.value+"api/"+x.value.userId+"/recipes/"+u.id+"/image?t="+(b.value[u.id]?b.value[u.id]:0)}const I=Fe(()=>{if(!C.value)return[];let u=JSON.parse(JSON.stringify(C.value));return u=u.sort((t,k)=>{const f=t.rating,M=k.rating,P=typeof f=="number"&&f!==null,A=typeof M=="number"&&M!==null;return!P&&!A?0:P?A?M-f:1:-1}).reverse(),u=u.filter(t=>{if(!t.duration&&p.value.duration[0]>0||t.duration<p.value.duration[0]||t.duration>p.value.duration[1]||y.value&&!t.uploaded)return!1;if(p.value.rating>0){const k=p.value.rating-1;if((t.rating||0)<k)return!1}return!(p.value.tags.length>0&&(!t.tags||!p.value.tags.every(k=>t.tags.includes(k))))}),u});function $(u){y.value?window.open("https://mmhhhh.de/recipes/go?id="+u.id,"_blank","noopener"):window.open("/recipes/go?id="+u.id,"_blank","noopener")}async function X(u){const t={voting:u.voting?u.voting+1:1};await ue.updateRecipe(x.value.userId,u.id,t),await z()}async function Y(u){u.uploaded=!0,await ue.uploadRecipeToGithub(x.value.userId,u.id),await z()}async function q(u){const t={voting:0};await ue.updateRecipe(x.value.userId,u.id,t),await z()}function L(u){const t=p.value.tags.indexOf(u);t===-1?p.value.tags.push(u):p.value.tags.splice(t,1)}async function z(){console.log("authInfo userId",x.value.userId),C.value=await Q.getAllRecipes(x.value.userId)}function E(u){ne.value(u).then(async t=>{t&&(u?setTimeout(()=>{const k=[u.id];Z(k)},200):Z())})}async function Z(u){if(await z(),C.value){const t=C.value.filter(f=>!f.ingredientsInProgress&&!f.sectionsInProgress&&!f.imageInProgress).map(f=>f.id);u&&u.forEach(f=>{t.includes(f)&&(b.value[f]?b.value[f]++:b.value[f]=1)});const k=C.value.filter(f=>f.ingredientsInProgress||f.sectionsInProgress||f.imageInProgress).map(f=>f.id);k.length>0&&(await new Promise(f=>setTimeout(f,2e3)),await Z(k))}}async function W(u){await ue.deleteRecipe(x.value.userId,u),await z()}function J(u){V.value(u)}return(u,t)=>{const k=v("v-btn"),f=v("v-app-bar-title"),M=v("v-app-bar"),P=v("v-list-item"),A=v("v-divider"),te=v("v-range-slider"),B=v("v-icon"),le=v("v-rating"),ae=v("v-expansion-panel-title"),se=v("v-chip"),ce=v("v-chip-group"),oe=v("v-expansion-panel-text"),ie=v("v-expansion-panel"),ve=v("v-expansion-panels"),me=v("v-navigation-drawer"),d=v("v-progress-circular"),e=v("v-list-item-title"),_=v("v-list"),D=v("v-menu"),S=v("v-toolbar"),N=v("v-img"),K=v("v-card"),fe=v("v-col"),ge=v("v-row"),F=v("v-fab");return s(),c("div",null,[l(M,null,{default:a(()=>[l(f,null,{default:a(()=>[l(k,{to:"/recipes","prepend-icon":"mdi-chef-hat",variant:"plain"},{default:a(()=>[...t[7]||(t[7]=[r("Cookio",-1)])]),_:1})]),_:1}),w(y)?o("",!0):(s(),h(k,{key:0,"prepend-icon":"mdi-filter-outline",to:"/planner"},{default:a(()=>[...t[8]||(t[8]=[r(" Mahlzeiten-Planer ",-1)])]),_:1})),l(k,{"prepend-icon":"mdi-filter-outline",onClick:t[0]||(t[0]=n=>U.value=!U.value)},{default:a(()=>[...t[9]||(t[9]=[r(" Filter ",-1)])]),_:1})]),_:1}),l(me,{modelValue:U.value,"onUpdate:modelValue":t[3]||(t[3]=n=>U.value=n),location:"right",width:"250"},{prepend:a(()=>[l(P,{lines:"two","prepend-icon":"mdi-text-box-search-outline",title:"Filter"})]),default:a(()=>[l(A),i("div",Ye,[i("div",null,[t[10]||(t[10]=i("h4",null,[r("Dauer "),i("span",{style:{"font-size":"0.8em"}},"(Min.)")],-1)),l(te,{modelValue:p.value.duration,"onUpdate:modelValue":t[1]||(t[1]=n=>p.value.duration=n),elevation:"3",max:"120",step:"10","thumb-label":"always",class:"mt-8 px-2","hide-details":""},null,8,["modelValue"])]),l(A,{class:"mt-3"}),w(y)?o("",!0):(s(),c("div",qe,[t[11]||(t[11]=i("h4",null,"Bewertung",-1)),l(le,{modelValue:p.value.rating,"onUpdate:modelValue":t[2]||(t[2]=n=>p.value.rating=n),hover:"",length:"6",size:"40","active-color":"primary",class:"py-3"},{item:a(n=>[l(B,{color:n.isFilled?n.index===0?"#92aac5":"#1e3f66":"grey-lighten-1",size:"large"},{default:a(()=>[r(O(n.isFilled&&n.index===0?"mdi-star-off":"mdi-star"),1)]),_:2},1032,["color"])]),_:1},8,["modelValue"])])),l(A),i("div",Le,[(s(!0),c(pe,null,_e(re.value,n=>(s(),c("div",{key:n.title},[l(ve,{multiple:""},{default:a(()=>[l(ie,{elevation:"0",modelValue:n.open,"onUpdate:modelValue":g=>n.open=g,class:"pa-0 ma-0"},{default:a(()=>[l(ae,{class:"pa-0",static:""},{default:a(()=>[i("div",null,[i("h4",null,[r(O(n.title)+" ",1),n.items.some(g=>p.value.tags.includes(g.name))?(s(),c("span",en,"("+O(n.items.filter(g=>p.value.tags.includes(g.name)).length)+")",1)):o("",!0)])])]),_:2},1024),l(oe,{class:"no-padding-content"},{default:a(()=>[l(ce,{"selected-class":"selected-chip",column:"",multiple:""},{default:a(()=>[(s(!0),c(pe,null,_e(n.items,g=>(s(),h(se,{key:g.name,text:g.icon+" "+g.name,value:g.name,variant:p.value.tags.includes(g.name)?"elevated":"tonal",onClick:hn=>L(g.name)},null,8,["text","value","variant","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]))),128))])])]),_:1},8,["modelValue"]),l(ge,{class:"text-center"},{default:a(()=>[w(I).length===0?(s(),c("div",nn,[i("div",null,[l(B,{icon:"mdi-chef-hat",size:"50"})]),t[12]||(t[12]=i("div",{style:{"font-size":"1.8em"}},"Keine Rezepte gefunden!",-1))])):o("",!0),(s(!0),c(pe,null,_e(w(I),n=>(s(),h(fe,{cols:"12",md:"4",sm:"6",lg:"3",xl:"2",key:n.id},{default:a(()=>[l(K,{class:"mx-auto","max-width":"374"},{default:a(()=>[(s(),h(N,{class:"position-relative",height:"200",src:R(n),key:b.value[n.id]?b.value[n.id]:0,color:"grey",cover:""},{default:a(()=>[n.ingredientsInProgress||n.sectionsInProgress||n.imageInProgress?(s(),c("div",tn,[n.sectionsInProgress||n.ingredientsInProgress?(s(),c("span",ln,[i("span",null,[l(d,{indeterminate:"",color:"white"})]),t[13]||(t[13]=r()),t[14]||(t[14]=i("span",null,"Wird noch analysiert...",-1))])):o("",!0),n.imageInProgress?(s(),c("span",an,[i("span",null,[l(d,{indeterminate:"",color:"white"})]),t[15]||(t[15]=r()),t[16]||(t[16]=i("span",null,"Bild wird generiert...",-1))])):o("",!0)])):o("",!0),!w(y)&&(n.rating||!n.uploaded)?(s(),c("div",sn,[n.rating?(s(),c("div",on,[l(le,{modelValue:n.rating,"onUpdate:modelValue":g=>n.rating=g,hover:"",length:"5",size:"20",readonly:"",class:"mb-1"},null,8,["modelValue","onUpdate:modelValue"])])):o("",!0)])):o("",!0),n.duration?(s(),c("div",un,[i("div",dn,[i("b",null,O(n.duration)+" Min.",1)])])):o("",!0),!n.duration&&!n.tags&&!(n.sectionsInProgress||n.ingredientsInProgress||n.imageInProgress)?(s(),c("div",rn,[i("div",null,[!n.duration&&!n.tags&&!(n.sectionsInProgress||n.ingredientsInProgress||n.imageInProgress)?(s(),h(B,{key:0,icon:"mdi-information-slab-circle"})):o("",!0),t[17]||(t[17]=r()),t[18]||(t[18]=i("b",null,"Nur Zutatenliste vorhanden!",-1))])])):o("",!0),l(S,{color:"transparent"},{append:a(()=>[!w(y)&&!n.uploaded?(s(),c("div",cn,[l(k,{icon:"mdi-upload-off",onClick:g=>Y(n),style:{"background-color":"rgba(93,93,93,0.66)"}},null,8,["onClick"])])):o("",!0),!w(y)&&!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(s(),h(k,{key:1,color:"white",onClick:g=>X(n),style:{"background-color":"rgba(93,93,93,0.66)"}},{default:a(()=>[n.voting&&n.voting>0?(s(),c("span",vn,O(n.voting),1)):o("",!0),n.voting&&n.voting>0?(s(),c("span",mn,"x")):o("",!0),l(B,{icon:n.voting&&n.voting>0?"mdi-thumb-up":"mdi-thumb-up-outline",size:"30"},null,8,["icon"])]),_:2},1032,["onClick"])):o("",!0),!w(y)&&n.sectionsInProgress||n.ingredientsInProgress||n.imageInProgress?(s(),h(k,{key:2,icon:"mdi-stop-circle-outline",color:"white",onClick:g=>W(n.id),variant:"plain"},null,8,["onClick"])):o("",!0),l(D,null,{activator:a(({props:g})=>[!n.imageInProgress&&!n.sectionsInProgress&&!n.ingredientsInProgress?(s(),h(k,De({key:0,icon:"mdi-dots-vertical",color:"white"},{ref_for:!0},g),{default:a(()=>[l(B,{icon:"mdi-dots-vertical",size:"35"})]),_:1},16)):o("",!0)]),default:a(()=>[!n.imageInProgress&&!n.sectionsInProgress?(s(),h(_,{key:0},{default:a(()=>[n.duration||n.tags?(s(),h(P,{key:0,onClick:g=>$(n)},{default:a(()=>[l(e,null,{default:a(()=>[...t[19]||(t[19]=[r("Rezept zubereiten",-1)])]),_:1})]),_:1},8,["onClick"])):o("",!0),w(y)?o("",!0):(s(),h(P,{key:1,onClick:g=>E(n)},{default:a(()=>[l(e,null,{default:a(()=>[...t[20]||(t[20]=[r("Daten importieren",-1)])]),_:1})]),_:1},8,["onClick"])),l(P,{onClick:g=>J(n.id)},{default:a(()=>[l(e,null,{default:a(()=>[...t[21]||(t[21]=[r("Zutaten einkaufen",-1)])]),_:1})]),_:1},8,["onClick"]),!w(y)&&n.voting&&n.voting>0?(s(),h(P,{key:2,onClick:g=>q(n)},{default:a(()=>[l(e,null,{default:a(()=>[...t[22]||(t[22]=[r("Likes lÃ¶schen",-1)])]),_:1})]),_:1},8,["onClick"])):o("",!0),w(y)?o("",!0):(s(),h(P,{key:3,onClick:g=>W(n.id)},{default:a(()=>[l(e,null,{default:a(()=>[...t[23]||(t[23]=[r("LÃ¶schen",-1)])]),_:1})]),_:1},8,["onClick"]))]),_:2},1024)):o("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["src"])),!n.sectionsInProgress&&!n.sectionsUploaded?(s(),c("div",fn,[i("span",gn,O(n.title),1)])):o("",!0),(n.duration||n.tags)&&!n.ingredientsInProgress&&!n.sectionsInProgress?(s(),c("div",pn,[i("a",{target:"_blank",style:{"text-decoration-line":"none",color:"#000000","font-size":"1.2em",cursor:"pointer"},class:"text-medium-emphasis",onClick:g=>$(n)},O(n.title),9,_n)])):o("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1}),t[24]||(t[24]=i("div",{style:{height:"70px"}},null,-1)),w(y)?o("",!0):(s(),h(F,{color:"rgb(89, 135, 184)",key:"test","prepend-icon":"mdi-cookie-plus-outline",app:!0,location:"right bottom",text:"Rezept hinzufÃ¼gen",extended:"",size:"large",onClick:t[4]||(t[4]=n=>E(null))})),l(Xe,{onResult:t[5]||(t[5]=n=>ne.value=n)}),l(Ie,{onResult:t[6]||(t[6]=n=>V.value=n)})])}}},kn=we(yn,[["__scopeId","data-v-aff51e6b"]]),Cn={__name:"index",setup(he){return ke(async()=>{}),(Q,j)=>(s(),h(kn))}};export{Cn as default};
